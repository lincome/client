{"version":3,"sources":["UIPDK_ChooseCard.js"],"names":["app","require","cc","Class","extends","subGameName","properties","card01","Node","card02","card03","card04","OnCreateInit","ComTool","RoomMgr","toUpperCase","OnShow","huPaiList","active","count","length","i","cardType","cardPath","StringAddNumSuffix","imageName","join","wndNode","GetWndNode","CardType","SetWndProperty","OnClick","btnName","btnNode","startsWith","Click_EmitAnGang","ErrLog","sendCardID","SendPosAction","ShareDefine","OpType_AnGang","FormManager","GetFormComponentByFormName","CloseSpTiShi","CloseForm"],"mappings":";;;;;;AAAA;;;AAGA,IAAIA,MAAMC,QAAQ,SAAR,CAAV;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASH,QAAQD,IAAIK,WAAJ,GAAkB,WAA1B,CADJ;;AAGLC,gBAAY;AACRC,gBAAOL,GAAGM,IADF;AAERC,gBAAOP,GAAGM,IAFF;AAGRE,gBAAOR,GAAGM,IAHF;AAIRG,gBAAOT,GAAGM;AAJF,KAHP;;AAULI,kBAAc,wBAAY;AACtB,aAAKC,OAAL,GAAeb,IAAIA,IAAIK,WAAJ,GAAkB,UAAtB,GAAf;AACA,aAAKS,OAAL,GAAed,IAAIA,IAAIK,WAAJ,CAAgBU,WAAhB,KAA8B,SAAlC,GAAf;AACH,KAbI;;AAeLC,YAAQ,gBAAUC,SAAV,EAAqB;AACzB,aAAKV,MAAL,CAAYW,MAAZ,GAAqB,CAArB;AACA,aAAKT,MAAL,CAAYS,MAAZ,GAAqB,CAArB;AACA,aAAKR,MAAL,CAAYQ,MAAZ,GAAqB,CAArB;AACA,aAAKP,MAAL,CAAYO,MAAZ,GAAqB,CAArB;;AAEA,YAAIC,QAAQF,UAAUG,MAAtB;AACA,aAAI,IAAIC,IAAI,CAAZ,EAAeA,IAAIF,KAAnB,EAA0BE,GAA1B,EAA8B;AAC7B,gBAAIC,WAAWL,UAAUI,CAAV,CAAf;AACH,gBAAIE,WAAW,KAAKV,OAAL,CAAaW,kBAAb,CAAgC,MAAhC,EAAwCH,IAAE,CAA1C,EAA6C,CAA7C,CAAf;AACA,gBAAII,YAAY,CAAC,UAAD,EAAaR,UAAUI,CAAV,CAAb,EAA2BK,IAA3B,CAAgC,EAAhC,CAAhB;AACI,gBAAIC,UAAU,KAAKC,UAAL,CAAgBL,QAAhB,CAAd;AACAI,oBAAQE,QAAR,GAAmBP,QAAnB;;AAED,iBAAKQ,cAAL,CAAoBP,QAApB,EAA8B,QAA9B,EAAwC,CAAxC;AACA,iBAAKO,cAAL,CAAoBP,QAApB,EAA8B,OAA9B,EAAuCE,SAAvC;AACH;AACD,KAhCI;;AAkCL;AACAM,aAAQ,iBAASC,OAAT,EAAkBC,OAAlB,EAA0B;AAC9B,YAAGD,QAAQE,UAAR,CAAmB,MAAnB,CAAH,EAA8B;AAC1B,iBAAKC,gBAAL,CAAsBF,OAAtB;AACH,SAFD,MAGK;AACD,iBAAKG,MAAL,CAAY,+BAAZ,EAA6CJ,OAA7C;AACH;AACJ,KA1CI;AA2CLG,sBAAiB,0BAAUF,OAAV,EAAmB;AACnC,YAAIX,WAAWW,QAAQJ,QAAvB;AACG,YAAIQ,aAAa,CAACf,QAAD,EAAW,IAAX,EAAiBI,IAAjB,CAAsB,EAAtB,CAAjB;AACA,aAAKZ,OAAL,CAAawB,aAAb,CAA2BD,UAA3B,EAAuC,KAAKE,WAAL,CAAiBC,aAAxD;AACA,aAAKC,WAAL,CAAiBC,0BAAjB,CAA4C,UAA5C,EAAwDC,YAAxD;AACA,aAAKC,SAAL;AACH;AAjDI,CAAT","file":"UIPDK_ChooseCard.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\script\\game\\PDK\\ui","sourcesContent":["/*\r\n UIChooseCard 界面基类(又FormManager控制创建和销毁)\r\n */\r\nvar app = require(\"pdk_app\");\r\ncc.Class({\r\n    extends: require(app.subGameName + \"_BaseForm\"),\r\n\r\n    properties: {\r\n        card01:cc.Node,\r\n        card02:cc.Node,\r\n        card03:cc.Node,\r\n        card04:cc.Node\r\n    },\r\n\r\n    OnCreateInit: function () {\r\n        this.ComTool = app[app.subGameName + \"_ComTool\"]();\r\n        this.RoomMgr = app[app.subGameName.toUpperCase()+\"RoomMgr\"]();\r\n    },\r\n\r\n    OnShow: function (huPaiList) {\r\n        this.card01.active = 0;\r\n        this.card02.active = 0;\r\n        this.card03.active = 0;\r\n        this.card04.active = 0;\r\n\r\n        let count = huPaiList.length;\r\n        for(let i = 0; i < count; i++){\r\n\t        let cardType = huPaiList[i];\r\n\t\t    let cardPath = this.ComTool.StringAddNumSuffix(\"card\", i+1, 2);\r\n\t\t    let imageName = [\"CardShow\", huPaiList[i]].join(\"\");\r\n\t         let wndNode = this.GetWndNode(cardPath);\r\n\t         wndNode.CardType = cardType;\r\n\r\n\t        this.SetWndProperty(cardPath, \"active\", 1);\r\n\t        this.SetWndProperty(cardPath, \"image\", imageName);\r\n\t    }\r\n    },\r\n\r\n    //---------点击函数---------------------\r\n    OnClick:function(btnName, btnNode){\r\n        if(btnName.startsWith(\"card\")){\r\n            this.Click_EmitAnGang(btnNode);\r\n        }\r\n        else {\r\n            this.ErrLog(\"OnClick btnName:%s not find  \", btnName);\r\n        }\r\n    },\r\n    Click_EmitAnGang:function (btnNode) {\r\n\t    let cardType = btnNode.CardType;\r\n        let sendCardID = [cardType, \"01\"].join(\"\");\r\n        this.RoomMgr.SendPosAction(sendCardID, this.ShareDefine.OpType_AnGang);\r\n        this.FormManager.GetFormComponentByFormName(\"UICard01\").CloseSpTiShi();\r\n        this.CloseForm();\r\n    },\r\n});"]}
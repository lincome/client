{"version":3,"sources":["UIPDK_Play.js"],"names":["app","require","cc","Class","extends","subGameName","properties","btn_ready","Node","btn_weixin","btn_cancel","btn_go","handCards","allCards","gameBtn","btn_tip","btn_pass","btn_outCard","gameMultiple","btn_robDoor","btn_notRobDoor","btn_openCard","boom_Ani","lianDui_Ani","plane_Ani","dragon_Ani","labelRoomId","Label","labeiWanfa","lb_jushu","roomInfo","headPrefab","Prefab","cardPrefab","bsPrefab","giftPrefabs","giftNode","btn_voice","btn_chat","btn_change","gameBg","SpriteFrame","gameLogo","logoNode","BgNode","UIInvitation","resVersion","OnCreateInit","RoomMgr","toUpperCase","Room","HeroManager","FormManager","SceneManager","UtilsWord","PokerCard","RoomPosMgr","RoomSet","LogicPDKGame","ShareDefine","Define","invitationNode","instantiate","node","addChild","isFirstEnter","RegEvent","Event_PosContinueGame","Event_DissolveRoom","Event_StartVoteDissolve","Event_ChangePlayerNum","Event_PosLeave","Event_PosUpdate","Event_PosReadyChg","Event_SetStart","Event_SetEnd","Event_ExitRoomSuccess","Event_RoomEnd","OnPack_AutoStart","Event_ChatMessage","Event_ShowHandCard","Event_OpCard","Event_ChangeStatus","Event_AddDouble","Event_OpenCard","Event_RobClose","Event_CodeError","Event_GameGift","Event_StopTime","Event_SportsPointEnough","Event_SportsPointNotEnough","Event_SportsPointThresholdEnough","Event_SportsPointThresholdNotEnough","Left","cardSpcedX","on","Event_TouchStart","Event_TouchEnd","EventType","TOUCH_START","OnTouchStart","TOUCH_MOVE","OnTouchMove","TOUCH_END","OnTouchEnd","TOUCH_CANCEL","OnTouchCancel","getComponent","Animation","OnAniBoomFinished","OnAniPlaneFinished","OnAniDragonFinished","i","ShutDow_Ani","GetWndNode","OnAniShutDowFinished","InitData","AddCardPrefab","game","EVENT_HIDE","OnEventHide","bind","EVENT_SHOW","OnEventShow","event","msg","SetWaitForConfirm","ConfirmOK","ShowSysMsg","HideClientUseTime","allCardIdx","hanCardIdx","player1Idx","player2Idx","player3Idx","card3Idx","firstTurn","tipCount","lastCircleEnd","openCardInfo","notUp","isBackGround","BackTime","that","active","ShowAllCard","MaxHandCard","card","name","toString","MaxPlayer","outCardList","getChildByName","j","openCardList","downList","GetHandCard","children","length","cardValue","cardNode","y","bSelected","CheckSelected","MaxRisePosY","isLastCard","ShowCard","canOutCard","ChangeCardNum","dataPos","len","uiPos","GetUIPosByDataPos","cardNum","GetRoomWanfa","SEVER_SHOWCARDNUM","totalNum","string","ShowWarningByPos","GetClientPos","warning","play","stop","SetSeat01OutCardPos","posX","x","SetAniPos","setPosition","v2","PlayCardSound","pos","opCardType","cardList","circleEnd","sex","GetPlayerSex","value","GetCardValue","SoundManager","PlaySound","randomNum","Math","floor","random","self","argDict","sendPos","recivePos","productId","sendHead","GetComponentByPos","reciveHead","giftIdx","tempNode","ani","defaultClip","bMove","OnGiftAniEnd","vec1","convertToWorldSpaceAR","vec2","convertToNodeSpaceAR","action","sequence","moveTo","callFunc","GiftMoveEnd","runAction","sender","useData","nodes","aniState","getAnimationState","isPlaying","removeFromParent","CheckOpCardPosIsLeave","opPosInfo","GetPlayerInfoByPos","roomID","GetEnterRoomID","isShowLeave","SendPack","console","log","data","time","GetClockTime","runWaitSec","secTotal","SortCardByMax","SetHandCard","privateList","ClearPlayerTable","turnEnd","ClearCardData","SetRoomSetProperty","isFirstOp","HideClockByPos","SetCardData","ShowOutCard","DeleteOpenCardList","CheckDragon","isFlash","ShowForm","dataSecTotal","OutPokerCard","ClearForbiddenTouch","isSetEnd","nextPos","IsHaveBoom","GetCardType","isOut","tipArray","GetTipCard","myHangCard","serverPack","GetEnterRoom","GetRoomProperty","scheduleOnce","ClientOpCardByType","ShowBtnOutCard","array","isAutoPass","MinTickTime","ForbiddenTouch","ShowBtnPass","SEVER_BMUST","ShowAllGameBtn","ShowBtnTipAndOutCard","Click_btn_tip","GetUICardComponentByPos","ShowUseTime","SetTimeOpen","StartTickTime","isCanChoose","pokerList","cardType","GetLastCardType","CheckOnlyBoom","lastValue","poker","touchTag","isHas","list","indexOf","ChangeSelectCard","SEVER_MINGCARD","splice","ShowOpenCard","opPos","GetRoomSetProperty","robSuccess","SEVER_ROBDOOR","StartGame","addDouble","ShowAddDouble","OpenCard","state","SetState_End","HideAllOpenCard","pass","includes","typeNode","find","outCardNodeList","HideAllOutCard","outCard","HideAllPass","HideAllClock","clock","HideAllWarning","HideChild","child","HideAllHandCard","shoupai","GetRoomShouPai","HideAllCardNum","poker_back","ClearPlayerState","second","MaxTickTime","Click_btn_pass","clientCards","Click_btn_outCard","tick","unschedule","CallEverySecond","schedule","Button","interactable","HideAllGameBtn","HideAllBsNode","CheckShouPai","firstOpCard","parent","GetSecTotal","SEVER_FIRST3","ChooseDouble","count","ReInRoom","FaPaiFinish","SendFaPaiFinish","pokers","sort","a","b","realPoker","FaPaiAction","baseTime","realValue","GetPokeCard","clientPos","setInfo","GetRoomSetInfo","SEVER_FANGZUOBI","room","kexuanwanfa","GetRoomConfigByProperty","AddCardAction","wndNode","isChoose","moveIndex","lastMoveIndex","moveX","target","touch","getLocation","startsWith","minX","width","maxX","startIndex","isEnd","endIndex","Click_card","cardArray","GetTipCardSlCard","GetSelectCard","checkCount","clickNode","cardIdx","substring","SetCardSelected","parseInt","DeleteCardSelected","AddHead","ClearHead","posList","playerCount","idx","path","head","headScript","Init","headNode","OnClose","HideAll","unscheduleAllCallbacks","InitGameStateCommon","InitHandCard","playerAll","GetRoomAllPlayerInfo","playerAllList","Object","keys","player","posInfo","info","pid","InitCardNum","cards","openCard","OnShow","sys","isNative","getLocalVersion","isCoinRoom","IsShowVoice","CheckUpdateNotice","IsShowChat","roomCfg","GetRoomConfig","clubId","unionId","ExitGame","error","GameBg","LocalDataManager","GetConfigProperty","ChangeBg","SetConfigProperty","GameBackMusic","PlayMusic","StopSceneMusic","Layout","spacingX","disslove","roomState","setID","current","fangjian","WanFa","GetRoomPosMgr","joinPlayerCount","posAgreeList","RoomState_Init","isAuto","ShowAutoIcon","UpdatePlayerScore","SetState_Init","SetState_Playing","ShowUseTimeByInfo","opType","ScheduleTime","lastOpPos","clientPlayerInfo","RefreshRoomShow","setEnd","onShowGame1","color","onShowGame2","GameBgID","isAutoReady","gaoji","xianshi","GetRoomXianShi","SendGetRoomInfo","ShowPlayerReady","HideAllZhunBeiLabel","setReady","ShowOrHideZhunbei","isShow","HidePlayerAllBtn","HideAllAni","OnClickForm","OnClick","btnName","btnNode","Click_btn_go","Click_btn_ready","Click_btn_cancel","Click_btn_weixin","SendAddDouble","SendRoobDoor","SendOpenCard","zIndex","Click_btn_jiesan","PlayerCount","GetRoomPlayerCount","IsFormShow","CloseForm","Click_btn_change","ErrLog","Msg","Code","SportsPointNotEnough","OpCard_Error","ApplyDissolve","NotAllow","roomPosMgr","RoomState_End","ClientPos","posName","RoomState_Playing","jiesan","SetWaitForConfirmForm","OnConFirm","ShowConfirm","Confirm","msgID","createType","IsClientIsCreater","success","SendOpCard","IsDownPosSingleCard","playerNum","GetPosCount","GetDownPosCardNum","posTag","GetClientDownPos","GetClientFacePos","GetClientUpPos","isSelectCard","handeCardList","aValue","bValue","SEVER_FIRST3NOCHU3","SEVER_SHOUJUFIRST3","SEVER_BMUSTBOMB","IsDismantleBoom","TransformValueToS","CheckSelCardListInHandCard","CheckSelCardListOrCardList","daiNum","GetDaiNum","SendReady","SendUnReady","OnEvent","cardsCount","SetRoomData","senderPid","quickID","content","playerList","playerListKey","initiatorPos","playerSex","InitHeroSex","soundName","i18n","t","join","CheckContentDirty","ShowFaceContent","ShowChatContent","OnEffectEnd","wndPath","effectName","Sex","HeroSex_Boy","HeroSex_Girl","beShutDowList","firstOpPos","UpdatePlayerSportsPoint","ownnerForce","IsClientIsOwner","dissolveNoticeType","UpDateLabJiFen","UpDateLabSportsPoint","roomSetID","ReadyState","SetPlayerReadyInfo","HidePlayerReady","HideClientReady","IsClientReady","isClientReady","JoinPlayerFinish","tempNum","ShowPlayerOk","ShowPlayerYaoQing","SetHandCardScale","scale","type","msgArg","cbArg","ConfirmManager","clickType","backArgList","SendDissolveRoom","SendExitRoom","startRecord","setTouchEnd","stopRecord","curTime","Date","getTime","lostHearTime","LostHearTime","outGameTime","isConnectIng","Disconnect","bStartReConnect","StartReConnect","ReConnectByTipSureBtn","StartTimer","StopTimer","selCardList","handCardListTemp","handCardList","push","Remove","selHandCardsList"],"mappings":"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","file":"UIPDK_Play.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\script\\game\\PDK","sourcesContent":["var app = require(\"pdk_app\");\r\ncc.Class({\r\n    extends: require(app.subGameName + \"_BaseForm\"),\r\n\r\n    properties: {\r\n        btn_ready: cc.Node,\r\n        btn_weixin: cc.Node,\r\n        btn_cancel: cc.Node,\r\n        btn_go: cc.Node,\r\n        handCards: cc.Node,\r\n        allCards: cc.Node,\r\n        gameBtn: cc.Node,\r\n        btn_tip: cc.Node,\r\n        btn_pass: cc.Node,\r\n        btn_outCard: cc.Node,\r\n        gameMultiple: cc.Node,\r\n        btn_robDoor: cc.Node,\r\n        btn_notRobDoor: cc.Node,\r\n        btn_openCard: cc.Node,\r\n        boom_Ani: cc.Node,\r\n        lianDui_Ani: cc.Node,\r\n        plane_Ani: cc.Node,\r\n        dragon_Ani: cc.Node,\r\n\r\n        labelRoomId: cc.Label, //特殊处理的房间信息显示\r\n        labeiWanfa: cc.Label,\r\n        lb_jushu: cc.Label,\r\n        roomInfo: cc.Node,\r\n\r\n        headPrefab: cc.Prefab,\r\n        cardPrefab: cc.Prefab,\r\n        bsPrefab: cc.Prefab,\r\n\r\n        giftPrefabs: [cc.Prefab],\r\n        giftNode: cc.Node,\r\n\r\n        btn_voice: cc.Node,\r\n        btn_chat: cc.Node,\r\n\r\n        btn_change: cc.Node,\r\n\r\n        gameBg: [cc.SpriteFrame],\r\n        gameLogo: [cc.SpriteFrame],\r\n        logoNode: cc.Node,\r\n        BgNode: cc.Node,\r\n\r\n        UIInvitation: cc.Prefab,\r\n        resVersion: cc.Label,\r\n    },\r\n\r\n    OnCreateInit: function() {\r\n        this.RoomMgr = app[app.subGameName.toUpperCase() + \"RoomMgr\"]();\r\n        this.Room = app[app.subGameName.toUpperCase() + \"Room\"]();\r\n        this.HeroManager = app[app.subGameName + \"_HeroManager\"]();\r\n        this.FormManager = app[app.subGameName + \"_FormManager\"]();\r\n        this.SceneManager = app[app.subGameName + \"_SceneManager\"]();\r\n        this.UtilsWord = app[app.subGameName + \"_UtilsWord\"]();\r\n        this.PokerCard = app[app.subGameName + \"_PokerCard\"]();\r\n        this.RoomPosMgr = app[app.subGameName.toUpperCase() + \"RoomPosMgr\"]();\r\n        this.RoomSet = app[app.subGameName.toUpperCase() + \"RoomSet\"]();\r\n        this.LogicPDKGame = app[\"Logic\" + app.subGameName.toUpperCase() + \"Game\"]();\r\n        this.ShareDefine = app[app.subGameName + \"_ShareDefine\"]();\r\n        this.Define = app[app.subGameName.toUpperCase() + \"Define\"]();\r\n\r\n        this.invitationNode = cc.instantiate(this.UIInvitation);\r\n        this.node.addChild(this.invitationNode);\r\n\r\n        //是否第一次进入\r\n        this.isFirstEnter = true;\r\n\r\n        //公共消息\r\n        this.RegEvent(app.subGameName.toUpperCase() + \"_PosContinueGame\", this.Event_PosContinueGame);\r\n        this.RegEvent(app.subGameName.toUpperCase() + \"_DissolveRoom\", this.Event_DissolveRoom);\r\n        this.RegEvent(app.subGameName.toUpperCase() + \"_StartVoteDissolve\", this.Event_StartVoteDissolve); //发起房间结算投票\r\n        this.RegEvent(app.subGameName.toUpperCase() + \"_ChangePlayerNum\", this.Event_ChangePlayerNum); //发起房间修改人数\r\n        this.RegEvent(app.subGameName.toUpperCase() + \"_PosLeave\", this.Event_PosLeave);\r\n        this.RegEvent(app.subGameName.toUpperCase() + \"_PosUpdate\", this.Event_PosUpdate);\r\n        this.RegEvent(app.subGameName.toUpperCase() + \"_PosReadyChg\", this.Event_PosReadyChg);\r\n\r\n        //游戏消息\r\n        this.RegEvent(app.subGameName.toUpperCase() + \"SetStart\", this.Event_SetStart);\r\n        this.RegEvent(app.subGameName.toUpperCase() + \"SetEnd\", this.Event_SetEnd);\r\n        this.RegEvent('ExitRoomSuccess', this.Event_ExitRoomSuccess);\r\n        this.RegEvent(\"RoomEnd\", this.Event_RoomEnd);\r\n        this.RegEvent(\"SPlayer_Trusteeship\", this.OnPack_AutoStart);\r\n        this.RegEvent(\"ChatMessage\", this.Event_ChatMessage);\r\n        this.RegEvent(\"HandCard\", this.Event_ShowHandCard);\r\n        this.RegEvent(\"OpCard\", this.Event_OpCard);\r\n        this.RegEvent(\"ChangeStatus\", this.Event_ChangeStatus);\r\n        this.RegEvent(\"AddDouble\", this.Event_AddDouble);\r\n        this.RegEvent(\"OpenCard\", this.Event_OpenCard);\r\n        this.RegEvent(\"RobClose\", this.Event_RobClose);\r\n        this.RegEvent('CodeError', this.Event_CodeError);\r\n        this.RegEvent('GameGift', this.Event_GameGift, this);\r\n        this.RegEvent('StopTime', this.Event_StopTime, this);\r\n\r\n        //比赛分不足时通知\r\n        this.RegEvent(\"SportsPointEnough\", this.Event_SportsPointEnough);\r\n        this.RegEvent(\"SportsPointNotEnough\", this.Event_SportsPointNotEnough);\r\n\r\n        //比赛分门槛不足时通知\r\n        this.RegEvent(\"SportsPointThresholdEnough\", this.Event_SportsPointThresholdEnough);\r\n        this.RegEvent(\"SportsPointThresholdNotEnough\", this.Event_SportsPointThresholdNotEnough);\r\n\r\n        this.Left = [false, true, false, false];\r\n\r\n        this.cardSpcedX = 0;\r\n\r\n        this.btn_voice.on(\"touchstart\", this.Event_TouchStart, this)\r\n        this.btn_voice.on(\"touchend\", this.Event_TouchEnd, this)\r\n        this.btn_voice.on(\"touchcancel\", this.Event_TouchEnd, this)\r\n\r\n        this.handCards.on(cc.Node.EventType.TOUCH_START, this.OnTouchStart, this);\r\n        this.handCards.on(cc.Node.EventType.TOUCH_MOVE, this.OnTouchMove, this);\r\n        this.handCards.on(cc.Node.EventType.TOUCH_END, this.OnTouchEnd, this);\r\n        this.handCards.on(cc.Node.EventType.TOUCH_CANCEL, this.OnTouchCancel, this);\r\n\r\n        this.boom_Ani.getComponent(cc.Animation).on('finished', this.OnAniBoomFinished, this);\r\n        this.plane_Ani.getComponent(cc.Animation).on('finished', this.OnAniPlaneFinished, this);\r\n        this.dragon_Ani.getComponent(cc.Animation).on('finished', this.OnAniDragonFinished, this);\r\n        for (var i = 0; i < 4; i++) {\r\n            let ShutDow_Ani = this.GetWndNode(\"sp_seat0\" + i + \"/ShutDow_Ani\");\r\n            ShutDow_Ani.getComponent(cc.Animation).on('finished', this.OnAniShutDowFinished, this);\r\n        }\r\n\r\n        this.InitData();\r\n        this.AddCardPrefab();\r\n\r\n        cc.game.on(cc.game.EVENT_HIDE, this.OnEventHide.bind(this));\r\n        cc.game.on(cc.game.EVENT_SHOW, this.OnEventShow.bind(this));\r\n    },\r\n    Event_SportsPointEnough: function(event) {\r\n        let msg = event.msg;\r\n        this.SetWaitForConfirm(\"SportsPointEnough\", this.ShareDefine.ConfirmOK, [msg]);\r\n    },\r\n    Event_SportsPointNotEnough: function(event) {\r\n        let msg = event.msg;\r\n        this.ShowSysMsg(\"比赛分不足房间自动解散\");\r\n        // this.SetWaitForConfirm(\"SportsPointNotEnough\",this.ShareDefine.ConfirmYN, []);\r\n    },\r\n\r\n    Event_SportsPointThresholdEnough: function(event) {\r\n        let msg = event.msg;\r\n        this.SetWaitForConfirm(\"SportsPointThresholdEnough\", this.ShareDefine.ConfirmOK, [msg]);\r\n    },\r\n    Event_SportsPointThresholdNotEnough: function(event) {\r\n        let msg = event.msg;\r\n        // this.ShowSysMsg(\"您得比赛分门槛不足，请联系赛事管理\");\r\n        this.SetWaitForConfirm(\"SportsPointThresholdNotEnough\", this.ShareDefine.ConfirmOK, []);\r\n    },\r\n    //停止房间倒计时\r\n    Event_StopTime: function(event){\r\n        this.HideClientUseTime();\r\n    },\r\n    \r\n    InitData: function() {\r\n        //所有的牌索引\r\n        this.allCardIdx = 0;\r\n        //自己手牌索引\r\n        this.hanCardIdx = 0;\r\n        //其他玩家手牌索引\r\n        this.player1Idx = 0;\r\n        this.player2Idx = 0;\r\n        this.player3Idx = 0;\r\n        //黑桃3牌索引\r\n        this.card3Idx = 0;\r\n\r\n        this.firstTurn = false;\r\n\r\n        this.tipCount = 0;\r\n\r\n        this.lastCircleEnd = false;\r\n\r\n        this.openCardInfo = {};\r\n\r\n        this.notUp = false;\r\n\r\n        this.isBackGround = false;\r\n        this.BackTime = 5; //oncreate不捕获\r\n        let that = this;\r\n        // cc.game.on(cc.game.EVENT_HIDE, function(event){\r\n        //     if(!that.isBackGround){\r\n        //         that.isBackGround = true;\r\n        //         app[app.subGameName+\"_SoundManager\"]().StopAllSound();\r\n        //         console.log(\"切换后台\");\r\n        //     }\r\n        // });\r\n        // cc.game.on(cc.game.EVENT_SHOW, function(event){\r\n        //     // if(that.BackTime>3){\r\n        //     //     return;\r\n        //     // }\r\n        //     if(that.isBackGround){\r\n        //         console.log(\"切换前台\"); \r\n        //         that.isBackGround = false;\r\n        //         let GameBackMusic=that.LocalDataManager.GetConfigProperty(\"SysSetting\",\"GameBackMusic\");\r\n        //         app[app.subGameName+\"_SceneManager\"]().PlayMusic(GameBackMusic);\r\n        //         // that.BackTime=that.BackTime+1;\r\n        //         app[app.subGameName+\"_LocationOnStartMgr\"]().OnGetLocation();\r\n        //     }\r\n        // });\r\n    },\r\n\r\n    OnAniBoomFinished: function(event) {\r\n        this.boom_Ani.active = false;\r\n    },\r\n    OnAniPlaneFinished: function(event) {\r\n        this.plane_Ani.active = false;\r\n    },\r\n    OnAniDragonFinished: function(event) {\r\n        this.dragon_Ani.active = false;\r\n    },\r\n    OnAniShutDowFinished: function(event) {\r\n        for (var i = 0; i < 4; i++) {\r\n            let ShutDow_Ani = this.GetWndNode(\"sp_seat0\" + i + \"/ShutDow_Ani\");\r\n            ShutDow_Ani.active = false;\r\n        }\r\n    },\r\n\r\n    ShowAllCard: function() {\r\n        return;\r\n        /*this.allCards.active = true;\r\n        let cardNum = this.Room.GetRoomConfigByProperty(\"shoupai\");\r\n        if(cardNum == 0){\r\n            cardNum = this.Define.MidHandCard;\r\n        }\r\n        else if(cardNum == 1){\r\n            cardNum = this.Define.MidHandCardEx;\r\n        }\r\n        else{\r\n            cardNum = this.Define.MaxHandCard;\r\n        }\r\n        let playerNum = this.Room.GetRoomConfigByProperty(\"playerNum\");\r\n        let allCardNum = playerNum*cardNum;\r\n        let xPos = -512;\r\n        let yPos = 0;\r\n        for(let i = 0; i < allCardNum; i++){\r\n            let card = this.allCards.children[i];\r\n            card.getChildByName(\"poker_back\").active = true;\r\n            card.active = true;\r\n            if(i == 48){\r\n                xPos = -512;\r\n            }\r\n            if(i > 47){\r\n                card.y = -31.5;\r\n                card.x = xPos;\r\n            }\r\n            else{\r\n                card.y = 0;\r\n                card.x = xPos;\r\n            }\r\n            xPos += 22;\r\n        }*/\r\n    },\r\n\r\n    AddCardPrefab: function() {\r\n        //发牌的牌墩\r\n        /* this.allCards.active = false;\r\n         for(let i = 0; i < this.Define.MaxTableCard; i++){\r\n             let card = cc.instantiate(this.cardPrefab);\r\n             this.allCards.addChild(card);\r\n             card.active = false;\r\n             card.name = \"card_\" + (i+1).toString();\r\n         }*/\r\n\r\n        //玩家手牌\r\n        this.handCards.active = false;\r\n        for (let i = 0; i < this.Define.MaxHandCard; i++) {\r\n            let card = cc.instantiate(this.cardPrefab);\r\n            card.active = false;\r\n            card.name = \"card_\" + (i + 1).toString();\r\n            this.handCards.addChild(card);\r\n        }\r\n\r\n        //玩家打出去的牌\r\n        for (let i = 0; i < this.Define.MaxPlayer; i++) {\r\n            let outCardList = this.node.getChildByName(\"outCardList\" + i);\r\n            outCardList.active = false;\r\n            for (let j = 0; j < this.Define.MaxHandCard; j++) {\r\n                let card = cc.instantiate(this.cardPrefab);\r\n                card.active = false;\r\n                card.name = \"card_\" + (i + 1).toString();\r\n                outCardList.addChild(card);\r\n            }\r\n        }\r\n\r\n        //玩家明牌的牌\r\n        for (let i = 1; i < this.Define.MaxPlayer; i++) {\r\n            let openCardList = this.node.getChildByName(\"openCardList\" + i);\r\n            openCardList.active = false;\r\n            for (let j = 0; j < this.Define.MaxHandCard; j++) {\r\n                let card = cc.instantiate(this.cardPrefab);\r\n                card.active = false;\r\n                card.name = \"card_\" + (i + 1).toString();\r\n                openCardList.addChild(card);\r\n            }\r\n        }\r\n    },\r\n\r\n    Event_ShowHandCard: function() {\r\n        this.handCards.active = true;\r\n        let downList = this.LogicPDKGame.GetHandCard();\r\n        for (let i = 0; i < this.handCards.children.length; i++) {\r\n            let cardValue = downList[i];\r\n            let cardNode = this.handCards.children[i];\r\n            cardNode.y = 0;\r\n            if (cardValue) {\r\n                let bSelected = this.LogicPDKGame.CheckSelected(cardValue);\r\n                if (bSelected) {\r\n                    cardNode.y += this.Define.MaxRisePosY;\r\n                }\r\n                let isLastCard = false;\r\n                if (i == downList.length - 1) {\r\n                    isLastCard = true;\r\n                }\r\n                this.ShowCard(cardValue, cardNode, isLastCard);\r\n            } else {\r\n                cardNode.active = false;\r\n            }\r\n        }\r\n        this.canOutCard();\r\n    },\r\n\r\n    ChangeCardNum: function(dataPos, len) {\r\n        let uiPos = this.RoomPosMgr.GetUIPosByDataPos(dataPos);\r\n        if (uiPos == 0) return;\r\n        let card = this.GetWndNode(\"sp_seat0\" + uiPos + \"/card\");\r\n        let cardNum = this.GetWndNode(\"sp_seat0\" + uiPos + \"/cardNum\");\r\n        if (!this.Room.GetRoomWanfa(this.Define.SEVER_SHOWCARDNUM)) {\r\n            // if(!true){//默认显示\r\n            cardNum.active = false;\r\n        } else {\r\n            cardNum.active = true;\r\n        }\r\n        let totalNum = len;\r\n        cardNum.getComponent(cc.Label).string = totalNum.toString() + '张';\r\n        if (!card.getChildByName(\"poker_back\").active) {\r\n            card.getChildByName(\"poker_back\").active = true;\r\n        }\r\n        this.ShowWarningByPos(dataPos, totalNum);\r\n\r\n        return totalNum;\r\n    },\r\n\r\n    ShowWarningByPos: function(dataPos, len) {\r\n        if (this.RoomPosMgr.GetClientPos() == dataPos) return;\r\n        let uiPos = this.RoomPosMgr.GetUIPosByDataPos(dataPos);\r\n        let warning = this.GetWndNode(\"sp_seat0\" + uiPos + \"/warning\");\r\n        //只有剩一张牌才显示警告动画\r\n        if (len <= 1 && len > 0) {\r\n            warning.active = true;\r\n            warning.getComponent(cc.Animation).play(\"warning\");\r\n        } else {\r\n            warning.active = false;\r\n            warning.getComponent(cc.Animation).stop(\"warning\");\r\n        }\r\n    },\r\n\r\n    SetSeat01OutCardPos: function(dataPos, len) {\r\n        let uiPos = this.RoomPosMgr.GetUIPosByDataPos(dataPos);\r\n        if (uiPos != 3) return;\r\n\r\n        let node = this.node.getChildByName(\"outCardList3\");\r\n        let posX = 575 - 25 * len;\r\n        node.x = posX;\r\n    },\r\n\r\n    SetAniPos: function(dataPos) {\r\n        let uiPos = this.RoomPosMgr.GetUIPosByDataPos(dataPos);\r\n        if (uiPos == 1) {\r\n            this.boom_Ani.setPosition(cc.v2(232, 64));\r\n        } else {\r\n            let outCardList = this.node.getChildByName(\"outCardList\" + uiPos);\r\n            this.boom_Ani.setPosition(cc.v2(outCardList.x, outCardList.y));\r\n        }\r\n    },\r\n\r\n    PlayCardSound: function(pos, opCardType, cardList, circleEnd) {\r\n        let sex = this.GetPlayerSex(pos);\r\n        if (this.lastCircleEnd) {\r\n            if (opCardType == 2) {\r\n                let value = this.LogicPDKGame.GetCardValue(cardList[0]);\r\n                this.SoundManager.PlaySound(sex + \"One_\" + value);\r\n            } else if (opCardType == 3) {\r\n                let value = this.LogicPDKGame.GetCardValue(cardList[0]);\r\n                this.SoundManager.PlaySound(sex + \"Double_\" + value);\r\n            } else if (opCardType == 4) {\r\n                this.SoundManager.PlaySound(sex + \"Series\");\r\n            } else if (opCardType == 5) {\r\n                this.SoundManager.PlaySound(sex + \"Three\");\r\n            } else if (opCardType == 6) {\r\n                this.SoundManager.PlaySound(sex + \"ThreeAndOne\");\r\n            } else if (opCardType == 7) {\r\n                this.SoundManager.PlaySound(sex + \"ThreeAndTwo\");\r\n            } else if (opCardType == 8) {\r\n                this.SoundManager.PlaySound(sex + \"FourAndOne\");\r\n            } else if (opCardType == 9) {\r\n                this.SoundManager.PlaySound(sex + \"FourAndTwo\");\r\n            } else if (opCardType == 10) {\r\n                this.SoundManager.PlaySound(sex + \"FourAndThree\");\r\n            } else if (opCardType == 12 || opCardType == 13) {\r\n                this.SoundManager.PlaySound(sex + \"Plane\");\r\n            } else if (opCardType == 14) {\r\n                this.SoundManager.PlaySound(sex + \"SeriesTwo\");\r\n            }\r\n        } else {\r\n            if (opCardType == 1) {\r\n                let randomNum = Math.floor(Math.random() * 3 + 1);\r\n                this.SoundManager.PlaySound(sex + \"Not_\" + randomNum);\r\n            } else if (opCardType == 11) {\r\n                this.SoundManager.PlaySound(sex + \"Boom\");\r\n            } else {\r\n                let randomNum = Math.floor(Math.random() * 3 + 1);\r\n                this.SoundManager.PlaySound(sex + \"Bigger_\" + randomNum);\r\n            }\r\n        }\r\n\r\n        this.lastCircleEnd = circleEnd;\r\n    },\r\n\r\n    Event_GameGift: function(event) {\r\n        let self = this;\r\n        let argDict = event;\r\n        let sendPos = argDict['sendPos'];\r\n        let recivePos = argDict['recivePos'];\r\n        let productId = argDict['productId'];\r\n        let sendHead = app[app.subGameName + \"_HeadManager\"]().GetComponentByPos(sendPos);\r\n        let reciveHead = app[app.subGameName + \"_HeadManager\"]().GetComponentByPos(recivePos);\r\n        let giftIdx = productId - 1;\r\n        let tempNode = cc.instantiate(this.giftPrefabs[giftIdx]);\r\n        let ani = tempNode.getComponent(cc.Animation);\r\n        // tempNode.tag = giftIdx;\r\n        tempNode.name = ani.defaultClip.name;\r\n        tempNode.bMove = true;\r\n        ani.on('finished', this.OnGiftAniEnd, this);\r\n        let vec1 = sendHead.node.convertToWorldSpaceAR(cc.v2(0, 0));\r\n        let vec2 = reciveHead.node.convertToWorldSpaceAR(cc.v2(0, 0));\r\n        vec1 = this.giftNode.convertToNodeSpaceAR(vec1);\r\n        vec2 = this.giftNode.convertToNodeSpaceAR(vec2);\r\n        tempNode.x = vec1.x;\r\n        tempNode.y = vec1.y;\r\n        this.giftNode.addChild(tempNode);\r\n        let action = cc.sequence(\r\n            cc.moveTo(0.3, vec2),\r\n            cc.callFunc(self.GiftMoveEnd, self)\r\n        );\r\n        tempNode.runAction(action);\r\n    },\r\n\r\n    GiftMoveEnd: function(sender, useData) {\r\n        sender.getComponent(cc.Animation).play();\r\n        sender.bMove = false;\r\n        //播放音效\r\n        app[app.subGameName + \"_SoundManager\"]().PlaySound('mofa_' + sender.name);\r\n    },\r\n\r\n    OnGiftAniEnd: function(event) {\r\n        let nodes = this.giftNode.children;\r\n        for (let i = nodes.length; i > 0; i--) {\r\n            if (event) {\r\n                let aniState = nodes[i - 1].getComponent(cc.Animation).getAnimationState(nodes[i - 1].name);\r\n                if (aniState.isPlaying)\r\n                    continue;\r\n                if (!nodes[i - 1].bMove)\r\n                    nodes[i - 1].removeFromParent();\r\n            } else\r\n                nodes[i - 1].removeFromParent();\r\n        }\r\n    },\r\n\r\n    //检测出牌玩家是否离开中\r\n    CheckOpCardPosIsLeave:function(pos){\r\n        let opPosInfo = this.RoomPosMgr.GetPlayerInfoByPos(pos);\r\n        let roomID = this.RoomMgr.GetEnterRoomID();\r\n        if(opPosInfo.isShowLeave){\r\n            app[app.subGameName + \"_NetManager\"]().SendPack(app.subGameName + \".C\" + app.subGameName.toUpperCase() + \"ShowLeave\", {\r\n                \"roomID\": roomID,\r\n                \"isShowLeave\": false\r\n            });\r\n        }\r\n    },\r\n\r\n    Event_OpCard: function(event) {\r\n        console.log(\"OpCard信息 == \" + event.opCardType);\r\n        let data = event;\r\n        this.firstTurn = false;\r\n        this.notUp = false;\r\n        this.gameBtn.active = false;\r\n        this.tipCount = 0;\r\n        let time = this.GetClockTime();\r\n        let runWaitSec = data.runWaitSec;\r\n        let secTotal = data.secTotal;\r\n        this.HideClientUseTime();\r\n\r\n        this.LogicPDKGame.SortCardByMax(data.cardList);\r\n\r\n        //检测出牌玩家是否离开中\r\n        this.CheckOpCardPosIsLeave(data.pos);\r\n\r\n        //储存刷新玩家手牌\r\n        this.RoomSet.SetHandCard(data.pos, data.privateList);\r\n\r\n        //先清理之前打出去的牌或者玩家的状态\r\n        this.ClearPlayerTable(data.pos);\r\n\r\n        if (data.turnEnd) {\r\n            this.LogicPDKGame.ClearCardData();\r\n        }\r\n        //储存刷新Setinfo状态\r\n        this.RoomSet.SetRoomSetProperty(\"isFirstOp\", data.isFirstOp);\r\n        //刷新手牌\r\n        this.Event_ShowHandCard();\r\n\r\n        this.ChangeCardNum(data.pos, data.privateList.length);\r\n        this.HideClockByPos(data.pos);\r\n        this.LogicPDKGame.SetCardData(data.opCardType, data.cardList);\r\n        this.ShowOutCard(data.pos, data.cardList, data.opCardType);\r\n        this.SetSeat01OutCardPos(data.pos, data.cardList.length);\r\n        this.DeleteOpenCardList(data.pos, data.cardList);\r\n\r\n        //音效\r\n        this.PlayCardSound(data.pos, data.opCardType, data.cardList, data.turnEnd);\r\n\r\n        //显示动画特效\r\n        if (data.opCardType == 4) {\r\n            //一条龙\r\n            if (this.LogicPDKGame.CheckDragon()) {\r\n                this.dragon_Ani.active = true;\r\n                this.dragon_Ani.getComponent(cc.Animation).play(\"dragon\");\r\n            }\r\n        } else if (data.opCardType == 14) { //连对\r\n            this.lianDui_Ani.active = true;\r\n            this.lianDui_Ani.getComponent(cc.Animation).play(\"liandui\");\r\n        } else if (data.opCardType == 11) {\r\n            //炸弹\r\n            this.boom_Ani.active = true;\r\n            this.SetAniPos(data.pos);\r\n            this.boom_Ani.getComponent(cc.Animation).play(\"zhadan\");\r\n        } else if (data.opCardType == 12 || data.opCardType == 13) {\r\n            this.plane_Ani.active = true;\r\n            this.plane_Ani.getComponent(cc.Animation).play(\"feiji\");\r\n        }\r\n\r\n        if (data.pos == this.RoomPosMgr.GetClientPos()) {\r\n            //如果是自动出牌，判断一下是否打开UIAutoPlay\r\n            if (data.isFlash == true) {\r\n                app[app.subGameName + \"_FormManager\"]().ShowForm(app.subGameName + \"_UIAutoPlay\", data.dataSecTotal);\r\n            }\r\n            //如果是自动出牌，判断一下是否打开UIAutoPlay\r\n            this.LogicPDKGame.OutPokerCard(data.privateList);\r\n            this.ClearForbiddenTouch();\r\n        }\r\n        //检测是否是当前游戏已经结束\r\n        if (data.isSetEnd) {\r\n            return;\r\n        }\r\n\r\n        if (data.nextPos == this.RoomPosMgr.GetClientPos()) {\r\n            //判断剩余手牌是否能一次出完并且没有炸弹，如果可以，直接出\r\n            if (!this.LogicPDKGame.IsHaveBoom()) {\r\n                let opCardType = this.LogicPDKGame.GetCardType(false);\r\n                console.log(\"所有手牌组成一个牌型：\" + opCardType);\r\n                if (opCardType > 0) {\r\n                    let isOut = false;\r\n                    if (data.turnEnd) {\r\n                        isOut = true;\r\n                    } else {\r\n                        let tipArray = this.LogicPDKGame.GetTipCard();\r\n                        if (tipArray.length > 0) {\r\n                            let myHangCard = this.LogicPDKGame.GetHandCard();\r\n                            for (let i = 0; i < tipArray.length; i++) {\r\n                                //发给服务端的消息\r\n                                if (tipArray[i].length == myHangCard.length) {\r\n                                    isOut = true;\r\n                                    break;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    if (isOut == true) {\r\n                        let serverPack = {};\r\n                        let roomID = this.RoomMgr.GetEnterRoom().GetRoomProperty(\"roomID\");\r\n                        serverPack.roomID = roomID;\r\n                        let pos = this.RoomPosMgr.GetClientPos();\r\n                        serverPack.pos = pos;\r\n                        let self = this;\r\n                        this.scheduleOnce(function() {\r\n                            self.ClientOpCardByType(opCardType, serverPack, false);\r\n                        }, 1.0);\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n            if (data.turnEnd) {\r\n                this.ShowBtnOutCard();\r\n            } else {\r\n                let array = this.LogicPDKGame.GetTipCard();\r\n                if (!array.length) {\r\n                    if (this.isAutoPass()) {\r\n                        // this.ShowSysMsg(app.subGameName.toUpperCase()+\"_PASS\");\r\n                        time = this.Define.MinTickTime;\r\n                    } else {\r\n                        this.ForbiddenTouch(array);\r\n                        this.ShowBtnPass();\r\n                    }\r\n                } else {\r\n                    //是否是必出玩法\r\n                    this.ForbiddenTouch(array);\r\n                    if (this.Room.GetRoomWanfa(this.Define.SEVER_BMUST)) {\r\n                        this.ShowAllGameBtn();\r\n                    } else {\r\n                        this.ShowBtnTipAndOutCard();\r\n                    }\r\n                    if (array.length == 1) {\r\n                        this.Click_btn_tip();\r\n                    }\r\n                }\r\n            }\r\n            //是否执行房间限时时间\r\n            this.GetUICardComponentByPos(data.nextPos).ShowUseTime(secTotal);\r\n            this.GetUICardComponentByPos(data.nextPos).SetTimeOpen(true);\r\n        }\r\n\r\n        this.StartTickTime(data.nextPos, runWaitSec, time);\r\n    },\r\n\r\n    isCanChoose: function() {\r\n        for (let i = 0; i < this.handCards.children.length; i++) {\r\n            if (this.handCards.children[i].y > 0) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    },\r\n    ForbiddenTouch: function(pokerList) {\r\n        this.ClearForbiddenTouch();\r\n\r\n        let downList = this.LogicPDKGame.GetHandCard();\r\n        if (pokerList.length) {\r\n            let cardType = this.LogicPDKGame.GetLastCardType();\r\n            if (cardType == 6 || cardType == 7 || cardType == 8 || cardType == 9 || cardType == 10 ||\r\n                cardType == 12 || cardType == 13) {\r\n                if (!this.LogicPDKGame.CheckOnlyBoom(pokerList)) {\r\n                    return;\r\n                }\r\n            }\r\n            let lastValue = 0;\r\n            for (let i = downList.length - 1; i >= 0; i--) {\r\n                let poker = downList[i];\r\n                let cardValue = this.LogicPDKGame.GetCardValue(poker);\r\n                this.handCards.children[i].y = 0;\r\n\r\n                if (lastValue == cardValue) {\r\n                    if (this.handCards.children[i + 1].touchTag) {\r\n                        this.handCards.children[i].touchTag = true;\r\n                        this.handCards.children[i].getChildByName('bg_black').active = true;\r\n                    } else {\r\n                        this.handCards.children[i].touchTag = false;\r\n                        this.handCards.children[i].getChildByName('bg_black').active = false;\r\n                    }\r\n                    continue;\r\n                }\r\n\r\n                let isHas = false;\r\n                for (let j = 0; j < pokerList.length; j++) {\r\n                    let list = pokerList[j];\r\n                    if (list.indexOf(poker) != -1) {\r\n                        isHas = true;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                if (isHas) {\r\n                    this.handCards.children[i].touchTag = false;\r\n                    this.handCards.children[i].getChildByName('bg_black').active = false;\r\n                } else {\r\n                    this.handCards.children[i].touchTag = true;\r\n                    this.handCards.children[i].getChildByName('bg_black').active = true;\r\n                    //                   this.handCards.children[i].addComponent(cc.Button);\r\n                }\r\n                lastValue = cardValue;\r\n            }\r\n        }\r\n        // else{\r\n        //     for(let i = 0; i < downList.length; i++){\r\n        //         this.handCards.children[i].y = 0;\r\n        //         this.handCards.children[i].touchTag = true;\r\n        //         this.handCards.children[i].getChildByName('bg_black').active = true;\r\n        //         this.handCards.children[i].addComponent(cc.Button);\r\n        //     }\r\n        // }\r\n    },\r\n\r\n    ClearForbiddenTouch: function() {\r\n        this.LogicPDKGame.ChangeSelectCard([]);\r\n        let downList = this.LogicPDKGame.GetHandCard();\r\n        for (let i = 0; i < downList.length; i++) {\r\n            this.handCards.children[i].y = 0;\r\n            this.handCards.children[i].touchTag = false;\r\n            this.handCards.children[i].getChildByName('bg_black').active = false;\r\n            //           this.handCards.children[i].removeComponent(cc.Button);\r\n        }\r\n    },\r\n\r\n    DeleteOpenCardList: function(dataPos, cardList) {\r\n        if (!this.Room.GetRoomWanfa(this.Define.SEVER_MINGCARD)) return;\r\n        if (dataPos == this.RoomPosMgr.GetClientPos()) return;\r\n\r\n        if (this.openCardInfo[dataPos]) {\r\n            let openCardList = this.openCardInfo[dataPos];\r\n            for (let i = 0; i < cardList.length; i++) {\r\n                let value = cardList[i];\r\n                let pos = openCardList.indexOf(value);\r\n                if (pos != -1) {\r\n                    openCardList.splice(pos, 1);\r\n                }\r\n            }\r\n\r\n            this.ShowOpenCard(dataPos, openCardList);\r\n        }\r\n    },\r\n\r\n    Event_ChangeStatus: function(event) {\r\n        let opPos = this.RoomSet.GetRoomSetProperty(\"opPos\");\r\n        this.robSuccess = false; //event.isRobCloseSuccess;s\r\n        if (this.Room.GetRoomWanfa(this.Define.SEVER_ROBDOOR)) {\r\n            // if(event.isRobCloseSuccess){\r\n            //     let player = this.RoomPosMgr.GetPlayerInfoByPos(opPos);\r\n            //     app[app.subGameName+\"_SysNotifyManager\"]().ShowSysMsg(app.subGameName.toUpperCase()+'_SEVER_ROBDOOR',[player.name]);\r\n            // }\r\n            this.btn_robDoor.active = false;\r\n            this.btn_notRobDoor.active = false;\r\n            this.HideClockByPos(this.RoomPosMgr.GetClientPos());\r\n        }\r\n        if (this.Room.GetRoomWanfa( /*this.Define.DOUBLE*/ -1)) {\r\n            this.gameMultiple.active = false;\r\n        }\r\n        this.StartGame(opPos);\r\n    },\r\n\r\n    Event_AddDouble: function(event) {\r\n        let data = event;\r\n        if (data.addDouble != 0) {\r\n            this.ShowAddDouble(data.pos, data.addDouble);\r\n        }\r\n\r\n        if (data.pos == this.RoomPosMgr.GetClientPos()) {\r\n            this.gameMultiple.active = false;\r\n            this.btn_robDoor.x = 0;\r\n            if (data.addDouble == 0) {\r\n                this.ShowSysMsg(app.subGameName.toUpperCase() + \"_NOTDOUBLE\");\r\n            } else {\r\n                this.ShowSysMsg(app.subGameName.toUpperCase() + \"_ADDDOUBLE\");\r\n            }\r\n        }\r\n    },\r\n\r\n    Event_OpenCard: function(event) {\r\n        let data = event;\r\n        let sex = this.GetPlayerSex(data.pos);\r\n        // this.SoundManager.PlaySound(sex + \"ShowCard\");//去除明牌音效\r\n        if (data.OpenCard == 0) return;\r\n        this.openCardInfo[data.pos] = data.cardList;\r\n        this.ShowOpenCard(data.pos, data.cardList);\r\n        if (data.pos == this.RoomPosMgr.GetClientPos()) {\r\n            this.btn_openCard.active = false;\r\n            let state = this.RoomSet.GetRoomSetProperty(\"state\");\r\n            if (state != this.ShareDefine.SetState_End) {\r\n                this.ShowSysMsg(app.subGameName.toUpperCase() + \"_OPENCARD\");\r\n            }\r\n        }\r\n    },\r\n\r\n    Event_RobClose: function(event) {\r\n        let data = event;\r\n        if (data.pos == this.RoomPosMgr.GetClientPos()) {\r\n            this.ShowSysMsg(app.subGameName.toUpperCase() + \"_ROOBCLOSE\");\r\n            this.btn_robDoor.active = false;\r\n            this.btn_notRobDoor.active = false;\r\n            this.gameMultiple.x = 0;\r\n        }\r\n    },\r\n\r\n    ShowOpenCard: function(dataPos, cardList) {\r\n        let uiPos = this.RoomPosMgr.GetUIPosByDataPos(dataPos);\r\n        if (uiPos == 0) return;\r\n        this.LogicPDKGame.SortCardByMax(cardList);\r\n        let openCardList = this.node.getChildByName(\"openCardList\" + uiPos);\r\n        openCardList.active = true;\r\n        for (let i = 0; i < openCardList.children.length; i++) {\r\n            let cardNode = openCardList.children[i];\r\n            let value = cardList[i];\r\n            let isLastCard = false;\r\n            if (i == cardList.length - 1) {\r\n                isLastCard = true;\r\n            }\r\n            if (value) {\r\n                this.ShowCard(value, cardNode, isLastCard);\r\n            } else {\r\n                cardNode.active = false;\r\n            }\r\n        }\r\n    },\r\n\r\n    HideAllOpenCard: function() {\r\n        for (let i = 1; i < this.Define.MaxPlayer; i++) {\r\n            let openCardList = this.node.getChildByName(\"openCardList\" + i);\r\n            openCardList.active = false;\r\n        }\r\n    },\r\n\r\n    ShowAddDouble: function(dataPos, addDouble) {\r\n        // let uiPos = this.RoomPosMgr.GetUIPosByDataPos(dataPos);\r\n        // let path = \"sp_seat0\" + uiPos + \"/head\" + \"/UIPublicHead\" + uiPos + \"/otherNode\";\r\n        // let node = this.GetWndNode(path);\r\n        // node.active = true;\r\n        // node.getChildByName(\"bsPrefab\").active = true;\r\n        // node.getChildByName(\"bsPrefab\").getComponent(cc.Label).string = \"x\"+addDouble;\r\n    },\r\n\r\n    ShowOutCard: function(dataPos, cardList, opCardType) {\r\n        let uiPos = this.RoomPosMgr.GetUIPosByDataPos(dataPos);\r\n        if (!cardList.length) {\r\n            let pass = this.GetWndNode(\"sp_seat0\" + uiPos + \"/pass\");\r\n            pass.active = true;\r\n            return;\r\n        }\r\n        if ([4, 6, 7, 8, 9, 10, 12, 14].includes(opCardType)) {\r\n            let typeNode = cc.find(`outCardList${uiPos}_cardType`, this.node);\r\n            typeNode.getComponent(cc.Animation).play(`card_type${opCardType}`);\r\n        }\r\n        let outCardNodeList = this.node.getChildByName(\"outCardList\" + uiPos);\r\n        outCardNodeList.active = true;\r\n        for (let i = 0; i < outCardNodeList.children.length; i++) {\r\n            let cardNode = outCardNodeList.children[i];\r\n            let value = cardList[i];\r\n            let isLastCard = false;\r\n            if (i == cardList.length - 1) {\r\n                isLastCard = true;\r\n            }\r\n            if (value) {\r\n                this.ShowCard(value, cardNode, isLastCard);\r\n            } else {\r\n                cardNode.active = false;\r\n            }\r\n        }\r\n    },\r\n\r\n    HideAllOutCard: function() {\r\n        for (let i = 0; i < this.Define.MaxPlayer; i++) {\r\n            let outCard = this.node.getChildByName(\"outCardList\" + i);\r\n            outCard.active = false;\r\n        }\r\n    },\r\n\r\n    HideAllPass: function() {\r\n        for (let i = 0; i < this.Define.MaxPlayer; i++) {\r\n            let pass = this.GetWndNode(\"sp_seat0\" + i + \"/pass\");\r\n            pass.active = false;\r\n        }\r\n    },\r\n\r\n    HideAllClock: function() {\r\n        for (let i = 0; i < this.Define.MaxPlayer; i++) {\r\n            let clock = this.GetWndNode(\"sp_seat0\" + i + \"/clock\");\r\n            clock.active = false;\r\n        }\r\n    },\r\n\r\n    HideAllWarning: function() {\r\n        for (let i = 1; i < this.Define.MaxPlayer; i++) {\r\n            let warning = this.GetWndNode(\"sp_seat0\" + i + \"/warning\");\r\n            warning.getComponent(cc.Animation).stop(\"warning\");\r\n            warning.active = false;\r\n        }\r\n    },\r\n    HideChild: function(node) {\r\n        for (let i = 0; i < node.children.length; i++) {\r\n            let child = node.children[i];\r\n            child.active = false;\r\n        }\r\n    },\r\n    HideAllHandCard: function() {\r\n        //获取是16张玩法还是15张玩法\r\n        let shoupai = this.Room.GetRoomShouPai();\r\n        for (let i = 0; i < this.handCards.children.length; i++) {\r\n            let child = this.handCards.children[i];\r\n            if (i + 1 > shoupai) {\r\n                child.active = false;\r\n            } else {\r\n                this.HideChild(child);\r\n                child.active = true;\r\n            }\r\n\r\n        }\r\n        this.handCards.active = false;\r\n    },\r\n\r\n    /*HideAllHandCard:function(){\r\n        this.handCards.active = false;\r\n        for(let i = 0; i < this.handCards.children.length; i++){\r\n            let child = this.handCards.children[i];\r\n            child.active = false;\r\n        }\r\n    },*/\r\n\r\n    HideAllCardNum: function() {\r\n        for (let i = 1; i < this.Define.MaxPlayer; i++) {\r\n            let card = this.GetWndNode(\"sp_seat0\" + i + \"/card\");\r\n            card.active = false;\r\n            let cardNum = this.GetWndNode(\"sp_seat0\" + i + \"/cardNum\");\r\n            cardNum.active = false;\r\n            let poker_back = this.GetWndNode(\"sp_seat0\" + i + \"/card/poker_back\");\r\n            poker_back.active = true;\r\n        }\r\n    },\r\n\r\n    HideClockByPos: function(dataPos) {\r\n        let uiPos = this.RoomPosMgr.GetUIPosByDataPos(dataPos);\r\n        let clock = this.GetWndNode(\"sp_seat0\" + uiPos + \"/clock\");\r\n        clock.active = false;\r\n    },\r\n\r\n    ClearPlayerTable: function(dataPos) {\r\n        let uiPos = this.RoomPosMgr.GetUIPosByDataPos(dataPos);\r\n        let outCardList = this.GetWndNode(\"outCardList\" + uiPos);\r\n        for (let i = 0; i < outCardList.children.length; i++) {\r\n            let child = outCardList.children[i];\r\n            if (child.active) {\r\n                child.active = false;\r\n            }\r\n        }\r\n\r\n        // let pass = this.GetWndNode(\"sp_seat0\"+uiPos+\"/pass\");\r\n        // pass.active = false;\r\n    },\r\n    ClearPlayerState: function(dataPos) {\r\n        let uiPos = this.RoomPosMgr.GetUIPosByDataPos(dataPos);\r\n        let pass = this.GetWndNode(\"sp_seat0\" + uiPos + \"/pass\");\r\n        pass.active = false;\r\n    },\r\n\r\n    //开始倒计时\r\n    StartTickTime: function(dataPos, runWaitSec = 0, second = this.Define.MaxTickTime) {\r\n\r\n        //先清理之前打出去的牌或者玩家的状态 -- 重写一个不出状态\r\n        this.ClearPlayerState(dataPos);\r\n        //是不是自己要不起\r\n        if (second == this.Define.MinTickTime && dataPos == this.RoomPosMgr.GetClientPos()) {\r\n            this.notUp = true;\r\n            //淮滨跑得快，要不起速度加快，秒过 ----张泽新，2019.12.04修改\r\n            this.Click_btn_pass();\r\n            return;\r\n        }\r\n        //当客户端玩家只剩一张牌的时候，自动进入托管（能大直接出牌）\r\n        if (!this.notUp && dataPos == this.RoomPosMgr.GetClientPos()) {\r\n            let clientCards = this.LogicPDKGame.GetHandCard();\r\n            let opCardType = this.LogicPDKGame.GetLastCardType();\r\n            if (opCardType > 0 && clientCards.length == 1) {\r\n                let array = this.LogicPDKGame.GetTipCard();\r\n                if (array.length) {\r\n                    this.LogicPDKGame.ChangeSelectCard(clientCards);\r\n                    this.Event_ShowHandCard();\r\n                    this.Click_btn_outCard();\r\n                }\r\n                return;\r\n            } else if (opCardType == 0 && clientCards.length == 1) {\r\n                //剩下最后一根牌，并且轮到自己出牌\r\n                this.LogicPDKGame.ChangeSelectCard(clientCards);\r\n                this.Event_ShowHandCard();\r\n                this.scheduleOnce(function() {\r\n                    this.Click_btn_outCard();\r\n                }, 1);\r\n            }\r\n        }\r\n        this.tick = second - runWaitSec;\r\n        if(this.tick <= 0){\r\n            return\r\n        }\r\n        let uiPos = this.RoomPosMgr.GetUIPosByDataPos(dataPos);\r\n        this.clock = this.GetWndNode(\"sp_seat0\" + uiPos + \"/clock\");\r\n        if (dataPos == this.RoomPosMgr.GetClientPos() && second == 0) {\r\n            this.clock.active = false;\r\n        } else {\r\n            this.clock.active = true;\r\n        }\r\n        this.clock.getChildByName(\"num\").getComponent(cc.Label).string = this.tick;\r\n        this.unschedule(this.CallEverySecond);\r\n        this.schedule(this.CallEverySecond, 1);\r\n    },\r\n\r\n    //每一秒进入\r\n    CallEverySecond: function() {\r\n        //this.SoundManager.PlaySound(\"timeUp\");\r\n        this.tick--;\r\n        this.clock.getChildByName(\"num\").getComponent(cc.Label).string = this.tick;\r\n        if (this.tick <= 0) {\r\n            this.unschedule(this.CallEverySecond);\r\n            this.clock.active = false;\r\n            if (this.notUp) {\r\n                this.Click_btn_pass();\r\n            }\r\n        }\r\n    },\r\n\r\n    //显示提示和出牌按钮\r\n    ShowBtnTipAndOutCard: function() {\r\n        this.gameBtn.active = true;\r\n        this.btn_tip.x = -120;\r\n        this.btn_tip.active = true;\r\n        // this.btn_pass.getChildByName(\"icon\").getComponent(cc.Label).string = '不要';\r\n        this.btn_outCard.x = 120;\r\n        this.btn_outCard.active = true;\r\n        this.btn_pass.active = false;\r\n        // this.btn_tip.getComponent(cc.Button).interactable = true;\r\n        this.btn_outCard.getComponent(cc.Button).interactable = false;\r\n        // this.btn_pass.getComponent(cc.Button).interactable = false;\r\n        this.canOutCard();\r\n    },\r\n    //显示所有按钮\r\n    ShowAllGameBtn: function() {\r\n        this.gameBtn.active = true;\r\n        this.btn_pass.x = -230;\r\n        this.btn_pass.active = true;\r\n        this.btn_tip.x = 0;\r\n        this.btn_tip.active = true;\r\n        // this.btn_pass.getChildByName(\"icon\").getComponent(cc.Label).string = '不要';\r\n        this.btn_outCard.x = 230;\r\n        this.btn_outCard.active = true;\r\n\r\n        //new\r\n        // this.btn_tip.getComponent(cc.Button).interactable = true;\r\n        this.btn_outCard.getComponent(cc.Button).interactable = false;\r\n        // this.btn_pass.getComponent(cc.Button).interactable = true;\r\n    },\r\n\r\n    HideAllGameBtn: function() {\r\n        this.gameBtn.active = false;\r\n        this.btn_pass.active = false;\r\n        this.btn_tip.active = false;\r\n        this.btn_outCard.active = false;\r\n    },\r\n\r\n    HideAllBsNode: function() {\r\n        // let room = this.RoomMgr.GetEnterRoom();\r\n        // let posList = room.GetRoomProperty(\"posList\");\r\n        // for(let idx = 0; idx < posList.length; idx++){\r\n        //     let uiPos = this.RoomPosMgr.GetUIPosByDataPos(posList[idx].pos);\r\n        //     let path = \"sp_seat0\" + uiPos + \"/head\" + \"/UIPublicHead\" + uiPos;\r\n        //     let headNode = this.GetWndNode(path);\r\n        //     headNode.getChildByName(\"otherNode\").active = false;\r\n        // }\r\n    },\r\n\r\n    //只显示出牌按钮\r\n    ShowBtnOutCard: function() {\r\n        this.gameBtn.active = true;\r\n        this.btn_pass.active = false;\r\n        this.btn_tip.active = false;\r\n        this.btn_outCard.x = 0;\r\n        this.btn_outCard.active = true;\r\n        // this.btn_tip.getComponent(cc.Button).interactable = true;\r\n        this.btn_outCard.getComponent(cc.Button).interactable = false;\r\n        // this.btn_pass.getComponent(cc.Button).interactable = false;\r\n        this.canOutCard();\r\n    },\r\n    //只显示不要按钮\r\n    ShowBtnPass: function() {\r\n        this.gameBtn.active = true;\r\n        this.btn_pass.x = 0;\r\n        this.btn_pass.active = true;\r\n        // this.btn_pass.getChildByName(\"icon\").getComponent(cc.Label).string = '要不起';\r\n        this.btn_tip.active = false;\r\n        this.btn_outCard.active = false;\r\n    },\r\n\r\n    StartGame: function(opPos) {\r\n        //检查玩家手牌\r\n        this.CheckShouPai();\r\n        let firstOpCard = this.RoomSet.GetRoomSetProperty(\"firstOpCard\");\r\n        this.lastCircleEnd = this.RoomSet.GetRoomSetProperty(\"isFirstOp\");\r\n        //是否显示黑桃3\r\n        let uiPos = this.RoomPosMgr.GetUIPosByDataPos(opPos);\r\n        if (uiPos != 0 && !this.robSuccess) {\r\n            let poker_back = this.GetWndNode(\"sp_seat0\" + uiPos + \"/card/poker_back\");\r\n            poker_back.active = false;\r\n            this.ShowCard(firstOpCard, poker_back.parent, true);\r\n        }\r\n\r\n        let secTotal= this.RoomSet.GetSecTotal();\r\n        if (opPos == this.RoomPosMgr.GetClientPos()) {\r\n            if (this.Room.GetRoomWanfa(this.Define.SEVER_FIRST3) && !this.robSuccess) {\r\n                this.ShowBtnTipAndOutCard();\r\n            } else {\r\n                this.ShowBtnOutCard();\r\n            }\r\n             //是否执行房间限时时间\r\n            this.GetUICardComponentByPos(this.RoomPosMgr.GetClientPos()).ShowUseTime(secTotal);\r\n            this.GetUICardComponentByPos(this.RoomPosMgr.GetClientPos()).SetTimeOpen(true);\r\n        }else{\r\n            this.GetUICardComponentByPos(this.RoomPosMgr.GetClientPos()).ShowUseTime(secTotal);\r\n        }\r\n        let time = this.GetClockTime();\r\n        let runWaitSec = this.RoomSet.GetRoomSetProperty(\"runWaitSec\");\r\n        this.StartTickTime(opPos, runWaitSec, time);\r\n    },\r\n\r\n    ChooseDouble: function() {\r\n        let runWaitSec = this.RoomSet.GetRoomSetProperty(\"runWaitSec\");\r\n        //this.allCards.active = false;\r\n        if (this.Room.GetRoomWanfa(this.Define.SEVER_MINGCARD)) {\r\n            this.btn_openCard.active = false;\r\n        }\r\n\r\n        //是否有加倍玩法\r\n        if (this.Room.GetRoomWanfa( /*this.Define.DOUBLE*/ -1)) {\r\n            this.gameMultiple.active = true;\r\n            this.gameMultiple.x = 0;\r\n        }\r\n        //是否有抢关门玩法\r\n        if (this.Room.GetRoomWanfa(this.Define.SEVER_ROBDOOR)) {\r\n            this.btn_robDoor.active = true;\r\n            this.btn_robDoor.x = 90;\r\n            this.btn_notRobDoor.active = true;\r\n            this.btn_notRobDoor.x = -90;\r\n        }\r\n\r\n        if (this.Room.GetRoomWanfa( /*this.Define.DOUBLE*/ -1) && this.Room.GetRoomWanfa(this.Define.SEVER_ROBDOOR)) {\r\n            this.gameMultiple.x = -75;\r\n            this.btn_robDoor.x = 385;\r\n        }\r\n\r\n        if (this.Room.GetRoomWanfa( /*this.Define.DOUBLE*/ -1) || this.Room.GetRoomWanfa(this.Define.SEVER_ROBDOOR)) {\r\n            this.StartTickTime(this.RoomPosMgr.GetClientPos(), runWaitSec, 15);\r\n        }\r\n    },\r\n    CheckShouPai: function() {\r\n        let clientCards = this.LogicPDKGame.GetHandCard();\r\n        let count = 0;\r\n        for (let i = 0; i < clientCards.length; i++) {\r\n            if (clientCards[i] > 0) {\r\n                count++;\r\n            }\r\n        }\r\n        if (count < 15) {\r\n            //手牌不可能小于15张\r\n            this.ReInRoom();\r\n            return;\r\n        }\r\n    },\r\n    FaPaiFinish: function() {\r\n        this.RoomMgr.SendFaPaiFinish(this.RoomPosMgr.GetClientPos());\r\n        //检查手牌长度\r\n        this.CheckShouPai();\r\n    },\r\n    SortCardByMax: function(pokers) {\r\n        let self = this;\r\n        pokers.sort(function(a, b) {\r\n            //return (b&0x0F) - (a&0x0F);\r\n            return self.GetCardValue(b) - self.GetCardValue(a);\r\n        });\r\n    },\r\n    //获取牌值\r\n    GetCardValue: function(poker) {\r\n        let realPoker = 0;\r\n        if (poker > 500) {\r\n            realPoker = poker - 500;\r\n        } else {\r\n            realPoker = poker;\r\n        }\r\n        return realPoker & 0x0F;\r\n    },\r\n    //发牌动作\r\n    FaPaiAction: function(dataPos) {\r\n        let handCards = this.RoomSet.GetHandCard();\r\n        this.SortCardByMax(handCards);\r\n        let uiPos = this.RoomPosMgr.GetUIPosByDataPos(dataPos);\r\n        this.handCards.active = true;\r\n        let baseTime = 0;\r\n        for (let i = 0; i < handCards.length; i++) {\r\n            let cardValue = handCards[i];\r\n            let cardNode = this.handCards.getChildByName(\"card_\" + (i + 1).toString());\r\n            baseTime = baseTime + 0.03;\r\n            this.scheduleOnce(function() {\r\n                cardNode.active = true;\r\n                this.ShowCard(cardValue, cardNode, false);\r\n            }, baseTime);\r\n            if (i == handCards.length - 1) {\r\n                baseTime = baseTime + 0.3; //发牌结束事件\r\n                this.scheduleOnce(function() {\r\n                    this.FaPaiFinish();\r\n                }, baseTime);\r\n            }\r\n        }\r\n    },\r\n    //显示poker牌\r\n    ShowCard: function(cardType, cardNode, isLastCard) {\r\n        let realValue = 0;\r\n        if (cardType > 500) {\r\n            realValue = cardType - 500;\r\n        } else {\r\n            realValue = cardType;\r\n        }\r\n        // if (!isLastCard) {\r\n        //     cardNode.getChildByName('icon_1').active = false;\r\n        // }else{\r\n        //     cardNode.getChildByName('icon_1').active = true;\r\n        // }\r\n        this.PokerCard.GetPokeCard(realValue, cardNode, isLastCard);\r\n        cardNode.active = true;\r\n        cardNode.getChildByName(\"poker_back\").active = false;\r\n        let clientPos = this.RoomPosMgr.GetClientPos();\r\n        let setInfo = this.RoomSet.GetRoomSetInfo();\r\n        if (this.Room.GetRoomWanfa(this.Define.SEVER_FANGZUOBI)) {\r\n            if (setInfo.isFirstOp) {\r\n                if (setInfo.opPos != clientPos) {\r\n                    cardNode.getChildByName(\"poker_back\").active = true;\r\n                }\r\n            }\r\n        }\r\n        cardNode.getChildByName(\"bg_poker\").active = true;\r\n        cardNode.getChildByName(\"num\").active = true;\r\n        cardNode.getChildByName(\"icon\").active = true;\r\n        let room = this.RoomMgr.GetEnterRoom();\r\n        if(!room || !cardNode.getChildByName(\"tag\")) return\r\n        let kexuanwanfa = room.GetRoomConfigByProperty('kexuanwanfa');\r\n        if(!kexuanwanfa || !kexuanwanfa.length) return\r\n        cardNode.getChildByName(\"tag\").active = (realValue == 0x2A && kexuanwanfa.indexOf(24) > -1)\r\n    },\r\n\r\n    AddCardAction: function(dataPos) {\r\n        let uiPos = this.RoomPosMgr.GetUIPosByDataPos(dataPos);\r\n        let wndNode = this.GetWndNode(\"sp_seat0\" + uiPos + \"/cardNum\");\r\n        if (uiPos == 1) {\r\n            this.player1Idx++;\r\n            wndNode.getComponent(cc.Label).string = this.player1Idx + '张';\r\n        } else if (uiPos == 2) {\r\n            this.player2Idx++;\r\n            wndNode.getComponent(cc.Label).string = this.player2Idx + '张';\r\n        } else if (uiPos == 3) {\r\n            this.player3Idx++;\r\n            wndNode.getComponent(cc.Label).string = this.player3Idx + '张';\r\n        }\r\n    },\r\n\r\n    ///////////////////////////////////////////////////////////////////////////////////////\r\n    ////////////////////////////牌触摸\r\n    OnTouchStart: function(event) {\r\n        this.isChoose = this.isCanChoose();\r\n        this.moveIndex = -1;\r\n        this.lastMoveIndex = -1;\r\n        let moveX = event.target.convertToNodeSpaceAR(event.touch.getLocation()).x;\r\n        let downList = this.LogicPDKGame.GetHandCard();\r\n        for (let i = 0; i < this.handCards.children.length; i++) {\r\n            if (this.handCards.children[i].name.startsWith(\"card\")) {\r\n                let minX = this.handCards.children[i].x - this.handCards.children[i].width / 2;\r\n                let maxX = minX + this.cardSpcedX;\r\n                if (i == downList.length - 1)\r\n                    maxX = minX + this.handCards.children[i].width;\r\n                if (moveX >= minX && moveX < maxX) {\r\n                    this.startIndex = i;\r\n                    this.handCards.children[i].getChildByName(\"bg_black\").active = true;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    OnTouchMove: function(event) {\r\n        let moveX = event.target.convertToNodeSpaceAR(event.touch.getLocation()).x;\r\n        for (let i = 0; i < this.handCards.children.length; i++) {\r\n            if (this.handCards.children[i].name.startsWith(\"card\")) {\r\n                if (this.handCards.children[i].touchTag == false || typeof(this.handCards.children[i].touchTag) == \"undefined\") {\r\n                    this.handCards.children[i].getChildByName(\"bg_black\").active = false;\r\n                }\r\n                let minX = this.handCards.children[i].x - this.handCards.children[i].width / 2;\r\n                let maxX = minX + this.cardSpcedX;\r\n                if (moveX >= minX && moveX < maxX) {\r\n                    if (this.moveIndex >= 0 && this.moveIndex != i) {\r\n                        this.lastMoveIndex = this.moveIndex;\r\n                    }\r\n                    this.moveIndex = i;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        if (this.lastMoveIndex == -1 || this.moveIndex == -1) {\r\n            return;\r\n        }\r\n        if (this.startIndex > this.moveIndex) { //从右往左\r\n            console.log(\"从右往左\");\r\n            for (let i = this.startIndex; i >= this.moveIndex; i--) {\r\n                if (this.handCards.children[i].name.startsWith(\"card\")) {\r\n                    if (this.handCards.children[i].touchTag) {\r\n                        continue;\r\n                    }\r\n                    this.handCards.children[i].getChildByName(\"bg_black\").active = true;\r\n                }\r\n            }\r\n        } else { //从左往右\r\n            if (this.lastMoveIndex > this.moveIndex) {\r\n                if (this.handCards.children[this.lastMoveIndex].name.startsWith(\"card\")) {\r\n                    if (!this.handCards.children[this.lastMoveIndex].touchTag) {\r\n                        this.handCards.children[this.lastMoveIndex].getChildByName(\"bg_black\").active = false;\r\n                    }\r\n                }\r\n            }\r\n            for (let i = this.startIndex; i <= this.moveIndex; i++) {\r\n                if (this.handCards.children[i].name.startsWith(\"card\")) {\r\n                    if (this.handCards.children[i].touchTag) {\r\n                        continue;\r\n                    }\r\n                    this.handCards.children[i].getChildByName(\"bg_black\").active = true;\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    OnTouchEnd: function(event) {\r\n        let moveX = event.target.convertToNodeSpaceAR(event.touch.getLocation()).x;\r\n        let downList = this.LogicPDKGame.GetHandCard();\r\n        for (let i = 0; i < this.handCards.children.length; i++) {\r\n            if (this.handCards.children[i].name.startsWith(\"card\")) {\r\n                if (this.handCards.children[i].touchTag) {\r\n                    this.handCards.children[i].getChildByName(\"bg_black\").active = true;\r\n                } else {\r\n                    this.handCards.children[i].getChildByName(\"bg_black\").active = false;\r\n                }\r\n                if (isEnd) continue;\r\n                let isEnd = false;\r\n                let minX = this.handCards.children[i].x - this.handCards.children[i].width / 2;\r\n                let maxX = minX + this.cardSpcedX;\r\n                if (i == downList.length - 1)\r\n                    maxX = minX + this.handCards.children[i].width;\r\n                if (moveX >= minX && moveX < maxX) {\r\n                    this.endIndex = i;\r\n                    isEnd = true;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (this.startIndex == this.endIndex) {\r\n            if (this.handCards.children[this.endIndex].active && !this.handCards.children[this.endIndex].touchTag) {\r\n                this.Click_card(this.handCards.children[this.endIndex]);\r\n            }\r\n        } else {\r\n            if (this.startIndex > this.endIndex) { //从右往左\r\n                for (let i = this.startIndex; i >= this.endIndex; i--) {\r\n                    if (this.handCards.children[i].touchTag)\r\n                        continue\r\n                    if (this.handCards.children[i].active)\r\n                        this.Click_card(this.handCards.children[i]);\r\n                }\r\n            } else { //从左往右\r\n                for (let i = this.startIndex; i <= this.endIndex; i++) {\r\n                    if (this.handCards.children[i].touchTag)\r\n                        continue\r\n                    if (this.handCards.children[i].active)\r\n                        this.Click_card(this.handCards.children[i]);\r\n                }\r\n            }\r\n        }\r\n        if (this.isChoose == true) {\r\n            let cardArray = this.LogicPDKGame.GetTipCardSlCard();\r\n            if (cardArray.length > 0) {\r\n                this.LogicPDKGame.ChangeSelectCard(cardArray[0]);\r\n                this.Event_ShowHandCard();\r\n            }\r\n        }\r\n        this.canOutCard();\r\n    },\r\n\r\n    OnTouchCancel: function(event) {\r\n        // for (let i = 0; i < this.handCards.children.length; i++) {\r\n        //     if (this.handCards.children[i].name.startsWith(\"card\")) {\r\n        //         if (this.handCards.children[i].touchTag)\r\n        //             continue\r\n        //         this.handCards.children[i].getChildByName(\"bg_black\").active = false;\r\n        //     }\r\n        // }\r\n        this.endIndex = -1;\r\n        let moveX = event.target.convertToNodeSpaceAR(event.touch.getLocation()).x;\r\n        let downList = this.LogicPDKGame.GetHandCard();\r\n        for (let i = 0; i < this.handCards.children.length; i++) {\r\n            if (this.handCards.children[i].name.startsWith(\"card\")) {\r\n                if (this.handCards.children[i].touchTag) {\r\n                    this.handCards.children[i].getChildByName(\"bg_black\").active = true;\r\n                } else {\r\n                    this.handCards.children[i].getChildByName(\"bg_black\").active = false;\r\n                }\r\n                if (isEnd) continue;\r\n                let isEnd = false;\r\n                let minX = this.handCards.children[i].x - this.handCards.children[i].width / 2;\r\n                let maxX = minX + this.cardSpcedX;\r\n                if (i == downList.length - 1)\r\n                    maxX = minX + this.handCards.children[i].width;\r\n                if (moveX >= minX && moveX < maxX) {\r\n                    this.endIndex = i;\r\n                    isEnd = true;\r\n                }\r\n            }\r\n        }\r\n        if (this.endIndex == -1) {\r\n            if (moveX < 0) {\r\n                this.endIndex = 0;\r\n            } else {\r\n                this.endIndex = this.handCards.children.length - 1;\r\n            }\r\n        }\r\n        if (this.startIndex == this.endIndex) {\r\n            if (this.handCards.children[this.endIndex].active && !this.handCards.children[this.endIndex].touchTag) {\r\n                this.Click_card(this.handCards.children[this.endIndex]);\r\n            }\r\n        } else {\r\n            if (this.startIndex > this.endIndex) { //从右往左\r\n                for (let i = this.startIndex; i >= this.endIndex; i--) {\r\n                    if (this.handCards.children[i].touchTag)\r\n                        continue\r\n                    if (this.handCards.children[i].active)\r\n                        this.Click_card(this.handCards.children[i]);\r\n                }\r\n            } else { //从左往右\r\n                for (let i = this.startIndex; i <= this.endIndex; i++) {\r\n                    if (this.handCards.children[i].touchTag)\r\n                        continue\r\n                    if (this.handCards.children[i].active)\r\n                        this.Click_card(this.handCards.children[i]);\r\n                }\r\n            }\r\n        }\r\n        if (this.isChoose == true) {\r\n            let cardArray = this.LogicPDKGame.GetTipCardSlCard();\r\n            if (cardArray.length > 0) {\r\n                this.LogicPDKGame.ChangeSelectCard(cardArray[0]);\r\n                this.Event_ShowHandCard();\r\n            }\r\n        }\r\n        this.canOutCard();\r\n    },\r\n    canOutCard: function() {\r\n        let cardList = this.LogicPDKGame.GetSelectCard();\r\n        let checkCount = 0;\r\n        for (let i = 0; i < this.handCards.children.length; i++) {\r\n            let cardNode = this.handCards.children[i];\r\n            if (cardNode.active == true && cardNode.y == this.Define.MaxRisePosY) {\r\n                checkCount++;\r\n            }\r\n        }\r\n\r\n        if (cardList.length != checkCount) {\r\n            //选中的牌跟存储的牌不一样，\r\n            this.ReInRoom();\r\n            return;\r\n        }\r\n\r\n        let opCardType = this.LogicPDKGame.GetCardType();\r\n        console.log('选择的牌型为', opCardType);\r\n        if (opCardType > 0) {\r\n            //TODO:此处判断待优化\r\n            // if (!cc.find('img_mask_pk', this.node).active) {\r\n                this.btn_outCard.getComponent(cc.Button).interactable = true;\r\n                return;\r\n            // } else {\r\n            //     console.log('没有大过上家的牌标志');\r\n            // }\r\n        }\r\n        this.btn_outCard.getComponent(cc.Button).interactable = false;\r\n    },\r\n    Click_card: function(clickNode) {\r\n        let name = \"\";\r\n        name = clickNode.name;\r\n        let cardIdx = name.substring(5, name.length);\r\n        if (clickNode.y == 0) {\r\n            clickNode.y = this.Define.MaxRisePosY;\r\n            this.LogicPDKGame.SetCardSelected(parseInt(cardIdx));\r\n        } else {\r\n            clickNode.y = 0;\r\n            this.LogicPDKGame.DeleteCardSelected(parseInt(cardIdx));\r\n        }\r\n\r\n    },\r\n\r\n    ///////////////////////////////////////////////////////////////////////////////////////////////////\r\n    /////////////////////////\r\n\r\n    //添加头像\r\n    AddHead: function() {\r\n        this.ClearHead();\r\n        //初始化加入头像 如果已经有加入了头像 显示出来\r\n        let posList = this.RoomMgr.GetEnterRoom().GetRoomProperty(\"posList\");\r\n        let playerCount = posList.length;\r\n        for (let idx = 0; idx < posList.length; idx++) {\r\n            let uiPos = this.RoomPosMgr.GetUIPosByDataPos(posList[idx].pos);\r\n            let path = \"sp_seat0\" + uiPos.toString() + \"/head\";\r\n            let node = this.GetWndNode(path);\r\n            if (!node.getChildByName(\"UIPublicHead\" + uiPos)) {\r\n                let head = cc.instantiate(this.headPrefab);\r\n                node.addChild(head);\r\n\r\n                //加入倍数\r\n                // let bsNode = cc.instantiate(this.bsPrefab);\r\n                // bsNode.active = false;\r\n                // let other = head.getChildByName(\"otherNode\");\r\n                // other.active = false;\r\n                // other.y = 70;\r\n                // other.addChild(bsNode);\r\n\r\n                let headScript = head.getComponent(app.subGameName + \"_UIPublicHead\");\r\n                headScript.Init(uiPos, posList[idx].pos, cc.v2(0, 0), this.Left[uiPos]);\r\n            } else {\r\n                let headNode = node.getChildByName(\"UIPublicHead\" + uiPos);\r\n                // headNode.getChildByName(\"otherNode\").active = false;\r\n                // headNode.getChildByName(\"otherNode\").getChildByName(\"bsPrefab\").active = false;\r\n                let headScript = headNode.getComponent(app.subGameName + \"_UIPublicHead\");\r\n                headScript.Init(uiPos, posList[idx].pos, cc.v2(0, 0), this.Left[uiPos]);\r\n            }\r\n        }\r\n    },\r\n\r\n    ClearHead: function() {\r\n        for (let idx = 0; idx < this.Define.MaxPlayer; idx++) {\r\n            let path = \"sp_seat0\" + idx + \"/head\" + \"/UIPublicHead\" + idx;\r\n            let node = this.GetWndNode(path);\r\n            if (node) {\r\n                let headScript = node.getComponent(app.subGameName + \"_UIPublicHead\");\r\n                headScript.OnClose();\r\n            }\r\n        }\r\n    },\r\n\r\n    OnClose: function() {\r\n        this.HideAll();\r\n        this.ClearHead();\r\n        this.unscheduleAllCallbacks();\r\n    },\r\n\r\n    InitGameStateCommon: function() {\r\n        let setInfo = this.RoomSet.GetRoomSetInfo();\r\n        //得到玩家自己的手牌\r\n        this.handCards.active = true;\r\n        this.LogicPDKGame.InitHandCard();\r\n        this.Event_ShowHandCard();\r\n        let playerAll = this.RoomPosMgr.GetRoomAllPlayerInfo();\r\n        let playerAllList = Object.keys(playerAll);\r\n        for (var i = 0; i < playerAllList.length; i++) {\r\n            let player = playerAll[playerAllList[i]];\r\n            for (let j = 0; j < setInfo.posInfo.length; j++) {\r\n                let info = setInfo.posInfo[j];\r\n                if (player.pid == info.pid) {\r\n                    this.InitCardNum(player.pos, info.cards.length);\r\n                    this.ShowWarningByPos(player.pos, info.cards.length);\r\n                    if (info.addDouble > 0) {\r\n                        this.ShowAddDouble(player.pos, info.addDouble - 1);\r\n                    }\r\n                    if (info.openCard == 1) {\r\n                        this.openCardInfo[player.pos] = info.cards;\r\n                        this.ShowOpenCard(player.pos, info.cards);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    OnShow: function() {\r\n        this.node.getChildByName(\"tip_exit_node\").active = false;\r\n        if (cc.sys.isNative) {\r\n            this.resVersion.string = \"resV\" + app[app.subGameName + \"_HotUpdateMgr\"]().getLocalVersion();\r\n        } else {\r\n            this.resVersion.string = '';\r\n        }\r\n        if (app[app.subGameName + \"_ShareDefine\"]().isCoinRoom || !cc.sys.isNative) {\r\n            this.btn_voice.active = false;\r\n        } else {\r\n            if (this.IsShowVoice()) {\r\n                this.btn_voice.active = true;\r\n            } else {\r\n                this.btn_voice.active = false;\r\n            }\r\n        }\r\n        this.CheckUpdateNotice();\r\n        this.btn_chat.active = this.IsShowChat();\r\n        let roomID = this.RoomMgr.GetEnterRoomID();\r\n        //初始化邀请在线好友的数据\r\n        this.roomCfg = this.Room.GetRoomConfig();\r\n        if (this.roomCfg.clubId > 0 || this.roomCfg.unionId > 0) {\r\n            this.invitationNode.active = true;\r\n            this.invitationNode.getComponent(this.invitationNode.name).InitData(this.roomCfg.clubId, this.roomCfg.unionId, roomID);\r\n        } else {\r\n            this.invitationNode.active = false;\r\n        }\r\n        app[app.subGameName + \"_NetManager\"]().SendPack(app.subGameName + \".C\" + app.subGameName.toUpperCase() + \"GetRoomID\", {}, function(event) {\r\n            if (event.roomID <= 0 || event.roomID != roomID) {\r\n                app[app.subGameName + \"Client\"].ExitGame();\r\n            }\r\n        }, function(error) {\r\n            app[app.subGameName + \"Client\"].ExitGame();\r\n        });\r\n        let GameBg = this.LocalDataManager.GetConfigProperty(\"SysSetting\", app.subGameName + \"_GameBg\");\r\n        this.ChangeBg(GameBg);\r\n        this.isChoose = false;\r\n        this.AddHead();\r\n        this.HideAll();\r\n        this.unscheduleAllCallbacks();\r\n        this.LocalDataManager.SetConfigProperty(\"SysSetting\",\"GameBackMusic\",\"gameBackGround\");\r\n        let GameBackMusic=this.LocalDataManager.GetConfigProperty(\"SysSetting\",\"GameBackMusic\");\r\n        this.SceneManager.PlayMusic(GameBackMusic);\r\n        this.SceneManager.StopSceneMusic();\r\n        this.InitData();\r\n        this.ClearForbiddenTouch();\r\n        //设置牌间距\r\n        this.cardSpcedX = 54;\r\n        this.handCards.getComponent(cc.Layout).spacingX = -80;\r\n\r\n        let state = this.RoomSet.GetRoomSetProperty(\"state\");\r\n        let disslove = this.Room.GetRoomProperty(\"dissolve\");\r\n        let roomState = this.Room.GetRoomProperty(\"state\");\r\n        let setID = this.Room.GetRoomProperty(\"setID\");\r\n        let current = this.Room.GetRoomConfigByProperty(\"setCount\");\r\n        let fangjian = this.Room.GetRoomConfigByProperty(\"fangjian\");\r\n\r\n        //显示房间信息\r\n        this.labeiWanfa.string = this.WanFa();\r\n        if (app[app.subGameName + \"_ShareDefine\"]().isCoinRoom) {\r\n            this.roomInfo.active = false;\r\n        } else {\r\n            this.roomInfo.active = true;\r\n            this.labelRoomId.string = \"房间号：\" + this.Room.GetRoomProperty(\"key\");\r\n            this.lb_jushu.string = \"局数：\" + setID + \"/\" + current;\r\n        }\r\n\r\n        let playerAll = this.Room.GetRoomPosMgr().GetRoomAllPlayerInfo();\r\n        let playerAllList = Object.keys(playerAll);\r\n        let joinPlayerCount = playerAllList.length;\r\n        if (fangjian.length == 0) {\r\n            this.btn_change.active = false;\r\n        } else {\r\n            if (setID == 0 && joinPlayerCount == 3) {\r\n                this.btn_change.active = true;\r\n            } else {\r\n                this.btn_change.active = false;\r\n            }\r\n        }\r\n        if (typeof(disslove) != \"undefined\") {\r\n            if (disslove) {\r\n                let posAgreeList = disslove.posAgreeList;\r\n                if (0 != posAgreeList.length) {\r\n                    this.FormManager.ShowForm(app.subGameName + \"_UIMessage02\");\r\n                }\r\n            }\r\n        }\r\n\r\n        if (roomState != this.ShareDefine.RoomState_Init) {\r\n            let setInfo = this.RoomSet.GetRoomSetInfo();\r\n            //如果有玩家托管  显示托管图标\r\n            let posList = this.Room.GetRoomProperty(\"posList\");\r\n            for (let i = 0; i < posList.length; i++) {\r\n                let data = posList[i];\r\n                let pos = data['pos'];\r\n                let isAuto = data['trusteeship'];\r\n                if (isAuto) {\r\n                    let headScript = this.GetUICardComponentByPos(pos);\r\n                    headScript.ShowAutoIcon(isAuto);\r\n                }\r\n                if (pos == this.RoomPosMgr.GetClientPos() && isAuto) {\r\n                    let secTotal= this.RoomSet.GetSecTotal()\r\n                    this.FormManager.ShowForm(app.subGameName + \"_UIAutoPlay\", secTotal);\r\n                }\r\n            }\r\n            //分数\r\n            // this.RoomPosMgr.OnPoint(setInfo.posInfo, true);\r\n            this.UpdatePlayerScore();\r\n            //发牌阶段\r\n            if (state == this.ShareDefine.SetState_Init) {\r\n                this.InitGameStateCommon();\r\n                this.ChooseDouble();\r\n            } else if (state == this.ShareDefine.SetState_Playing) {\r\n                this.InitGameStateCommon();\r\n                this.HideClientUseTime();\r\n                //显示已用房间限时时间\r\n                this.ShowUseTimeByInfo();\r\n                this.LogicPDKGame.SetCardData(setInfo.opType, setInfo.cardList);\r\n                //显示当前操作位和上家出的牌\r\n                let time = this.GetClockTime();\r\n                let runWaitSec = setInfo.runWaitSec;\r\n                this.lastCircleEnd = setInfo.isFirstOp;\r\n                this.firstTurn = setInfo.isFirstOp;\r\n                if (setInfo.opPos == this.RoomPosMgr.GetClientPos()) {\r\n                    //是否执行房间限时时间\r\n                     this.ScheduleTime(setInfo.opPos);\r\n                    if (setInfo.isFirstOp) {\r\n                        if (this.Room.GetRoomWanfa(this.Define.SEVER_FIRST3)) {\r\n                            this.ShowBtnTipAndOutCard();\r\n                        } else {\r\n                            this.ShowBtnOutCard();\r\n                        }\r\n                    } else {\r\n                        if (setInfo.opType == 0) {\r\n                            this.ShowBtnOutCard();\r\n                        } else {\r\n                            let array = this.LogicPDKGame.GetTipCard();\r\n                            this.ForbiddenTouch(array);\r\n                            if (!array.length) {\r\n                                if (this.isAutoPass()) {\r\n                                    // this.ShowSysMsg(app.subGameName.toUpperCase()+\"_PASS\");\r\n                                    time = this.Define.MinTickTime;\r\n                                } else {\r\n                                    this.ShowBtnPass();\r\n                                }\r\n                            } else {\r\n                                //是否是必出玩法\r\n                                if (this.Room.GetRoomWanfa(this.Define.SEVER_BMUST)) {\r\n                                    this.ShowAllGameBtn();\r\n                                } else {\r\n                                    this.ShowBtnTipAndOutCard();\r\n                                }\r\n                                if (array.length == 1) {\r\n                                    this.Click_btn_tip();\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                } else {\r\n                    let firstOpCard = this.RoomSet.GetRoomSetProperty(\"firstOpCard\");\r\n                    //是否显示黑桃3\r\n                    let uiPos = this.RoomPosMgr.GetUIPosByDataPos(setInfo.opPos);\r\n                    if (setInfo.isFirstOp) { //&& setInfo.robCloseVic.pos == -1\r\n                        let poker_back = this.GetWndNode(\"sp_seat0\" + uiPos + \"/card/poker_back\");\r\n                        poker_back.active = false;\r\n                        this.ShowCard(firstOpCard, poker_back.parent, true);\r\n                    }\r\n                }\r\n                this.ShowOutCard(setInfo.lastOpPos, setInfo.cardList, setInfo.opType);\r\n                this.SetSeat01OutCardPos(setInfo.lastOpPos, setInfo.cardList.length);\r\n                this.StartTickTime(setInfo.opPos, runWaitSec, time);\r\n            } else if (state == this.ShareDefine.SetState_End) {\r\n                //如果玩家已经准备则不显示结算界面\r\n                let clientPos = this.RoomPosMgr.GetClientPos();\r\n                let clientPlayerInfo = this.RoomPosMgr.GetPlayerInfoByPos(clientPos);\r\n                if (clientPlayerInfo[\"gameReady\"]) {\r\n                    this.RefreshRoomShow();\r\n                    return;\r\n                }\r\n                let setEnd = this.RoomSet.GetRoomSetProperty(\"setEnd\");\r\n                this.FormManager.ShowForm(\"game/\" + app.subGameName.toUpperCase() + \"/UI\" + app.subGameName.toUpperCase() + \"_ResultXY\", setEnd);\r\n            }\r\n        } else {\r\n            this.RefreshRoomShow();\r\n        }\r\n        /* //显示房间信息\r\n         if(app[app.subGameName+\"_ShareDefine\"]().isCoinRoom){\r\n             this.roomInfo.active = false;\r\n         }else{\r\n             this.roomInfo.active = true;\r\n             this.labelRoomId.string = \"房间号：\"+room.GetRoomProperty(\"key\");\r\n             this.labeiWanfa.string = this.WanFa();\r\n         }*/\r\n    },\r\n\r\n    //老版皮肤\r\n    onShowGame1: function() {\r\n        this.labeiWanfa.node.color = cc.color(40, 82, 109);\r\n    },\r\n\r\n    //新增皮肤\r\n    onShowGame2: function() {\r\n        this.labeiWanfa.node.color = cc.color(7, 101, 71);\r\n    },\r\n\r\n    ChangeBg: function(GameBgID) {\r\n        GameBgID = parseInt(GameBgID) - 1;\r\n        this.GameBg = GameBgID;\r\n        if (GameBgID) {\r\n            this.onShowGame2();\r\n        } else {\r\n            this.onShowGame1();\r\n        }\r\n    },\r\n    isAutoPass: function() {\r\n        let room = this.RoomMgr.GetEnterRoom();\r\n        let kexuanwanfa = room.GetRoomConfigByProperty('kexuanwanfa');\r\n        if (kexuanwanfa.length > 0) {\r\n            if (kexuanwanfa.indexOf(26) > -1) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    },\r\n    isAutoReady: function() {\r\n        let room = this.RoomMgr.GetEnterRoom();\r\n        let kexuanwanfa = room.GetRoomConfigByProperty('kexuanwanfa');\r\n        if (kexuanwanfa.length > 0) {\r\n            if (kexuanwanfa.indexOf(27) > -1) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    },\r\n    IsShowVoice: function() {\r\n        let room = this.RoomMgr.GetEnterRoom();\r\n        let gaoji = room.GetRoomConfigByProperty('gaoji');\r\n        if (gaoji.length > 0) {\r\n            if (gaoji.indexOf(5) > -1) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    },\r\n    IsShowChat: function() {\r\n        let room = this.RoomMgr.GetEnterRoom();\r\n        let gaoji = room.GetRoomConfigByProperty('gaoji');\r\n        if (gaoji.length > 0) {\r\n            if (gaoji.indexOf(6) > -1) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    },\r\n    InitCardNum: function(pos, count) {\r\n        if (this.RoomPosMgr.GetClientPos() == pos) return;\r\n        let uiPos = this.RoomPosMgr.GetUIPosByDataPos(pos);\r\n        let card = this.GetWndNode(\"sp_seat0\" + uiPos + \"/card\");\r\n        card.active = true;\r\n        let cardNum = this.GetWndNode(\"sp_seat0\" + uiPos + \"/cardNum\");\r\n        cardNum.active = true;\r\n        cardNum.active = false;\r\n        cardNum.getComponent(cc.Label).string = count.toString() + '张';\r\n        if (this.Room.GetRoomWanfa(this.Define.SEVER_SHOWCARDNUM)) {\r\n            // if(true){//默认显示\r\n            cardNum.active = true;\r\n        }\r\n    },\r\n    GetClockTime: function() {\r\n        let second = 0;\r\n        let xianshi = this.Room.GetRoomXianShi();\r\n        if (xianshi == 0) {\r\n            second = 60;\r\n        } else if (xianshi == 1) {\r\n            second = 180;\r\n        } else if (xianshi == 2) {\r\n            second = 300;\r\n        } else if (xianshi == 3) {\r\n            second = 60;\r\n        } else if (xianshi == 4) {\r\n            second = 30;\r\n        } else if (xianshi == 5) {\r\n            second = 15;\r\n        }\r\n        return second;\r\n    },\r\n    ReInRoom: function(room) {\r\n        let roomID = this.RoomMgr.GetEnterRoomID();\r\n        this.RoomMgr.SendGetRoomInfo(roomID);\r\n    },\r\n    ////////////////////////////////show///////////////////////////////////////////\r\n    RefreshRoomShow: function() {\r\n        let room = this.RoomMgr.GetEnterRoom();\r\n        this.ShowPlayerReady(room);\r\n    },\r\n\r\n    HideAllZhunBeiLabel: function() {\r\n        let playerAll = this.RoomPosMgr.GetRoomAllPlayerInfo();\r\n        let playerAllList = Object.keys(playerAll);\r\n        for (var i = 0; i < playerAllList.length; i++) {\r\n            let player = playerAll[playerAllList[i]];\r\n            let uiPos = this.RoomPosMgr.GetUIPosByDataPos(player.pos);\r\n            let path = \"sp_seat0\" + uiPos + \"/head\" + \"/UIPublicHead\" + uiPos;\r\n            let headNode = this.GetWndNode(path);\r\n            if (!headNode || typeof(headNode) == \"undefined\") continue;\r\n            let headScript = headNode.getComponent(app.subGameName + \"_UIPublicHead\");\r\n            headScript.setReady(false);\r\n        }\r\n    },\r\n\r\n    ShowOrHideZhunbei: function(pos, isShow) {\r\n        let headScript = this.GetUICardComponentByPos(pos);\r\n        headScript.setReady(isShow);\r\n    },\r\n\r\n    HidePlayerAllBtn: function() {\r\n        this.btn_ready.active = false;\r\n        this.btn_weixin.active = false;\r\n        this.btn_cancel.active = false;\r\n        this.btn_go.active = false;\r\n        this.invitationNode.active = false;\r\n    },\r\n\r\n    HideAll: function() {\r\n        this.HideAllZhunBeiLabel();\r\n        this.HidePlayerAllBtn();\r\n        this.HideAllClock();\r\n        this.HideAllHandCard();\r\n        this.HideAllPass();\r\n        this.HideAllWarning();\r\n        this.HideAllCardNum();\r\n        this.HideAllOutCard();\r\n        this.HideAllGameBtn();\r\n        this.HideAllBsNode();\r\n        this.HideAllOpenCard();\r\n        this.btn_robDoor.active = false;\r\n        this.btn_notRobDoor.active = false;\r\n        this.btn_openCard.active = false;\r\n    },\r\n\r\n    HideAllAni: function() {\r\n        this.plane_Ani.active = false;\r\n        this.boom_Ani.active = false;\r\n        this.dragon_Ani.active = false;\r\n    },\r\n\r\n    OnClickForm: function() {\r\n        //        this.FormManager.CloseForm(app.subGameName+\"_UIChat\");\r\n    },\r\n\r\n    OnClick: function(btnName, btnNode) {\r\n        console.log('btnName', btnName, btnNode);\r\n        let roomID = this.Room.GetRoomProperty(\"roomID\");\r\n        let pos = this.RoomPosMgr.GetClientPos();\r\n        let state = this.RoomSet.GetRoomSetProperty(\"state\");\r\n        if (btnName == \"btn_go\") {\r\n            this.Click_btn_go();\r\n        } else if (btnName == \"btn_ready\") {\r\n            this.Click_btn_ready();\r\n        } else if (btnName == \"btn_cancel\") {\r\n            this.Click_btn_cancel();\r\n        } else if (btnName == \"btn_weixin\") {\r\n            this.Click_btn_weixin();\r\n        } else if (btnName == \"bg\") {\r\n            //            this.FormManager.CloseForm(app.subGameName+\"_UIChat\");\r\n        } else if (btnName == \"btn_pass\") {\r\n            this.Click_btn_pass();\r\n        } else if (btnName == \"btn_tip\") {\r\n            this.Click_btn_tip();\r\n        } else if (btnName == \"btn_outCard\") {\r\n            this.Click_btn_outCard();\r\n        } else if (btnName == \"btn_1\") {\r\n            this.RoomMgr.SendAddDouble(roomID, pos, 0);\r\n        } else if (btnName == \"btn_2\") {\r\n            this.RoomMgr.SendAddDouble(roomID, pos, 1);\r\n        } else if (btnName == \"btn_3\") {\r\n            this.RoomMgr.SendAddDouble(roomID, pos, 2);\r\n        } else if (btnName == \"btn_5\") {\r\n            this.RoomMgr.SendAddDouble(roomID, pos, 5);\r\n        } else if (btnName == \"btn_robDoor\") {\r\n            this.RoomMgr.SendRoobDoor(roomID, pos, 1);\r\n        } else if (btnName == \"btn_notRobDoor\") {\r\n            this.RoomMgr.SendRoobDoor(roomID, pos, 0);\r\n        } else if (btnName == \"btn_openCard\") {\r\n            this.RoomMgr.SendOpenCard(roomID, pos, 1);\r\n        } else if (btnName == \"btn_jsfj\" || btnName == \"btn_exit\") {\r\n            //提示退出房间还是查看大厅\r\n            let room = this.RoomMgr.GetEnterRoom();\r\n            let roomCfg = room.GetRoomConfig();\r\n            if (roomCfg.clubId != 0) {\r\n                this.node.getChildByName(\"tip_exit_node\").zIndex = 100;\r\n                this.node.getChildByName(\"tip_exit_node\").active = true;\r\n            } else {\r\n                this.Click_btn_jiesan();\r\n            }\r\n        } else if (btnName == \"btn_close_tip\") {\r\n            this.node.getChildByName(\"tip_exit_node\").active = false;\r\n        } else if (btnName == \"btn_exit_room\") {\r\n            this.Click_btn_jiesan();\r\n        } else if (btnName == \"btn_go_hall\") {\r\n            app[app.subGameName + \"Client\"].ExitGame(null, '0');\r\n        } else if (btnName == \"btn_shuaxin\") {\r\n            this.ReInRoom();\r\n        } else if (btnName == \"btn_gps\") {\r\n            let PlayerCount = this.RoomPosMgr.GetRoomPlayerCount();\r\n            if (PlayerCount <= 2) {\r\n                app[app.subGameName + \"_SysNotifyManager\"]().ShowSysMsg('MSG_GPS_LOST_PLAYER');\r\n                return;\r\n            }\r\n            if (this.FormManager.IsFormShow(app.subGameName + \"_UIGPSLoation\")) {\r\n                this.FormManager.CloseForm(app.subGameName + \"_UIGPSLoation\");\r\n            } else {\r\n                this.FormManager.ShowForm(app.subGameName + \"_UIGPSLoation\");\r\n            }\r\n        } else if (btnName == \"btn_voice\") {} else if (btnName == \"btn_chat\") {\r\n            this.FormManager.ShowForm(app.subGameName + \"_UIChat\");\r\n        } else if (btnName == \"btn_setting\") {\r\n            this.FormManager.ShowForm(app.subGameName + \"_UISetting02\");\r\n        } else if (btnName == \"btn_change\") {\r\n            this.Click_btn_change();\r\n        } else if (btnName == \"touming\") {\r\n            if (state == this.ShareDefine.SetState_Playing) {\r\n                //手牌回落\r\n                this.LogicPDKGame.ChangeSelectCard([]);\r\n                this.Event_ShowHandCard();\r\n            }\r\n        } else {\r\n            this.ErrLog(\"OnClick(%s) not find\", btnName);\r\n        }\r\n    },\r\n    Event_CodeError: function(event) {\r\n        let argDict = event;\r\n        let data = argDict[\"Result\"];\r\n        if (data.Msg == \"hei tao san bi chu\") {\r\n            this.ShowSysMsg(\"黑桃三先出\");\r\n        } else if (argDict.Code == this.ShareDefine.SportsPointNotEnough) {\r\n            this.ShowSysMsg(\"比赛分不足房间自动解散\");\r\n            // this.SetWaitForConfirm(\"SportsPointNotEnough\",this.ShareDefine.ConfirmYN, []);\r\n        } else if(argDict.Code == this.ShareDefine.OpCard_Error){\r\n            //出牌后手牌出错\r\n            this.ReInRoom();\r\n        } else if (argDict.Code == this.ShareDefine.ApplyDissolve) {\r\n            this.ShowSysMsg(\"申请解散次数已达上限\");\r\n        } else if (argDict.Code == this.ShareDefine.NotAllow) {\r\n            if (this.FormManager.IsFormShow(\"game/\" + app.subGameName.toUpperCase() + \"/UI\" + app.subGameName.toUpperCase() + \"_Result\")) {\r\n                this.FormManager.CloseForm(\"game/\" + app.subGameName.toUpperCase() + \"/UI\" + app.subGameName.toUpperCase() + \"_Result\");\r\n            }\r\n        }\r\n    },\r\n    Click_btn_jiesan: function() {\r\n        let room = this.RoomMgr.GetEnterRoom();\r\n        if (!room) {\r\n            this.ErrLog(\"Click_btn_jiesan not enter room\");\r\n            return\r\n        }\r\n        let roomPosMgr = this.RoomMgr.GetEnterRoom().GetRoomPosMgr();\r\n        if (app[app.subGameName + \"_ShareDefine\"]().isCoinRoom) {\r\n            //Event_ExitRoomSuccess 都有做退出处理\r\n            //Event_CodeError\r\n            // let needArg = roomPosMgr.GetClientPos();\r\n            // let roomID = this.RoomMgr.GetEnterRoomID();\r\n            // app[app.subGameName + \"_GameManager\"]().SendExitRoom(roomID, needArg);\r\n            // app[app.subGameName + \"_FormManager\"]().AddDefaultFormName(app.subGameName+\"UIPractice\");\r\n            app[app.subGameName + \"Client\"].ExitGame();\r\n            return;\r\n        }\r\n\r\n        let state = room.GetRoomProperty(\"state\");\r\n        if (state == this.ShareDefine.RoomState_End) {\r\n            //直接退出到大厅\r\n            app[app.subGameName + \"Client\"].ExitGame();\r\n            return\r\n        }\r\n        let ClientPos = roomPosMgr.GetClientPos();\r\n        let player = roomPosMgr.GetPlayerInfoByPos(ClientPos);\r\n        if (!player)\r\n            return;\r\n        let posName = player.name;\r\n        let roomID = this.RoomMgr.GetEnterRoomID();\r\n        if (state == this.ShareDefine.RoomState_Playing) {\r\n            let jiesan = room.GetRoomConfigByProperty('jiesan');\r\n            if (jiesan == 4) {\r\n                this.ShowSysMsg(\"房间不可以解散\");\r\n                return;\r\n            }\r\n            // app[app.subGameName+\"_GameManager\"]().SendDissolveRoom(roomID, posName);\r\n            app[app.subGameName + \"_ConfirmManager\"]().SetWaitForConfirmForm(this.OnConFirm.bind(this), 'MSG_GAME_DissolveRoom', []);\r\n            app[app.subGameName + \"_ConfirmManager\"]().ShowConfirm(this.ShareDefine.Confirm, 'MSG_GAME_DissolveRoom', []);\r\n            return\r\n        }\r\n\r\n        let msgID = '';\r\n\r\n        let roomCfg = room.GetRoomConfig();\r\n        if (roomCfg.createType == 2 || roomCfg.clubId != 0) {\r\n            msgID = 'UIMoreTuiChuFangJian';\r\n        } else {\r\n            if (room.IsClientIsCreater()) {\r\n                msgID = 'PlayerLeaveRoom';\r\n            } else {\r\n                msgID = 'UIMoreTuiChuFangJian';\r\n            }\r\n        }\r\n\r\n        app[app.subGameName + \"_ConfirmManager\"]().SetWaitForConfirmForm(this.OnConFirm.bind(this), msgID, []);\r\n        app[app.subGameName + \"_ConfirmManager\"]().ShowConfirm(this.ShareDefine.Confirm, msgID, []);\r\n    },\r\n    //切换人数\r\n    Click_btn_change: function() {\r\n        let roomID = this.RoomMgr.GetEnterRoomID();\r\n        let that = this;\r\n        app[app.subGameName + \"_NetManager\"]().SendPack(app.subGameName + \".C\" + app.subGameName.toUpperCase() + \"ChangePlayerNum\", {\r\n                \"roomID\": roomID\r\n            }, function(success) {\r\n\r\n            },\r\n            function(error) {\r\n                let msg = error.Msg;\r\n                that.ShowSysMsg(msg);\r\n            });\r\n    },\r\n\r\n    Click_btn_tip: function() {\r\n        //是否要先出黑桃3\r\n        let array = this.LogicPDKGame.GetTipCard();\r\n        if (this.firstTurn && this.Room.GetRoomWanfa(this.Define.SEVER_FIRST3) && !this.robSuccess) {\r\n            let firstOpCard = this.RoomSet.GetRoomSetProperty(\"firstOpCard\");\r\n            let value = this.LogicPDKGame.GetCardValue(firstOpCard);\r\n            this.ShowSysMsg(app.subGameName.toUpperCase() + \"_3FIRST\", [value]);\r\n        }\r\n\r\n        if (array.length) {\r\n            if (this.tipCount >= array.length) {\r\n                this.tipCount = 0;\r\n            }\r\n            this.LogicPDKGame.ChangeSelectCard(array[this.tipCount]);\r\n            this.Event_ShowHandCard();\r\n            this.tipCount++;\r\n        }\r\n        this.canOutCard();\r\n    },\r\n\r\n    Click_btn_pass: function() {\r\n        let serverPack = {};\r\n        let roomID = this.RoomMgr.GetEnterRoom().GetRoomProperty(\"roomID\");\r\n        serverPack.roomID = roomID;\r\n        let pos = this.RoomPosMgr.GetClientPos();\r\n        serverPack.pos = pos;\r\n        serverPack.opCardType = 1;\r\n        serverPack.cardList = [];\r\n        this.RoomMgr.SendOpCard(serverPack);\r\n    },\r\n\r\n    IsDownPosSingleCard: function() {\r\n        let totalNum = -1;\r\n        let playerNum = this.RoomPosMgr.GetPosCount();\r\n        if (playerNum == 2) {\r\n            totalNum = this.GetDownPosCardNum('downPos');\r\n            if (totalNum == 1) {\r\n                return true;\r\n            }\r\n        } else if (playerNum == 3) {\r\n            totalNum = this.GetDownPosCardNum('downPos');\r\n            if (totalNum == 1) {\r\n                return true;\r\n            } else if (totalNum == 0) {\r\n                totalNum = this.GetDownPosCardNum('upPos');\r\n                if (totalNum == 1) {\r\n                    return true;\r\n                }\r\n            }\r\n        } else if (playerNum == 4) {\r\n            totalNum = this.GetDownPosCardNum('downPos');\r\n            if (totalNum == 1) {\r\n                return true;\r\n            } else if (totalNum == 0) {\r\n                totalNum = this.GetDownPosCardNum('facePos');\r\n                if (totalNum == 1) {\r\n                    return true;\r\n                } else if (totalNum == 0) {\r\n                    totalNum = this.GetDownPosCardNum('upPos');\r\n                    if (totalNum == 1) {\r\n                        return true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    },\r\n\r\n    GetDownPosCardNum: function(posTag) {\r\n        let clientPos = -1;\r\n        let uiPos = -1;\r\n        if (posTag == 'downPos') {\r\n            clientPos = this.RoomPosMgr.GetClientDownPos();\r\n        } else if (posTag == 'facePos') {\r\n            clientPos = this.RoomPosMgr.GetClientFacePos();\r\n        } else if (posTag == 'upPos') {\r\n            clientPos = this.RoomPosMgr.GetClientUpPos();\r\n        }\r\n        uiPos = this.RoomPosMgr.GetUIPosByDataPos(clientPos);\r\n        let cardNode = this.GetWndNode(\"sp_seat0\" + uiPos + \"/cardNum\");\r\n        return parseInt(cardNode.getComponent(cc.Label).string);\r\n    },\r\n\r\n    Click_btn_outCard: function() {\r\n        console.log(\"点击打牌按钮\");\r\n        //发给服务端的消息\r\n        let serverPack = {};\r\n        let roomID = this.RoomMgr.GetEnterRoom().GetRoomProperty(\"roomID\");\r\n        serverPack.roomID = roomID;\r\n        let pos = this.RoomPosMgr.GetClientPos();\r\n        serverPack.pos = pos;\r\n        let opCardType = this.LogicPDKGame.GetCardType();\r\n        console.log(\"获取打牌的牌型：\" + opCardType);\r\n        this.ClientOpCardByType(opCardType, serverPack);\r\n    },\r\n\r\n    ClientOpCardByType: function(opCardType, serverPack, isSelectCard = true) {\r\n        if (opCardType > 0) {\r\n            serverPack.opCardType = opCardType;\r\n            let cardList = [];\r\n            if (isSelectCard) {\r\n                cardList = this.LogicPDKGame.GetSelectCard();\r\n            } else {\r\n                cardList = this.LogicPDKGame.GetHandCard();\r\n            }\r\n            //下家如果只有一张单牌 必须从最大牌出\r\n            if (this.IsDownPosSingleCard()) {\r\n                if (opCardType == 2) {\r\n                    let handeCardList = this.LogicPDKGame.GetHandCard();\r\n                    let aValue = this.LogicPDKGame.GetCardValue(handeCardList[0]);\r\n                    let bValue = this.LogicPDKGame.GetCardValue(cardList[0]);\r\n                    if (bValue != aValue) {\r\n                        this.ShowSysMsg(app.subGameName.toUpperCase() + \"_BAODAN\");\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n            let firstOpCard = this.RoomSet.GetRoomSetProperty(\"firstOpCard\");\r\n            //获取当前局数\r\n            let setID = this.RoomMgr.GetEnterRoom().GetRoomProperty(\"setID\");\r\n            //如果抢关门成功首轮可以不出黑桃3\r\n            if (!this.robSuccess) {\r\n                //是否每局先出黑桃3\r\n                if (this.Room.GetRoomWanfa(this.Define.SEVER_FIRST3) && this.firstTurn) {\r\n                    if (cardList.indexOf(firstOpCard) == -1 && !this.Room.GetRoomWanfa(this.Define.SEVER_FIRST3NOCHU3)) {\r\n                        this.ShowSysMsg(\"MSG_CANT_OUT\");\r\n                        this.ReInRoom();\r\n                        return;\r\n                    }\r\n                }\r\n                //是否首局先出黑桃3\r\n                else if (this.Room.GetRoomWanfa(this.Define.SEVER_SHOUJUFIRST3) && this.firstTurn && setID == 1) {\r\n                    if (cardList.indexOf(firstOpCard) == -1 && !this.Room.GetRoomWanfa(this.Define.SEVER_FIRST3NOCHU3)) {\r\n                        this.ShowSysMsg(\"MSG_CANT_OUT\");\r\n                        this.ReInRoom();\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (!this.Room.GetRoomWanfa(this.Define.SEVER_BMUSTBOMB)) {\r\n                //检测出的牌是否有包含炸弹拆开的\r\n                if (this.LogicPDKGame.IsDismantleBoom()) {\r\n                    this.ShowSysMsg(app.subGameName.toUpperCase() + \"_ZDBUCHAI_ERROR\");\r\n                    return;\r\n                }\r\n            }\r\n            this.LogicPDKGame.TransformValueToS(cardList);\r\n            //出牌前判断是否重值或多牌\r\n            if (!this.CheckSelCardListInHandCard(cardList)) {\r\n                app[app.subGameName + \"_SysNotifyManager\"]().ShowSysMsg(\"请重新选牌\", [], 3);\r\n                this.ReInRoom();\r\n                return;\r\n            }\r\n            if (!this.CheckSelCardListOrCardList(cardList) && isSelectCard == true) {\r\n                app[app.subGameName + \"_SysNotifyManager\"]().ShowSysMsg(\"选牌有误，请重新选择\", [], 3);\r\n                //手牌回落\r\n                this.LogicPDKGame.ChangeSelectCard([]);\r\n                this.Event_ShowHandCard();\r\n                return;\r\n            }\r\n            serverPack.cardList = cardList;\r\n            serverPack.daiNum = this.LogicPDKGame.GetDaiNum();\r\n            console.log(\"打出去的牌类型 ==\" + serverPack.opCardType);\r\n            this.RoomMgr.SendOpCard(serverPack);\r\n        } else {\r\n            this.ShowSysMsg(\"MSG_CANT_OUT\");\r\n            this.ReInRoom();\r\n        }\r\n    },\r\n\r\n    Click_btn_ready: function() {\r\n        let room = this.RoomMgr.GetEnterRoom();\r\n        if (!room) {\r\n            this.ErrLog(\"Click_btn_ready not enter room\");\r\n            return\r\n        }\r\n        let roomID = room.GetRoomProperty(\"roomID\");\r\n        let clientPos = room.GetRoomPosMgr().GetClientPos();\r\n        console.log('roomID', roomID, clientPos);\r\n        app[app.subGameName + \"_GameManager\"]().SendReady(roomID, clientPos);\r\n    },\r\n\r\n    Click_btn_cancel: function() {\r\n        let room = this.RoomMgr.GetEnterRoom();\r\n        if (!room) {\r\n            this.ErrLog(\"Click_btn_cancel not enter room\");\r\n            return\r\n        }\r\n        let roomID = room.GetRoomProperty(\"roomID\");\r\n        let clientPos = room.GetRoomPosMgr().GetClientPos();\r\n        app[app.subGameName + \"_GameManager\"]().SendUnReady(roomID, clientPos);\r\n    },\r\n\r\n    Click_btn_go: function() {\r\n        // let roomID = this.RoomMgr.GetEnterRoomID();\r\n        // this.RoomMgr.SendStartRoomGame(roomID);\r\n    },\r\n\r\n    //////////////////////////////////////////////////////////////////////////\r\n    Event_PosReadyChg: function(event) {\r\n        this.RefreshRoomShow();\r\n        let serverPack = event;\r\n        app[app.subGameName + \"Client\"].OnEvent(\"Head_PosReadyChg\", serverPack);\r\n    },\r\n\r\n    Event_RoomEnd: function(event) {\r\n        // this.FormManager.ShowForm(app.subGameName+\"_UIPublic_Record\");\r\n        // this.HideAll();\r\n    },\r\n\r\n    OnPack_AutoStart: function(event) {\r\n\r\n    },\r\n\r\n    //一局开始\r\n    Event_SetStart: function(event) {\r\n        this.FormManager.CloseForm(app.subGameName + \"_UILPPublic_Record\");\r\n        this.FormManager.CloseForm(app.subGameName + \"_UIPublic_Record\");\r\n        this.FormManager.CloseForm(\"game/\" + app.subGameName.toUpperCase() + \"/UI\" + app.subGameName.toUpperCase() + \"_ResultXY\");\r\n        app[app.subGameName + \"Client\"].OnEvent(\"SetStart\");\r\n        this.firstTurn = true;\r\n        this.LogicPDKGame.InitHandCard();\r\n        this.ClearForbiddenTouch();\r\n        this.allCardIdx = 0;\r\n        this.hanCardIdx = 0;\r\n        this.player1Idx = 0;\r\n        this.player2Idx = 0;\r\n        this.player3Idx = 0;\r\n        this.openCardInfo = {};\r\n        this.HideAll();\r\n        //隐藏切换人数\r\n        this.btn_change.active = false;\r\n        //显示需要发的牌\r\n        this.ShowAllCard();\r\n        let posInfo = event[\"setInfo\"].posInfo;\r\n        //从房主开始发牌\r\n        // let ownerID = this.RoomMgr.GetEnterRoom().GetRoomProperty(\"ownerID\");\r\n        let playerAll = this.RoomPosMgr.GetRoomAllPlayerInfo();\r\n        let playerAllList = Object.keys(playerAll);\r\n        for (var i = 0; i < playerAllList.length; i++) {\r\n            let player = playerAll[playerAllList[i]];\r\n            // if(ownerID == player.pid){\r\n            //     owner = player;\r\n            // }\r\n            let cardsCount = posInfo[i].cards.length;\r\n            this.InitCardNum(player.pos, cardsCount);\r\n        }\r\n        if (this.Room.GetRoomWanfa(this.Define.SEVER_MINGCARD)) {\r\n            this.btn_openCard.active = true;\r\n        }\r\n\r\n        let ClientPos = this.RoomPosMgr.GetClientPos();\r\n        this.FaPaiAction(ClientPos);\r\n        this.SetRoomData();\r\n    },\r\n    //更新局数\r\n    SetRoomData: function() {\r\n        let setID = this.Room.GetRoomProperty(\"setID\");\r\n        let current = this.Room.GetRoomConfigByProperty(\"setCount\");\r\n        this.lb_jushu.string = \"局数：\" + setID + \"/\" + current;\r\n    },\r\n    //-----------------回调函数------------------------\r\n    Event_ChatMessage: function(event) {\r\n        let argDict = event;\r\n        let senderPid = argDict[\"senderPid\"];\r\n        let quickID = parseInt(argDict[\"quickID\"]);\r\n        let content = argDict[\"content\"];\r\n\r\n        let playerList = this.RoomMgr.GetEnterRoom().GetRoomPosMgr().GetRoomAllPlayerInfo();\r\n        let playerListKey = Object.keys(playerList);\r\n        let initiatorPos = \"\";\r\n        for (let i = 0; i < playerListKey.length; i++) {\r\n            let player = playerList[playerListKey[i]];\r\n            let pid = player[\"pid\"];\r\n            if (senderPid == pid) {\r\n                initiatorPos = parseInt(i);\r\n            }\r\n        }\r\n        let playerSex = this.InitHeroSex(initiatorPos);\r\n        let soundName = \"\";\r\n        let path = \"\";\r\n        if (quickID < 101) {\r\n            switch (quickID) {\r\n                case 1:\r\n                    content = app.i18n.t(\"UIVoiceStringBieChao\");\r\n                    soundName = [playerSex, \"_FastVoice_1\"].join(\"\");\r\n                    break;\r\n                case 2:\r\n                    content = app.i18n.t(\"UIVoiceStringBieZou\");\r\n                    soundName = [playerSex, \"_FastVoice_2\"].join(\"\");\r\n                    break;\r\n                case 3:\r\n                    content = app.i18n.t(\"UIVoiceStringZhaoHu\");\r\n                    soundName = [playerSex, \"_FastVoice_3\"].join(\"\");\r\n                    break;\r\n                case 4:\r\n                    content = app.i18n.t(\"UIVoiceStringZanLi\");\r\n                    soundName = [playerSex, \"_FastVoice_4\"].join(\"\");\r\n                    break;\r\n                case 5:\r\n                    content = app.i18n.t(\"UIVoiceStringZanShang\");\r\n                    soundName = [playerSex, \"_FastVoice_5\"].join(\"\");\r\n                    break;\r\n                case 6:\r\n                    content = app.i18n.t(\"UIVoiceStringCuiCu\");\r\n                    soundName = [playerSex, \"_FastVoice_6\"].join(\"\");\r\n                    break;\r\n                case 7:\r\n                    content = app.i18n.t(\"UIVoiceStringKuaJiang\");\r\n                    soundName = [playerSex, \"_FastVoice_7\"].join(\"\");\r\n                    break;\r\n                case 8:\r\n                    content = app.i18n.t(\"UIVoiceStringDaShang\");\r\n                    soundName = [playerSex, \"_FastVoice_8\"].join(\"\");\r\n                    break;\r\n                case 9:\r\n                    content = app.i18n.t(\"UIVoiceStringLiKai\");\r\n                    soundName = [playerSex, \"_FastVoice_9\"].join(\"\");\r\n                    break;\r\n                case 10:\r\n                    content = app.i18n.t(\"UIVoiceStringYanChi\");\r\n                    soundName = [playerSex, \"_FastVoice_10\"].join(\"\");\r\n                    break;\r\n                default:\r\n                    this.ErrLog(\"Event_chatmessage not find(%s)\", quickID);\r\n            }\r\n        } else {\r\n            switch (quickID) {\r\n                case 101:\r\n                    path = \"face1Action\";\r\n                    break;\r\n                case 102:\r\n                    path = \"face2Action\";\r\n                    break;\r\n                case 103:\r\n                    path = \"face3Action\";\r\n                    break;\r\n                case 104:\r\n                    path = \"face4Action\";\r\n                    break;\r\n                case 105:\r\n                    path = \"face5Action\";\r\n                    break;\r\n                case 106:\r\n                    path = \"face6Action\";\r\n                    break;\r\n                case 107:\r\n                    path = \"face7Action\";\r\n                    break;\r\n                case 108:\r\n                    path = \"face8Action\";\r\n                    break;\r\n                case 109:\r\n                    path = \"face9Action\";\r\n                    break;\r\n                case 110:\r\n                    path = \"face10Action\";\r\n                    break;\r\n                case 111:\r\n                    path = \"face11Action\";\r\n                    break;\r\n                case 112:\r\n                    path = \"face12Action\";\r\n                    break;\r\n                case 113:\r\n                    path = \"face13Action\";\r\n                    break;\r\n                case 114:\r\n                    path = \"face14Action\";\r\n                    break;\r\n                case 115:\r\n                    path = \"face15Action\";\r\n                    break;\r\n                case 116:\r\n                    path = \"face16Action\";\r\n                    break;\r\n                case 117:\r\n                    path = \"face17Action\";\r\n                    break;\r\n                case 118:\r\n                    path = \"face18Action\";\r\n                    break;\r\n                case 119:\r\n                    path = \"face19Action\";\r\n                    break;\r\n                case 120:\r\n                    path = \"face20Action\";\r\n                    break;\r\n                default:\r\n                    this.ErrLog(\"Event_chatmessage not find(%s)\", quickID);\r\n            }\r\n        }\r\n        this.SoundManager.PlaySound(soundName);\r\n\r\n        let roomPosMgr = this.RoomMgr.GetEnterRoom().GetRoomPosMgr();\r\n\r\n        //敏感词汇替换\r\n        content = this.UtilsWord.CheckContentDirty(content);\r\n        let headScript = this.GetUICardComponentByPos(initiatorPos);\r\n        if (content == \"\") {\r\n            headScript.ShowFaceContent(path);\r\n        } else {\r\n            headScript.ShowChatContent(content);\r\n        }\r\n    },\r\n\r\n    //特效播放结束\r\n    OnEffectEnd: function(wndPath, effectName) {\r\n\r\n\r\n    },\r\n\r\n    InitHeroSex: function(pos) {\r\n        let RoomPosMgr = this.RoomMgr.GetEnterRoom().GetRoomPosMgr();\r\n        let player = RoomPosMgr.GetPlayerInfoByPos(pos);\r\n        let Sex = player[\"sex\"];\r\n        let playerSex = \"\";\r\n        if (Sex == this.ShareDefine.HeroSex_Boy) {\r\n            playerSex = \"boy\";\r\n        } else if (Sex == this.ShareDefine.HeroSex_Girl) {\r\n            playerSex = \"girl\";\r\n        }\r\n        return playerSex;\r\n    },\r\n    //继续游戏\r\n    Event_PosContinueGame: function(event) {\r\n        // this.HideAll();\r\n        let argDict = event;\r\n        let room = this.RoomMgr.GetEnterRoom();\r\n        if (!room) {\r\n            this.ErrLog(\"Event_PosContinueGame not enter room\");\r\n            return\r\n        }\r\n        let RoomPosMgr = room.GetRoomPosMgr();\r\n        let clientPos = RoomPosMgr.GetClientPos();\r\n        if (argDict[\"pos\"] != clientPos) {\r\n            let clientPlayerInfo = RoomPosMgr.GetPlayerInfoByPos(clientPos);\r\n            // //如果玩家已经继续了,需要渲染其他人的状态\r\n            if (!clientPlayerInfo[\"gameReady\"]) {\r\n                return;\r\n            }\r\n        } else { //如果是自己准备就清理界面\r\n            this.FormManager.CloseForm(\"game/\" + app.subGameName.toUpperCase() + \"/UI\" + app.subGameName.toUpperCase() + \"_ResultXY\");\r\n        }\r\n        this.RefreshRoomShow();\r\n    },\r\n\r\n\r\n    //位置更新\r\n    Event_PosUpdate: function(event) {\r\n        let serverPack = event;\r\n        app[app.subGameName + \"Client\"].OnEvent('Head_PosUpdate', serverPack);\r\n        this.RefreshRoomShow();\r\n    },\r\n\r\n    //位置离开\r\n    Event_PosLeave: function(event) {\r\n        let room = this.RoomMgr.GetEnterRoom();\r\n        if (!room) {\r\n            this.ErrLog(\"Event_PosLeave not enter room\");\r\n            return\r\n        }\r\n\r\n        let serverPack = event;\r\n        let pos = serverPack[\"pos\"];\r\n\r\n        app[app.subGameName + \"Client\"].OnEvent('Head_PosLeave', serverPack);\r\n\r\n        let clientPos = room.GetRoomPosMgr().GetClientPos();\r\n        //如果是客户端玩家并且是被T了\r\n        if (serverPack[\"beKick\"] && clientPos == pos) {\r\n            if (serverPack[\"kickOutTYpe\"] == 2) {\r\n                this.SetWaitForConfirm('MSG_BeKick', this.ShareDefine.ConfirmOK, [serverPack.msg]);\r\n            } else if (serverPack[\"kickOutTYpe\"] == 3) {\r\n                this.SetWaitForConfirm('MSG_BeKick', this.ShareDefine.ConfirmOK, [\"由于长时间未准备，您已被请出房间\"]);\r\n            } else {\r\n                this.SetWaitForConfirm('UIPlay_BeKick', this.ShareDefine.ConfirmOK);\r\n            }\r\n        }\r\n        //如果是客户端自己，返回大厅\r\n        if (!serverPack[\"beKick\"] && clientPos == pos) {\r\n            app[app.subGameName + \"Client\"].ExitGame();\r\n        }\r\n        this.RefreshRoomShow();\r\n    },\r\n    Event_ExitRoomSuccess: function(event) {\r\n        app[app.subGameName + \"Client\"].ExitGame();\r\n    },\r\n\r\n    HideClientUseTime: function(){\r\n        let clientPos = this.RoomPosMgr.GetClientPos();\r\n        let headScript = this.GetUICardComponentByPos(clientPos);\r\n        headScript.SetTimeOpen(false);\r\n    },\r\n    //限时已用房间限时时间(显示静态)\r\n    ShowUseTime: function(room){\r\n        let clientPos = this.RoomPosMgr.GetClientPos();\r\n        let secTotal = this.RoomSet.GetSecTotal();\r\n        let headScript = this.GetUICardComponentByPos(clientPos);\r\n        headScript.ShowUseTime(secTotal);\r\n    },\r\n\r\n    //重新渲染界面后找服务端要实时时间\r\n    ShowUseTimeByInfo: function(room){\r\n        let self = this;\r\n        let roomID = this.RoomMgr.GetEnterRoomID();\r\n        let clientPos = this.RoomPosMgr.GetClientPos();\r\n        app[app.subGameName + \"_NetManager\"]().SendPack(app.subGameName + \".C\" + app.subGameName.toUpperCase() + \"GetTime\", {\"roomID\": roomID, \"pos\": clientPos}, function (event) {\r\n            let headScript = self.GetUICardComponentByPos(clientPos);\r\n            headScript.ShowUseTime(event.secTotal);\r\n        }, function (event) {});\r\n    },\r\n    ScheduleTime: function(pos){\r\n        let self = this;\r\n        let roomID = this.RoomMgr.GetEnterRoomID();\r\n        let clientPos = this.RoomPosMgr.GetClientPos();\r\n        app[app.subGameName + \"_NetManager\"]().SendPack(app.subGameName + \".C\" + app.subGameName.toUpperCase() + \"GetTime\", {\"roomID\": roomID, \"pos\": clientPos}, function (event) {\r\n            let headScript = self.GetUICardComponentByPos(pos);\r\n            headScript.ShowUseTime(event.secTotal);\r\n            headScript.SetTimeOpen(true);\r\n        }, function (event) {});\r\n    },\r\n\r\n    //一局结束\r\n    Event_SetEnd: function(event) {\r\n        this.unschedule(this.CallEverySecond);\r\n        this.HideClientUseTime();\r\n        //判断是否被关门\r\n        let setEnd = this.RoomSet.GetRoomSetProperty(\"setEnd\");\r\n        for (let i = 0; i < setEnd.beShutDowList.length; i++) {\r\n            //龙岩伏击没有反关门\r\n            if (setEnd.beShutDowList[i] && i != setEnd.firstOpPos) {\r\n                let uiPos = this.RoomPosMgr.GetUIPosByDataPos(i);\r\n                let ShutDow_Ani = this.GetWndNode(\"sp_seat0\" + uiPos + \"/ShutDow_Ani\");\r\n                ShutDow_Ani.active = true;\r\n                ShutDow_Ani.getComponent(cc.Animation).play(\"guanmen\");\r\n            }\r\n        }\r\n\r\n        this.UpdatePlayerScore();\r\n        //刷新比赛分\r\n        this.UpdatePlayerSportsPoint(event);\r\n        //发送明牌消息\r\n        let roomID = this.Room.GetRoomProperty(\"roomID\");\r\n        let clientPos = this.RoomPosMgr.GetClientPos();\r\n        this.RoomMgr.SendOpenCard(roomID, clientPos, 1);\r\n\r\n        let self = this;\r\n        this.scheduleOnce(function() {\r\n            self.FormManager.ShowForm(\"game/\" + app.subGameName.toUpperCase() + \"/UI\" + app.subGameName.toUpperCase() + \"_ResultXY\", setEnd);\r\n        }, 2.0);\r\n    },\r\n\r\n    //房间解散\r\n    Event_DissolveRoom: function(event) {\r\n\r\n        let argDict = event;\r\n        let ownnerForce = argDict[\"ownnerForce\"];\r\n\r\n        //未开启房间游戏时才会触发\r\n        if (ownnerForce) {\r\n            let room = this.RoomMgr.GetEnterRoom();\r\n            //如果是房主主动接撒直接退出\r\n            if (room && room.IsClientIsOwner()) {\r\n                app[app.subGameName + \"Client\"].ExitGame();\r\n            } else {\r\n                this.SetWaitForConfirm('OwnnerForceRoom', this.ShareDefine.ConfirmOK);\r\n            }\r\n        } else if (event.dissolveNoticeType == 1) {\r\n            this.SetWaitForConfirm('SportsPointDissolveRoom', this.ShareDefine.ConfirmOK, [event.msg]);\r\n        } else if (event.dissolveNoticeType == 3) {\r\n            this.SetWaitForConfirm('MSG_BeDissolve', this.ShareDefine.ConfirmOK, [event.msg]);\r\n        } else {\r\n            let state = this.RoomMgr.GetEnterRoom().GetRoomProperty(\"state\");\r\n            //如果没有打完一局不会下发roomend,直接显示2次弹框\r\n            if (state != this.ShareDefine.RoomState_End) {\r\n                this.SetWaitForConfirm('DissolveRoom', this.ShareDefine.ConfirmOK);\r\n                this.FormManager.CloseForm(app.subGameName + \"_UIMessage02\");\r\n            }\r\n            //如果有roomend数据显示 结果界面\r\n            else {\r\n                this.FormManager.CloseForm(app.subGameName + \"_UIMessage02\");\r\n                this.FormManager.ShowForm(app.subGameName + \"_UIPublic_Record\");\r\n            }\r\n\r\n        }\r\n    },\r\n\r\n    //收到解散房间\r\n    Event_StartVoteDissolve: function(event) {\r\n        this.FormManager.ShowForm(app.subGameName + \"_UIMessage02\");\r\n    },\r\n    //收到切换人数房间\r\n    Event_ChangePlayerNum: function(event) {\r\n        this.FormManager.ShowForm(app.subGameName + \"_UIMessage03\");\r\n    },\r\n\r\n    UpdatePlayerScore: function() {\r\n        let room = this.RoomMgr.GetEnterRoom();\r\n        let posList = room.GetRoomProperty(\"posList\");\r\n        for (let idx = 0; idx < posList.length; idx++) {\r\n            let uiPos = this.RoomPosMgr.GetUIPosByDataPos(posList[idx].pos);\r\n            let path = \"sp_seat0\" + uiPos + \"/head\" + \"/UIPublicHead\" + uiPos;\r\n            let headNode = this.GetWndNode(path);\r\n            let headScript = headNode.getComponent(app.subGameName + \"_UIPublicHead\");\r\n            headScript.UpDateLabJiFen();\r\n        }\r\n    },\r\n    UpdatePlayerSportsPoint: function(event) {\r\n        let room = this.RoomMgr.GetEnterRoom();\r\n        let posList = room.GetRoomProperty(\"posList\");\r\n        for (let idx = 0; idx < posList.length; idx++) {\r\n            let uiPos = this.RoomPosMgr.GetUIPosByDataPos(posList[idx].pos);\r\n            let path = \"sp_seat0\" + uiPos + \"/head\" + \"/UIPublicHead\" + uiPos;\r\n            let headNode = this.GetWndNode(path);\r\n            let headScript = headNode.getComponent(app.subGameName + \"_UIPublicHead\");\r\n            headScript.UpDateLabSportsPoint();\r\n        }\r\n    },\r\n\r\n    GetUICardComponentByPos: function(pos) {\r\n        let room = this.RoomMgr.GetEnterRoom();\r\n        if (!room) {\r\n            this.ErrLog(\"GetUICardComponentByPos not enter room\");\r\n            return\r\n        }\r\n\r\n        let posList = room.GetRoomProperty(\"posList\");\r\n        for (let idx = 0; idx < posList.length; idx++) {\r\n            if (pos == posList[idx].pos) {\r\n                let uiPos = this.RoomPosMgr.GetUIPosByDataPos(posList[idx].pos);\r\n                let path = \"sp_seat0\" + uiPos + \"/head\" + \"/UIPublicHead\" + uiPos;\r\n                let headNode = this.GetWndNode(path);\r\n                let headScript = headNode.getComponent(app.subGameName + \"_UIPublicHead\");\r\n                return headScript;\r\n            }\r\n        }\r\n    },\r\n    //显示玩家准备状态\r\n    ShowPlayerReady: function(room) {\r\n        if (!room) {\r\n            this.ErrLog(\"Event_ShowReadyOrNoReady not enter room\");\r\n            return\r\n        }\r\n        let roomSetID = room.GetRoomProperty(\"setID\");\r\n        let ReadyState = \"\";\r\n        if (roomSetID > 0) {\r\n            ReadyState = \"gameReady\";\r\n        } else {\r\n            ReadyState = \"roomReady\";\r\n        }\r\n\r\n        this.SetPlayerReadyInfo(ReadyState);\r\n    },\r\n\r\n    //隐藏玩家准备按钮\r\n    HidePlayerReady: function() {\r\n        this.btn_ready.active = 0;\r\n        this.btn_weixin.active = 0;\r\n        this.btn_go.active = 0;\r\n        this.invitationNode.active = false;\r\n    },\r\n    HideClientReady: function() {\r\n        this.btn_ready.active = false;\r\n        this.btn_weixin.active = false;\r\n        this.btn_go.active = false;\r\n        this.invitationNode.active = false;\r\n    },\r\n    IsClientReady: function(ReadyState) {\r\n        let roomPosMgr = this.RoomMgr.GetEnterRoom().GetRoomPosMgr();\r\n        let clientPos = roomPosMgr.GetClientPos();\r\n        let playerAll = roomPosMgr.GetRoomAllPlayerInfo();\r\n        let playerAllList = Object.keys(playerAll);\r\n        for (let i = 0; i < playerAllList.length; i++) {\r\n            let player = playerAll[playerAllList[i]];\r\n            let isClientReady = player[ReadyState];\r\n            if (player[\"pos\"] == clientPos) {\r\n                return isClientReady;\r\n                break;\r\n            }\r\n        }\r\n\r\n    },\r\n    JoinPlayerFinish: function() {\r\n        let roomPosMgr = this.RoomMgr.GetEnterRoom().GetRoomPosMgr();\r\n        let playerAll = roomPosMgr.GetRoomAllPlayerInfo();\r\n        let playerAllList = Object.keys(playerAll);\r\n        var tempNum = 0;\r\n        for (let j = 0; j < playerAllList.length; j++) {\r\n            let player = playerAll[playerAllList[j]];\r\n            if (player.pid > 0) {\r\n                tempNum++;\r\n            }\r\n        }\r\n        if (tempNum == playerAllList.length) {\r\n            return true;\r\n        }\r\n        return false;\r\n    },\r\n    SetPlayerReadyInfo: function(ReadyState) {\r\n        if (ReadyState == \"gameReady\") {\r\n            //第二局\r\n            this.HideClientReady();\r\n        } else if (ReadyState == \"roomReady\") {\r\n            //第一局\r\n            if (this.JoinPlayerFinish() && this.IsClientReady(ReadyState) == false) {\r\n                //人数加满，本家没准备\r\n                this.ShowPlayerOk();\r\n            } else if (this.JoinPlayerFinish() && this.IsClientReady(ReadyState) == true) {\r\n                //人数加满，本家准备\r\n                this.HideClientReady();\r\n            } else {\r\n                //人数未满\r\n                this.ShowPlayerYaoQing();\r\n            }\r\n        }\r\n    },\r\n    ShowPlayerYaoQing: function() {\r\n        this.btn_ready.active = 0;\r\n        this.btn_weixin.active = 1;\r\n        this.btn_go.active = 0;\r\n        if (this.roomCfg.clubId > 0 || this.roomCfg.unionId > 0) {\r\n            this.invitationNode.active = true;\r\n        } else {\r\n            this.invitationNode.active = false;\r\n        }\r\n    },\r\n    ShowPlayerOk: function() {\r\n        if (this.isAutoReady() == true) {\r\n            this.btn_ready.active = 0;\r\n            this.Click_btn_ready();\r\n        } else {\r\n            this.btn_ready.active = 1;\r\n        }\r\n\r\n        this.btn_weixin.active = 0;\r\n        this.btn_go.active = 0;\r\n        this.invitationNode.active = false;\r\n    },\r\n\r\n\r\n    GetPlayerSex: function(pos) {\r\n        let playerSex = \"\";\r\n        let player = this.RoomPosMgr.GetPlayerInfoByPos(pos);\r\n        let Sex = player[\"sex\"];\r\n        if (Sex == this.ShareDefine.HeroSex_Boy) {\r\n            playerSex = \"b\";\r\n        } else if (Sex == this.ShareDefine.HeroSex_Girl) {\r\n            playerSex = \"g\";\r\n        }\r\n        return playerSex;\r\n    },\r\n\r\n    //设置手牌缩放大小\r\n    SetHandCardScale: function(scale) {\r\n        this.handCards.scale = scale;\r\n    },\r\n\r\n    /**\r\n     * 2次确认点击回调\r\n     */\r\n    SetWaitForConfirm: function(msgID, type, msgArg = [], cbArg = []) {\r\n        let ConfirmManager = app[app.subGameName + \"_ConfirmManager\"]();\r\n        ConfirmManager.SetWaitForConfirmForm(this.OnConFirm.bind(this), msgID, cbArg);\r\n        ConfirmManager.ShowConfirm(type, msgID, msgArg);\r\n    },\r\n    OnConFirm: function(clickType, msgID, backArgList) {\r\n        let ClientPos = this.RoomPosMgr.GetClientPos();\r\n        let player = this.RoomPosMgr.GetPlayerInfoByPos(ClientPos);\r\n        let posName = player.name;\r\n        let roomID = this.RoomMgr.GetEnterRoomID();\r\n        if (clickType != \"Sure\") {\r\n            if (msgID == \"SportsPointNotEnough\") {\r\n                let roomID = this.RoomMgr.GetEnterRoomID();\r\n                app[app.subGameName + \"_GameManager\"]().SendDissolveRoom(roomID);\r\n            }\r\n            return\r\n        }\r\n        if (msgID == \"UIPlay_BeKick\") {\r\n            app[app.subGameName + \"Client\"].ExitGame();\r\n        } else if ('MSG_Room_Change' == msgID) {\r\n            let roomID = this.RoomMgr.GetEnterRoomID();\r\n            let that = this;\r\n            app[app.subGameName + \"_NetManager\"]().SendPack(app.subGameName + \".C\" + app.subGameName.toUpperCase() + \"ChangePlayerNum\", {\r\n                    \"roomID\": roomID\r\n                }, function(success) {\r\n\r\n                },\r\n                function(error) {\r\n                    let msg = error.Msg;\r\n                    that.ShowSysMsg(msg);\r\n                });\r\n        } else if (msgID == \"MSG_BeKick\" || msgID == \"MSG_BeDissolve\") {\r\n            app[app.subGameName + \"Client\"].ExitGame();\r\n        } else if (msgID == \"OwnnerForceRoom\") {\r\n            app[app.subGameName + \"Client\"].ExitGame();\r\n        } else if (msgID == \"MSG_Room_EXIT\") {\r\n            this.Click_btn_jiesan();\r\n        } else if (msgID == \"DissolveRoom\") {\r\n            app[app.subGameName + \"Client\"].ExitGame();\r\n        } else if (msgID == \"SportsPointThresholdEnough\" || msgID == \"SportsPointThresholdNotEnough\") {\r\n            app[app.subGameName + \"Client\"].ExitGame();\r\n        } else if (msgID == \"SportsPointDissolveRoom\") {\r\n            this.FormManager.ShowForm(app.subGameName + \"_UIPublic_Record\");\r\n        } else if (msgID == \"PlayerLeaveRoom\") {\r\n            let roomID = this.RoomMgr.GetEnterRoomID();\r\n            app[app.subGameName + \"_GameManager\"]().SendDissolveRoom(roomID);\r\n        } else if (msgID == \"UIMoreTuiChuFangJian\") {\r\n            let roomPosMgr = this.RoomMgr.GetEnterRoom().GetRoomPosMgr();\r\n            let ClientPos = roomPosMgr.GetClientPos();\r\n            let player = roomPosMgr.GetPlayerInfoByPos(ClientPos);\r\n            if (!player)\r\n                return;\r\n            let posName = player.name;\r\n            let roomID = this.RoomMgr.GetEnterRoomID();\r\n            let state = this.Room.GetRoomProperty(\"state\");\r\n            if (state == this.ShareDefine.RoomState_Playing && player.isPlaying) {\r\n                app[app.subGameName + \"_GameManager\"]().SendDissolveRoom(roomID, posName);\r\n                return\r\n            }\r\n            //房主不能退出房间，只能解散\r\n            if (this.RoomMgr.GetEnterRoom().IsClientIsOwner()) {\r\n                app[app.subGameName + \"_GameManager\"]().SendDissolveRoom(roomID, posName);\r\n                return\r\n            }\r\n            app[app.subGameName + \"_GameManager\"]().SendExitRoom(roomID, ClientPos);\r\n        } else if (msgID == \"MSG_GAME_DissolveRoom\") {\r\n            app[app.subGameName + \"_GameManager\"]().SendDissolveRoom(roomID, posName);\r\n        } else {\r\n            this.ErrLog(\"OnConFirm msgID:%s error\", msgID);\r\n        }\r\n    },\r\n\r\n    Event_TouchStart: function(event) {\r\n        // this.SysLog(\"Event_TouchStart\");\r\n        if (!this.IsShowVoice()) {\r\n            this.ShowSysMsg(\"禁止语音\");\r\n            return;\r\n        }\r\n        app[app.subGameName + \"_AudioManager\"]().startRecord();\r\n\r\n    },\r\n    Event_TouchEnd: function(event) {\r\n        // this.SysLog(\"Event_TouchEnd\"); \r\n        this.FormManager.CloseForm(app.subGameName + \"_UIAudio\");\r\n        app[app.subGameName + \"_AudioManager\"]().setTouchEnd(true);\r\n        app[app.subGameName + \"_AudioManager\"]().stopRecord();\r\n    },\r\n\r\n    OnEventShow: function() {\r\n        if (!this.RoomMgr || typeof(this.RoomMgr) == \"undefined\") {\r\n            return;\r\n        }\r\n        let curTime = new Date().getTime();\r\n        let lostHearTime = app[app.subGameName + \"Client\"].LostHearTime;\r\n        if (this.outGameTime && curTime > this.outGameTime + 30000) {\r\n            // app[app.subGameName + \"Client\"].lastHearTime = 0;\r\n            this.outGameTime = 0;\r\n            if (app[app.subGameName + \"_NetWork\"]().isConnectIng) { //ios的可能websoket不会主动断开\r\n                console.log(\"后台切回来，先断开连接\");\r\n                app[app.subGameName + \"_NetManager\"]().Disconnect();\r\n            }\r\n            if (!app[app.subGameName + \"Client\"].bStartReConnect) {\r\n                console.log(\"后台切回来，发起断线重连\");\r\n                app[app.subGameName + \"Client\"].StartReConnect();\r\n                app[app.subGameName + \"_NetWork\"]().ReConnectByTipSureBtn();\r\n            }\r\n        } else {\r\n            let roomID = this.RoomMgr.GetEnterRoomID();\r\n            app[app.subGameName + \"_NetManager\"]().SendPack(app.subGameName + \".C\" + app.subGameName.toUpperCase() + \"ShowLeave\", {\r\n                \"roomID\": roomID,\r\n                \"isShowLeave\": false\r\n            });\r\n\r\n        }\r\n        app[app.subGameName + \"Client\"].scheduleOnce(function() {\r\n            app[app.subGameName + \"Client\"].StartTimer();\r\n        }, 2);\r\n    },\r\n\r\n    OnEventHide: function() {\r\n        console.log(\"从游戏内切换后台\");\r\n        this.outGameTime = new Date().getTime();\r\n        let roomID = this.RoomMgr.GetEnterRoomID();\r\n        app[app.subGameName + \"_NetManager\"]().SendPack(app.subGameName + \".C\" + app.subGameName.toUpperCase() + \"ShowLeave\", {\r\n            \"roomID\": roomID,\r\n            \"isShowLeave\": true\r\n        });\r\n        app[app.subGameName + \"Client\"].StopTimer();\r\n    },\r\n\r\n    //判断选择的牌是否玩家手里的牌\r\n    CheckSelCardListInHandCard: function(selCardList) {\r\n        let handCardListTemp = [];\r\n        for (let i = 0; i < this.LogicPDKGame.handCardList.length; i++) {\r\n            handCardListTemp.push(this.LogicPDKGame.handCardList[i]);\r\n        }\r\n        for (let i = 0; i < selCardList.length; i++) {\r\n            if (handCardListTemp.indexOf(selCardList[i]) >= 0) {\r\n                handCardListTemp.Remove(selCardList[i]);\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    },\r\n    // 判断弹起的牌是否跟发送服务端的出牌list一致\r\n    CheckSelCardListOrCardList: function(selCardList) {\r\n        let selHandCardsList = [];\r\n        for (let i = 0; i < this.handCards.children.length; i++) {\r\n            if (this.handCards.children[i].y > 0) {\r\n                let name = this.handCards.children[i].name;\r\n                let cardIdx = name.substring(5, name.length);\r\n                selHandCardsList.push(this.LogicPDKGame.handCardList[cardIdx - 1]);\r\n            }\r\n        }\r\n        for (let i = 0; i < selCardList.length; i++) {\r\n            if (selHandCardsList.indexOf(selCardList[i]) >= 0) {\r\n                selHandCardsList.Remove(selCardList[i]);\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n        if (selHandCardsList.length == 0) {\r\n            return true;\r\n        }\r\n        return false;\r\n    },\r\n});"]}
{"version":3,"sources":["pdk_UIPractice.js"],"names":["app","require","cc","Class","extends","subGameName","properties","contentNode","Node","OnCreateInit","practiceConfig","GetTableDict","FormManager","NetManager","playerNumList","practiceId","RegEvent","Event_GetCurRoomID","Event_CodeError","OnShow","gameType","SetGameType","curRoomID","curGameTypeStr","SetGetRoomIDByUI","SendPack","SetAutoPlayIng","CloseForm","ShowForm","sendGameType","sendPack","toUpperCase","OnSuccessInitData","bind","serverPack","list","gameLists","length","splice","idx","push","UpdatePractice","refreshList","key","i","childNode","children","baseNum","baseMark","toFixed","toString","getChildByName","getComponent","Label","string","playerNum","min","max","needStr","parseInt","event","roomID","toLowerCase","codeInfo","code","ShareDefine","NotFind_Room","ShowSysMsg","NotEnoughCoin","WaitForConfirm","Confirm","MuchCoin","ConfirmOK","OnClose","SetWaitForConfirm","msgID","type","msgArg","cbArg","ConfirmManager","SetWaitForConfirmForm","OnConFirm","ShowConfirm","clickType","backArgList","Click_btn_goRoom","sys","isNative","testData","action","fromName","localStorage","setItem","JSON","stringify","RemoveClientManager","LocalDataManager","SetConfigProperty","gamePath","jsb","fileUtils","getWritablePath","window","error","console","log","clubId","clubCardNtfs","data","setTimeout","clubName","roomcardattention","GetCfgByGameName","gameName","cfgList","sendPracticeId","argList","Array","prototype","slice","call","arguments","Math","floor","substring","OnSuccess","OnEnterRoomFailed","OnClick","btnName","btnNode","needCfgList","id","gold","GetHeroProperty","ErrLog","needId"],"mappings":"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","file":"pdk_UIPractice.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\ui","sourcesContent":["var app = require(\"pdk_app\");\r\ncc.Class({\r\n    extends: require(app.subGameName + \"_BaseForm\"),\r\n\r\n    properties: {\r\n        contentNode:cc.Node,\r\n    },\r\n    OnCreateInit: function () {\r\n        this.practiceConfig = app[app.subGameName + \"_SysDataManager\"]().GetTableDict(\"practice\");\r\n        this.FormManager = app[app.subGameName + \"_FormManager\"]();\r\n        this.NetManager=app[app.subGameName + \"_NetManager\"]();\r\n        this.playerNumList = [];\r\n        this.practiceId = 0;\r\n        this.RegEvent(\"GetCurRoomID\", this.Event_GetCurRoomID, this);\r\n        this.RegEvent(\"CodeError\", this.Event_CodeError, this);\r\n    },\r\n    //-----------------显示函数------------------\r\n    OnShow: function () {\r\n        this.gameType = app.subGameName;\r\n        app[app.subGameName + \"Client\"].SetGameType('');\r\n        this.curRoomID = 0;\r\n        this.curGameTypeStr = \"\";\r\n        app[app.subGameName + \"_GameManager\"]().SetGetRoomIDByUI(true);\r\n        app[app.subGameName + \"_NetManager\"]().SendPack(\"game.C1101GetRoomID\", {});\r\n        app[app.subGameName + \"_GameManager\"]().SetAutoPlayIng(false);\r\n        this.FormManager.CloseForm(\"UIAutoPlay\");\r\n        this.FormManager.ShowForm(app.subGameName + \"_UITop\", app.subGameName + \"_UIPractice\",true,false,true);\r\n        this.sendGameType();\r\n    },\r\n    sendGameType:function(){\r\n        let sendPack = {\r\n            'gameType':this.gameType\r\n        }\r\n        app[app.subGameName + \"_NetManager\"]().SendPack(app.subGameName + \".C\" + app.subGameName.toUpperCase() + \"GoldList\", sendPack, this.OnSuccessInitData.bind(this));\r\n    },\r\n    OnSuccessInitData:function(serverPack){\r\n        //获取服务端传过来的数据\r\n        let list = serverPack.gameLists;\r\n        if(this.playerNumList && this.playerNumList.length){\r\n            this.playerNumList.splice(0, this.playerNumList.length);\r\n        }\r\n        for(let idx = 0; idx < list.length; idx++){\r\n            this.playerNumList.push(list[idx]);\r\n        }\r\n        this.UpdatePractice();\r\n    },\r\n    UpdatePractice:function(){\r\n        let refreshList = []; \r\n        for(let key in this.practiceConfig){\r\n            if(this.gameType == this.practiceConfig[key]['gameType'])\r\n                refreshList.push(this.practiceConfig[key]);\r\n        }\r\n        for(let i=0;i<refreshList.length;i++){\r\n            if(i>3){\r\n                break;\r\n            }\r\n            let childNode=this.contentNode.children[i];\r\n            let baseNum = refreshList[i]['baseMark'];\r\n            let baseMark = '';\r\n            if(baseMark >= 10000)\r\n                baseMark = (baseNum / 10000).toFixed(1) + '万';\r\n            else if(baseMark > 1000)\r\n                baseMark = (baseNum / 1000).toFixed(1) + '千';\r\n            else\r\n                baseMark = baseNum.toString();\r\n            childNode.getChildByName('lb_difen').getComponent(cc.Label).string = \"底分:\"+baseMark;\r\n            if(this.playerNumList.length){\r\n                childNode.getChildByName('lb_renshu').getComponent(cc.Label).string = (this.playerNumList[i].playerNum).toString() + '人';\r\n            }\r\n            let min = refreshList[i]['min'];\r\n            let max = refreshList[i]['max'];\r\n            let needStr = '';\r\n            if(0 == max){\r\n                if(min < 1000)\r\n                    needStr = min.toString();\r\n                else if(min >= 10000)\r\n                    needStr = parseInt(min / 10000).toString() + '万以上';\r\n                else\r\n                    needStr = parseInt(min / 1000).toString() + '千以上';\r\n            }\r\n            else{\r\n                if(min < 1000)\r\n                    needStr = min.toString() + '-';\r\n                else if(min >= 10000)\r\n                    needStr = parseInt(min / 10000).toString() + '万-';\r\n                else\r\n                    needStr = parseInt(min / 1000).toString() + '千-';\r\n\r\n                if(max < 1000)\r\n                    needStr += max.toString();\r\n                else if(max >= 10000)\r\n                    needStr += parseInt(max / 10000).toString() + '万';\r\n                else\r\n                    needStr += parseInt(max / 1000).toString() + '千';\r\n            }\r\n            childNode.getChildByName('lb_zhunru').getComponent(cc.Label).string = \"准入:\"+needStr;\r\n        }\r\n    },\r\n    Event_GetCurRoomID:function(event){\r\n        let serverPack = event;\r\n        this.curRoomID = serverPack.roomID;\r\n        if(0 != this.curRoomID){\r\n            this.curGameTypeStr = serverPack.gameType.toLowerCase();\r\n        }\r\n    },\r\n    Event_CodeError:function(event){\r\n        let codeInfo = event;\r\n        let code = codeInfo[\"Code\"];\r\n        if(code == this.ShareDefine.NotFind_Room){\r\n            app[app.subGameName + \"_SysNotifyManager\"]().ShowSysMsg('DissolveRoom');\r\n            this.curRoomID = 0;\r\n            this.curGameTypeStr = '';\r\n        }else if(code == this.ShareDefine.NotEnoughCoin){\r\n            this.WaitForConfirm(\"MSG_NOTROOMCOIN\", [], [], this.ShareDefine.Confirm);\r\n        }\r\n        else if(code == this.ShareDefine.MuchCoin){\r\n            this.WaitForConfirm(\"MSG_TOOMUCHCOIN\", [], [], this.ShareDefine.ConfirmOK);\r\n        }\r\n    },\r\n    OnClose:function(){\r\n    },\r\n    //---------点击函数---------------------\r\n    SetWaitForConfirm:function(msgID,type,msgArg=[],cbArg=[]){\r\n        let ConfirmManager = app[app.subGameName + \"_ConfirmManager\"]();\r\n        ConfirmManager.SetWaitForConfirmForm(this.OnConFirm.bind(this), msgID, cbArg);\r\n        ConfirmManager.ShowConfirm(type, msgID, msgArg);\r\n    },\r\n    OnConFirm:function(clickType, msgID, backArgList){\r\n        if(clickType != \"Sure\"){\r\n            return\r\n        }\r\n        if('MSG_GO_ROOM' == msgID){\r\n            this.Click_btn_goRoom();\r\n        }\r\n        else if('MSG_NOTROOMCOIN'== msgID){\r\n            if (!cc.sys.isNative) return;\r\n            let testData = {action:\"showForm\", fromName:\"UIStore\"};\r\n            cc.sys.localStorage.setItem(\"switchGameData\", JSON.stringify(testData));\r\n           app[app.subGameName + \"_NetManager\"]().SendPack(\"base.C1110UUID\", {\"gameName\":\"hall\"}, function(event){\r\n                //如果是游戏切换需要释放内存，重新加载\r\n                app[app.subGameName + \"Client\"].RemoveClientManager();\r\n                app.LocalDataManager().SetConfigProperty(\"Account\", \"uuid\", event);\r\n                let gamePath = (jsb.fileUtils ? jsb.fileUtils.getWritablePath() : '/') + \"ALLGame/\"+app.subGameName;\r\n                window.require(gamePath + \"/src/dating.js\");\r\n            }, function(error){\r\n                console.log(\"获取uuid失败\");\r\n            });\r\n        }\r\n        else if('MSG_CLUB_RoomCard_Not_Enough' == msgID){\r\n            let clubId = backArgList[0];\r\n            for(let i=0;i<this.clubCardNtfs.length;i++){\r\n                if(this.clubCardNtfs[i].clubId == clubId){\r\n                    this.clubCardNtfs.splice(i,1);\r\n                    break;\r\n                }\r\n            }\r\n            if(0 != this.clubCardNtfs.length){\r\n                let data = this.clubCardNtfs[0];\r\n                setTimeout(function(){\r\n                    app[app.subGameName + \"_SysNotifyManager\"]().ShowSysMsg('MSG_CLUB_RoomCard_Not_Enough',[data.clubName,data.roomcardattention]);\r\n                },200);\r\n            }\r\n        }\r\n    },\r\n    GetCfgByGameName:function(gameName){\r\n        let cfgList = [];\r\n        for(let key in this.practiceConfig){\r\n            if(gameName == this.practiceConfig[key].gameType)\r\n                cfgList.push(this.practiceConfig[key]);\r\n        }\r\n        return cfgList;\r\n    },\r\n    sendPracticeId:function(){\r\n        var argList = Array.prototype.slice.call(arguments);\r\n        let idx = 0;\r\n        if(typeof argList[0] == 'string'){\r\n             idx = Math.floor(argList[0].substring(('item').length));\r\n        }\r\n        else if(typeof argList[0] == 'number'){\r\n            idx = argList[0];\r\n        }\r\n        this.practiceId = idx;\r\n\r\n        let sendPack = {\r\n            practiceId:idx\r\n        }\r\n        app[app.subGameName + \"_NetManager\"]().SendPack(app.subGameName + \".C\" + app.subGameName.toUpperCase() + \"GoldRoom\", sendPack, this.OnSuccess.bind(this), this.OnEnterRoomFailed.bind(this));\r\n    },\r\n    OnClick:function(btnName, btnNode){\r\n        let needCfgList=[];\r\n        if('btn_xsc' == btnName){\r\n            needCfgList = this.GetCfgByGameName(this.gameType);\r\n            this.sendPracticeId(needCfgList[0].id);\r\n        }else if('btn_cjc' == btnName){\r\n            needCfgList = this.GetCfgByGameName(this.gameType);\r\n            this.sendPracticeId(needCfgList[1].id);\r\n        }else if('btn_zjc' == btnName){\r\n            needCfgList = this.GetCfgByGameName(this.gameType);\r\n            this.sendPracticeId(needCfgList[2].id);\r\n        }else if('btn_gjc' == btnName){\r\n            needCfgList = this.GetCfgByGameName(this.gameType);\r\n            this.sendPracticeId(needCfgList[3].id);\r\n        }else if('btn_go' == btnName){\r\n            let gold = app[app.subGameName + \"_HeroManager\"]().GetHeroProperty('gold');\r\n            needCfgList = this.GetCfgByGameName(this.gameType);\r\n            if(0 == needCfgList.length){\r\n                this.ErrLog('needCfgList Error curGameName :' + this.gameType);\r\n                return;\r\n            }\r\n            if(gold < needCfgList[0].min){\r\n                this.WaitForConfirm(\"MSG_NOTROOMCOIN\", [], [], this.ShareDefine.Confirm);\r\n                return;\r\n            }\r\n            let needId = -1;\r\n            for(let i=0;i<needCfgList.length;i++){\r\n                if(gold >= needCfgList[i].min && \r\n                    (gold <= needCfgList[i].max || 0 == needCfgList[i].max)){\r\n                    needId = needCfgList[i].id;\r\n                    break;\r\n                }\r\n            }\r\n            if(-1 == needId){\r\n                this.ErrLog('CfgError needId = -1');\r\n                return;\r\n            }\r\n            this.sendPracticeId(needId);\r\n        }\r\n        else{\r\n            this.ErrLog(\"OnClick(%s) not find\",btnName);\r\n        }\r\n        \r\n    },\r\n\r\n    OnSuccess:function(serverPack){\r\n        console.log('OnSuccess serverPack', serverPack);\r\n        let roomID = serverPack.roomID;\r\n        app[app.subGameName + \"_NetManager\"]().SendPack(app.subGameName+\".C\"+app.subGameName.toUpperCase()+\"GetRoomInfo\", {\"roomID\":roomID});\r\n        app[app.subGameName + \"_ShareDefine\"]().practiceId = this.practiceId;\r\n    },\r\n\r\n    OnEnterRoomFailed:function(serverPack){\r\n        console.log('OnEnterRoomFailed serverPack', serverPack);\r\n    },\r\n});"]}
{"version":3,"sources":["pdk_UIPublic_Record.js"],"names":["app","require","cc","Class","extends","subGameName","properties","room_Id","Label","end_Time","lb_jushu","fristLayout","Node","continueBtnNode","exitRoomBtnNode","exitBtnNode","goSecondBtnNode","wolaikaijuBtnNode","pingfenkaijuBtnNode","dayingjiakaijuBtnNode","btn_sharemore","sharemore","icon_dissolveSpr","SpriteFrame","prefab1","Prefab","OnCreateInit","PokerModle","SDKManager","RoomMgr","toUpperCase","fristFrame","node","getChildByName","fristScorll","getComponent","ScrollView","btn_continue","GetWndNode","topLabels","bottomLabels","pdkStartX","pdkDistance","redColor","Color","greenColor","RegEvent","Event_GameRecord","CloseForm","OnEvt_CopyTextNtf","Event_NewVersion","isNewVersion","event","code","ShowSysMsg","msg","OnShow","needShowIndex","CheckUpdate","IsFormShow","HideAllBtn","active","PlayerName","clubId","setID","endSec","roomKey","roomID","room","GetEnterRoom","roomEnd","GetRoomProperty","record","ShareShortRoomID","ShareLongRoomID","fristData","GetGameRecord","sendEveryGameRecord","roomCfg","GetRoomConfig","string","i18n","t","ComTool","GetDateYearMonthDayHourMinuteString","UpdateFristFrame","stopAutoScroll","removeAllChildren","dataCount","i","length","pid","usePrefabIndex","bigBang","lastPoint","point","showTipIndex","nodeObjs","allNum","winCount","loseCount","flatCount","instantiate","GetFristPrefabAllNode","topTitle","iconWin","SetUserInfo","userInfo","SetScore","addChild","isCoinRoom","createType","curNode","winNum","loseNum","win","lose","ping","dissolve","sportsPoint","userInfoNode","player","ownerID","GetRoomPosMgr","GetPlayerInfoByPid","playerName","push","substring","GetPid","wechatSprite","OnLoad","ShowHeroHead","fangzhu","dataIndex","data","needNum","toFixed","dissolveState","Sprite","spriteFrame","serverPack","recordList","pSetRoomRecords","needShowSecond","OnPokerDataBtnClick","target","parent","cardNode","rotation","height","OnClick","btnName","btnNode","isContinue","Click_btn_Share","Click_btn_DDShare","Click_btn_XLShare","Click_btn_ShareMore","Click_btn_Sharelink","SendPack","practiceId","OnSuccess","bind","OnEnterRoomFailed","ExitGame","paymentRoomCardType","FailCreate","self","Msg","console","log","Code","ErrLog","ShareScreen","ShareScreenDD","ShareScreenXL","packName","sys","localStorage","getItem","title","desc","join","weChatAppShareUrl","GetClientConfigProperty","Share","indexOf","GetSysMsgContentByMsgID","SetWaitForConfirmForm","OnConFirm","ShowForm","ShareDefine","ConfirmBuyGoTo","clickType","msgID","backArgList"],"mappings":"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","file":"pdk_UIPublic_Record.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\ui","sourcesContent":["var app = require(\"pdk_app\");\r\ncc.Class({\r\n    extends: require(app.subGameName + \"_BaseForm\"),\r\n\r\n    properties: {\r\n        room_Id:cc.Label,\r\n        end_Time:cc.Label,\r\n        lb_jushu:cc.Label,\r\n        fristLayout:cc.Node,\r\n        continueBtnNode:cc.Node,\r\n        exitRoomBtnNode:cc.Node,\r\n        exitBtnNode:cc.Node,\r\n        goSecondBtnNode:cc.Node,\r\n\r\n        wolaikaijuBtnNode:cc.Node,\r\n        pingfenkaijuBtnNode:cc.Node,\r\n        dayingjiakaijuBtnNode:cc.Node,\r\n\r\n        btn_sharemore:cc.Node,\r\n        sharemore:cc.Node,\r\n\r\n        icon_dissolveSpr:[cc.SpriteFrame],\r\n\r\n        prefab1:cc.Prefab,\r\n    },\r\n\r\n    OnCreateInit: function () {\r\n        this.PokerModle = app[app.subGameName+\"_PokerCard\"]();\r\n        this.SDKManager = app[app.subGameName+\"_SDKManager\"]();\r\n        this.RoomMgr = app[app.subGameName.toUpperCase()+\"RoomMgr\"]();\r\n        this.fristFrame = this.node.getChildByName('fristFrame');\r\n        this.fristScorll = this.fristFrame.getChildByName('ScrollView').getComponent(cc.ScrollView);\r\n        \r\n        this.btn_continue = this.GetWndNode(\"fristFrame/btn_lists/btn_continue\");\r\n        this.topLabels = [];\r\n        this.bottomLabels = [];\r\n        this.pdkStartX = -366;\r\n        this.pdkDistance = 247;\r\n        this.redColor = new cc.Color(181,104,48);\r\n        this.greenColor = new cc.Color(59,138,133);\r\n        this.RegEvent(\"GameRecord\", this.Event_GameRecord);\r\n        this.RegEvent(\"EVT_CloseDetail\", this.CloseForm, this);\r\n        this.RegEvent(\"OnCopyTextNtf\", this.OnEvt_CopyTextNtf);\r\n        this.RegEvent(\"NewVersion\", this.Event_NewVersion, this);\r\n    },\r\n    Event_NewVersion:function(){\r\n        this.isNewVersion=true;\r\n    },\r\n    OnEvt_CopyTextNtf:function(event){\r\n        if(0 == event.code)\r\n            this.ShowSysMsg(\"手动去微信分享：已复制\"+event.msg);\r\n        else\r\n            this.ShowSysMsg(\"复制房号失败\");\r\n    },\r\n    OnShow:function(needShowIndex=-1){\r\n        this.isNewVersion=false;\r\n        app[app.subGameName+\"_HotUpdateMgr\"]().CheckUpdate(); //检测客户端是否有新版本\r\n        if(app[app.subGameName+\"_FormManager\"]().IsFormShow(\"game/\" + app.subGameName.toUpperCase() + \"/UI\" + app.subGameName.toUpperCase() + \"_ResultXY\")){\r\n            app[app.subGameName+\"_FormManager\"]().CloseForm(\"game/\" + app.subGameName.toUpperCase() + \"/UI\" + app.subGameName.toUpperCase() + \"_ResultXY\")\r\n        }\r\n    \tthis.HideAllBtn();\r\n        this.fristFrame.active = false;\r\n        this.PlayerName=[];\r\n        this.clubId = 0;\r\n        let setID = 0;\r\n        let endSec = '';\r\n        let roomKey = '';\r\n        let roomID = 0;\r\n        if(!this.RoomMgr){\r\n            this.CloseForm();\r\n            return\r\n        }\r\n        this.room = this.RoomMgr.GetEnterRoom();\r\n        if(!this.room){\r\n            this.CloseForm();\r\n            return\r\n        }\r\n        let roomEnd = this.room.GetRoomProperty(\"roomEnd\");\r\n        if(!roomEnd){\r\n            this.CloseForm();\r\n            return\r\n        }\r\n        let record = roomEnd[\"record\"];\r\n        setID = record[\"setCnt\"];\r\n        endSec = record['endSec'];\r\n        this.ShareShortRoomID = this.room.GetRoomProperty(\"key\");\r\n        this.ShareLongRoomID = this.room.GetRoomProperty(\"roomID\");\r\n        roomKey = \"房间号:\" + this.ShareShortRoomID;\r\n        this.fristData = record['recordPosInfosList'];\r\n        if(!this.room.GetGameRecord()){\r\n            this.RoomMgr.sendEveryGameRecord(roomID);\r\n        }\r\n        let roomCfg=this.room.GetRoomConfig();\r\n        this.clubId = roomCfg.clubId;\r\n        // if(roomCfg.createType==2){多于判断上面调用了this.HideAllBtn();\r\n        //     this.wolaikaijuBtnNode.active=false;\r\n        //     this.pingfenkaijuBtnNode.active=false;\r\n        //     this.dayingjiakaijuBtnNode.active=false;\r\n        // }\r\n        this.room_Id.string = roomKey;\r\n        this.lb_jushu.string = app.i18n.t(\"UIWanFa_setCount\", {\"setCount\": setID});\r\n        this.end_Time.string = this.ComTool.GetDateYearMonthDayHourMinuteString(endSec);\r\n        this.UpdateFristFrame();\r\n       \r\n        //初始化分享\r\n        this.sharemore.active=false;\r\n    },\r\n    UpdateFristFrame:function(){\r\n        this.btn_continue.active = false;\r\n        this.fristScorll.stopAutoScroll();\r\n        this.fristLayout.removeAllChildren();\r\n        let dataCount = 0;\r\n        for(let i=0;i<this.fristData.length;i++){\r\n            if(0 != this.fristData[i].pid)\r\n                dataCount++\r\n        }\r\n        let usePrefabIndex = 1;\r\n        if(dataCount > 4)\r\n            usePrefabIndex = 2;\r\n        //先找出大赢家\r\n        let bigBang = -1;\r\n        //console.log();\r\n        let lastPoint = this.fristData[0].point;\r\n        for(let i=0;i<this.fristData.length;i++){\r\n            if(this.fristData[i].pid <= 0)\r\n                continue;\r\n            if(lastPoint < this.fristData[i].point){\r\n                bigBang = i;\r\n                lastPoint = this.fristData[i].point;\r\n            }\r\n        }\r\n        if(0 != this.fristData[0].point && -1 == bigBang)\r\n            bigBang = 0;\r\n        let showTipIndex = 1;\r\n        let node = null;\r\n        let nodeObjs = {};\r\n        for(let i=0;i<this.fristData.length;i++){\r\n            let allNum = this.fristData[i].winCount + this.fristData[i].loseCount + this.fristData[i].flatCount;\r\n            if(this.fristData[i].pid <= 0 || 0 == allNum){\r\n                continue;\r\n            }\r\n            node = cc.instantiate(this.prefab1);\r\n            showTipIndex = 1;\r\n          \r\n            this.GetFristPrefabAllNode(node,nodeObjs);\r\n            if(i >= showTipIndex)\r\n                nodeObjs.topTitle.active = false;\r\n            if(bigBang == i || lastPoint == this.fristData[i].point)\r\n                nodeObjs.iconWin.active = true;\r\n            else\r\n                nodeObjs.iconWin.active = false;\r\n\r\n            this.SetUserInfo(nodeObjs.userInfo,this.fristData[i].pid);\r\n            this.SetScore(nodeObjs,i);\r\n            this.fristLayout.addChild(node);\r\n        }\r\n        \r\n        this.exitRoomBtnNode.active = true;\r\n        this.goSecondBtnNode.active = false;\r\n        if(!app[app.subGameName+\"_ShareDefine\"]().isCoinRoom){\r\n            let roomCfg=this.room.GetRoomConfig();\r\n            if(0 == this.clubId && roomCfg.createType==1){\r\n                /*this.wolaikaijuBtnNode.active=true;\r\n                this.pingfenkaijuBtnNode.active=true;\r\n                this.dayingjiakaijuBtnNode.active=true;*/\r\n                this.wolaikaijuBtnNode.active=false;\r\n                this.pingfenkaijuBtnNode.active=false;\r\n                this.dayingjiakaijuBtnNode.active=false;\r\n            }\r\n            if (this.clubId != 0) {\r\n                this.btn_continue.active = true;\r\n            }\r\n    \t}\r\n        else{\r\n            this.continueBtnNode.active = true;\r\n        }\r\n        this.fristFrame.active = true;\r\n    },\r\n    GetFristPrefabAllNode:function(curNode,nodeObjs){\r\n        nodeObjs.topTitle = curNode.getChildByName('topTitle');\r\n        nodeObjs.userInfo = curNode.getChildByName('user_info');\r\n        nodeObjs.winNum = curNode.getChildByName('lb_win_num');\r\n        nodeObjs.loseNum = curNode.getChildByName('lb_lose_num');\r\n        nodeObjs.win = curNode.getChildByName('lb_win');\r\n        nodeObjs.lose = curNode.getChildByName('lb_lose');\r\n        nodeObjs.ping = curNode.getChildByName('lb_ping');\r\n        nodeObjs.dissolve = curNode.getChildByName('icon_dissolve');\r\n        nodeObjs.sportsPoint = curNode.getChildByName('lb_sportsPoint');\r\n        nodeObjs.iconWin = curNode.getChildByName('icon_win');\r\n    },\r\n    SetUserInfo:function(userInfoNode,pid){\r\n        let player = null;\r\n        let ownerID = 0;\r\n        player = this.room.GetRoomPosMgr().GetPlayerInfoByPid(pid);\r\n        ownerID = this.room.GetRoomProperty(\"ownerID\");\r\n        // if(!player){\r\n        //     this.ErrLog('SetUserInfo Error this.playerList.length = ' + this.playerList.length);\r\n        //     return;\r\n        // }\r\n        let playerName = \"\";\r\n        playerName = player[\"name\"];\r\n        this.PlayerName.push(playerName);\r\n        if(playerName.length > 4){\r\n            playerName = playerName.substring(0, 4) + '...';\r\n        }\r\n        userInfoNode.getChildByName(\"lable_name\").getComponent(cc.Label).string = playerName;\r\n\r\n        userInfoNode.getChildByName(\"label_id\").getComponent(cc.Label).string = this.ComTool.GetPid(pid);\r\n        let wechatSprite = userInfoNode.getChildByName(\"head_img\").getComponent(app.subGameName+\"_WeChatHeadImage\");\r\n        wechatSprite.OnLoad();\r\n        wechatSprite.ShowHeroHead(pid);\r\n\r\n        //判断房主是谁\r\n        let fangzhu = userInfoNode.getChildByName(\"fangzhu\");\r\n        if(ownerID == player.pid)\r\n            fangzhu.active = true;\r\n        else\r\n            fangzhu.active = false;\r\n    },\r\n    SetScore:function(nodeObjs,dataIndex){\r\n        let data = this.fristData[dataIndex];\r\n        if(data.point > 0){\r\n            nodeObjs.winNum.active = true;\r\n            nodeObjs.loseNum.active = false;\r\n            if(data.point > 10000){\r\n                let needNum = data.point / 10000;\r\n                needNum = needNum.toFixed(1);\r\n                nodeObjs.winNum.getComponent(cc.Label).string = '+' + needNum + '万';\r\n            }\r\n            else\r\n                nodeObjs.winNum.getComponent(cc.Label).string = '+' + data.point;\r\n        }\r\n        else{\r\n            nodeObjs.winNum.active = false;\r\n            nodeObjs.loseNum.active = true;\r\n            if(data.point < -10000){\r\n                let needNum = data.point / 10000;\r\n                needNum = needNum.toFixed(1);\r\n                nodeObjs.loseNum.getComponent(cc.Label).string = '' + needNum + '万';;\r\n            }\r\n            else\r\n                nodeObjs.loseNum.getComponent(cc.Label).string = data.point;\r\n        }\r\n\r\n        nodeObjs.win.getComponent(cc.Label).string = data.winCount;\r\n        nodeObjs.lose.getComponent(cc.Label).string = data.loseCount;\r\n        nodeObjs.ping.getComponent(cc.Label).string = data.flatCount;\r\n        //显示是否解散（-1:正常结束,0:未操作,1:同意操作,2:拒绝操作,3:发起者）\r\n        if (typeof(data.dissolveState) == \"undefined\" || data.dissolveState == -1) {\r\n            nodeObjs.dissolve.active=false;\r\n        }else{\r\n            nodeObjs.dissolve.active=true;\r\n            nodeObjs.dissolve.getComponent(cc.Sprite).spriteFrame = this.icon_dissolveSpr[data.dissolveState];\r\n        }\r\n        //比赛分消耗\r\n        if (typeof(data.sportsPoint)!=\"undefined\") {\r\n            if (data.sportsPoint > 0) {\r\n                nodeObjs.sportsPoint.getComponent(cc.Label).string = \"+\"+data.sportsPoint;\r\n            }else{\r\n                nodeObjs.sportsPoint.getComponent(cc.Label).string = data.sportsPoint;\r\n            }\r\n            nodeObjs.topTitle.getChildByName(\"sportsPoint\").active = true;\r\n            nodeObjs.sportsPoint.active = true;\r\n        }else{\r\n            nodeObjs.topTitle.getChildByName(\"sportsPoint\").active = false;\r\n            nodeObjs.sportsPoint.active = false;\r\n        }\r\n    },\r\n    Event_GameRecord:function(serverPack){\r\n        this.recordList = serverPack.pSetRoomRecords;\r\n        if(!this.needShowSecond)\r\n            return;\r\n    },\r\n\r\n\r\n    //-----------------回调函数------------------\r\n\r\n    //---------点击函数---------------------\r\n    OnPokerDataBtnClick:function(event){\r\n        let node = event.target;\r\n        let parent = node.parent;\r\n        let cardNode = parent.getChildByName('cardNode');\r\n        if(cardNode.active){\r\n            node.rotation = 0;\r\n            parent.height = parent.height - cardNode.height;\r\n            cardNode.active = false;\r\n        }\r\n        else{\r\n            node.rotation = 180;\r\n            parent.height = parent.height + cardNode.height;\r\n            cardNode.active = true;\r\n        }\r\n    },\r\n    HideAllBtn:function(){\r\n    \tthis.exitBtnNode.active = false;\r\n        this.exitRoomBtnNode.active = false;\r\n        this.goSecondBtnNode.active = false;\r\n        this.wolaikaijuBtnNode.active=false;\r\n        this.pingfenkaijuBtnNode.active=false;\r\n        this.dayingjiakaijuBtnNode.active=false;\r\n        this.continueBtnNode.active=false;\r\n    },\r\n    OnClick:function(btnName, btnNode){\r\n        //继续房间使用\r\n        let room =app[app.subGameName.toUpperCase()+\"Room\"]();\r\n        let roomCfg={};\r\n        if(room){\r\n            roomCfg = room.GetRoomConfig();\r\n            roomCfg.isContinue=true;\r\n        }\r\n        //继续房间使用\r\n\r\n        if('btn_close' == btnName){\r\n            this.CloseForm();\r\n        }\r\n        else if('btn_goScend' == btnName){\r\n            this.needShowSecond = true;\r\n        }\r\n        else if(btnName==\"btn_share\"){\r\n            this.Click_btn_Share();\r\n        }else if(btnName==\"btn_ddshare\"){\r\n            this.Click_btn_DDShare();\r\n        }else if(btnName==\"btn_xlshare\"){\r\n            this.Click_btn_XLShare();\r\n        }else if(btnName==\"btn_sharemore\"){\r\n            this.Click_btn_ShareMore();\r\n        }else if(btnName==\"btn_sharelink\"){\r\n            this.Click_btn_Sharelink();\r\n        }else if(btnName==\"btn_closeshare\"){\r\n            this.sharemore.active=false;\r\n        }\r\n        else if('btn_continueGoldRoom' == btnName){\r\n            app[app.subGameName+\"_NetManager\"]().SendPack('game.CGoldRoom', {practiceId:app[app.subGameName+\"_ShareDefine\"]().practiceId}, this.OnSuccess.bind(this),this.OnEnterRoomFailed.bind(this));\r\n        \tthis.CloseForm();\r\n        }\r\n        else if('btn_exitRoom' == btnName){\r\n            app[app.subGameName + \"Client\"].ExitGame();\r\n        }\r\n        else if('btn_exit' == btnName){\r\n            this.CloseForm();\r\n        }else if(btnName == \"btn_pingfenkaiju\"){\r\n            if(this.isNewVersion==true){\r\n                app[app.subGameName + \"_SysNotifyManager\"]().ShowSysMsg(\"游戏有新版本更新，请返回大厅\");\r\n                return;\r\n            }\r\n            roomCfg.paymentRoomCardType=1;\r\n            app[app.subGameName+\"_NetManager\"]().SendPack(app.subGameName+\".C\"+app.subGameName.toUpperCase()+\"CreateRoom\",roomCfg,function(){},this.FailCreate.bind(this));\r\n        }else if(btnName == \"btn_wolaikaiju\"){\r\n            if(this.isNewVersion==true){\r\n                app[app.subGameName + \"_SysNotifyManager\"]().ShowSysMsg(\"游戏有新版本更新，请返回大厅\");\r\n                return;\r\n            }\r\n            roomCfg.paymentRoomCardType=0;\r\n            app[app.subGameName+\"_NetManager\"]().SendPack(app.subGameName+\".C\"+app.subGameName.toUpperCase()+\"CreateRoom\",roomCfg,function(){},this.FailCreate.bind(this));\r\n        }else if(btnName == \"btn_dayingjiakaiju\"){\r\n            if(this.isNewVersion==true){\r\n                app[app.subGameName + \"_SysNotifyManager\"]().ShowSysMsg(\"游戏有新版本更新，请返回大厅\");\r\n                return;\r\n            }\r\n            roomCfg.paymentRoomCardType=2;\r\n            app[app.subGameName+\"_NetManager\"]().SendPack(app.subGameName+\".C\"+app.subGameName.toUpperCase()+\"CreateRoom\",roomCfg,function(){},this.FailCreate.bind(this));\r\n        }else if(btnName == \"btn_continue\"){\r\n            if(this.isNewVersion==true){\r\n                app[app.subGameName + \"_SysNotifyManager\"]().ShowSysMsg(\"游戏有新版本更新，请返回大厅\");\r\n                return;\r\n            }\r\n            let self = this;\r\n            app[app.subGameName + \"_NetManager\"]().SendPack(app.subGameName+\".C\"+app.subGameName.toUpperCase()+\"ContinueEnterRoom\",{}, function(event){\r\n                self.CloseForm();\r\n                app[app.subGameName+\"_FormManager\"]().CloseForm(\"game/\"+app.subGameName.toUpperCase()+\"/UI\"+app.subGameName.toUpperCase()+\"_ResultXY\");\r\n                app[app.subGameName + \"_NetManager\"]().SendPack(\"game.C1101GetRoomID\", {});\r\n            }, function(event){\r\n                if (event.Msg == \"UNION_BACK_OFF_PLAYING\") {\r\n                    app[app.subGameName + \"_SysNotifyManager\"]().ShowSysMsg(\"您已申请退赛，当前无法进行比赛，请取消退赛申请或联系赛事举办方\");\r\n                }else if (event.Msg == \"UNION_APPLY_REMATCH_PLAYING\") {\r\n                    app[app.subGameName + \"_SysNotifyManager\"]().ShowSysMsg(\"您的比赛分不足，已被淘汰，将被禁止参与赛事游戏，如要重新参与比赛，请联系举办方处理\");\r\n                }else if (event.Msg == \"UNION_STATE_STOP\") {\r\n                    app[app.subGameName + \"_SysNotifyManager\"]().ShowSysMsg(\"赛事已停用，无法加入房间，请联系赛事举办方\");\r\n                }else if(event.Msg==\"ROOM_GAME_SERVER_CHANGE\"){\r\n                    console.log(\"切换服务器\");\r\n                }else if(event.Code==12){\r\n                        console.log(\"游戏维护\");\r\n                }else if(event.Msg==\"WarningSport_RoomJoinner\"){\r\n                    app[app.subGameName + \"_SysNotifyManager\"]().ShowSysMsg(\"您所在的推广员队伍或上级队伍比赛分低于预警值，无法加入比赛，请联系管理\");\r\n                }else if(event.Msg==\"CLUB_SPORT_POINT_WARN\"){\r\n                    app[app.subGameName + \"_SysNotifyManager\"]().ShowSysMsg(\"您所在的亲友圈比赛分低于预警值，无法加入比赛，请联系管理\");\r\n                }else{\r\n                    app[app.subGameName + \"_SysNotifyManager\"]().ShowSysMsg(\"无法继续游戏，请联系赛事举办方\");\r\n                }\r\n            });\r\n        }\r\n        else{\r\n            this.ErrLog(\"OnClick(%s) not find btnName\",btnName);\r\n        }\r\n    },\r\n    Click_btn_Share:function(){\r\n        this.sharemore.active=false;\r\n        this.SDKManager.ShareScreen();\r\n    },\r\n    Click_btn_DDShare:function(){\r\n        this.sharemore.active=false;\r\n        this.SDKManager.ShareScreenDD();\r\n    },\r\n    Click_btn_XLShare:function(){\r\n        this.sharemore.active=false;\r\n        this.SDKManager.ShareScreenXL();\r\n    },\r\n    Click_btn_ShareMore:function(){\r\n        let active=this.sharemore.active;\r\n        if(active==true){\r\n            this.sharemore.active=false;\r\n        }else{\r\n            this.sharemore.active=true;\r\n        }\r\n        \r\n    },\r\n    Click_btn_Sharelink:function(){\r\n        let packName = cc.sys.localStorage.getItem(\"packName\");\r\n        if(!packName){\r\n            packName = \"\";\r\n        }\r\n        let title='房号：'+this.ShareShortRoomID+' 互动中';\r\n        let desc ='['+this.PlayerName.join('] [')+']';\r\n        let weChatAppShareUrl = app[app.subGameName + \"Client\"].GetClientConfigProperty(\"ChatRoomUrl\") + this.ShareLongRoomID;\r\n        this.SDKManager.Share(title, desc, weChatAppShareUrl, \"0\");\r\n    },\r\n    \r\n\r\n    FailCreate:function(serverPack){\r\n        if(serverPack['Msg'].indexOf('RoomCard need roomCard')>-1){\r\n            let desc = app[app.subGameName+\"_SysNotifyManager\"]().GetSysMsgContentByMsgID(\"MSG_NotRoomCard\");\r\n            app[app.subGameName+\"_ConfirmManager\"]().SetWaitForConfirmForm(this.OnConFirm.bind(this), \"goBuyCard\", []);\r\n            app[app.subGameName+\"_FormManager\"]().ShowForm(app.subGameName+\"_UIMessage\", null, this.ShareDefine.ConfirmBuyGoTo, 0, 0, desc)\r\n            return;\r\n        }else{\r\n            this.ErrLog(\"FailCreate Room Msg:(%s)\",serverPack.Msg);\r\n        }\r\n    },\r\n    OnSuccess:function(serverPack){\r\n        console.log('OnSuccess serverPack', serverPack);\r\n        let roomID = serverPack.roomID;\r\n        app[app.subGameName+\"_NetManager\"]().SendPack(app.subGameName+\".C\"+app.subGameName.toUpperCase()+\"GetRoomInfo\", {\"roomID\":roomID});\r\n        this.CloseForm();\r\n        // app[app.subGameName+\"_ShareDefine\"]().practiceId = this.practiceId;\r\n    },\r\n\r\n    OnEnterRoomFailed:function(serverPack){\r\n        app[app.subGameName + \"Client\"].ExitGame();\r\n        console.log('OnEnterRoomFailed serverPack', serverPack);\r\n    },\r\n    OnConFirm:function(clickType, msgID, backArgList){\r\n        if(clickType != \"Sure\"){\r\n            return\r\n        }\r\n    },\r\n});"]}
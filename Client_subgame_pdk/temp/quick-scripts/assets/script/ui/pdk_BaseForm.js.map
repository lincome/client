{"version":3,"sources":["pdk_BaseForm.js"],"names":["app","require","ZorderLvEnum","cc","Enum","ZorderLv0","ZorderLv1","ZorderLv2","ZorderLv3","ZorderLv4","ZorderLv5","ZorderLv6","ZorderLv7","ZorderLv8","ZorderLv9","ShowEffectEnum","None","FromTop","FromBottom","FromLeft","FromRight","FromCenter","CloseEffectEnum","ToTop","ToBottom","ToLeft","ToRight","ToCenter","pdk_BaseForm","Class","extends","subGameName","properties","OnCreate","formName","JS_Name","OpenActionTag","InitNodeScale","node","scale","_dataInfo","InitBaseData","OnCreateInit","ShowFormName","SysNotifyManager","ConfirmManager","SysDataManager","ShareDefine","ComTool","EffectManager","FormManager","SoundManager","LocalDataManager","SDKManager","IntegrateImage","GetTableDict","Effect","on","OnEffectAnimationEnd","bind","_effectDict","_eventFuncDict","_childFormComponentDict","_cacheChildFormDict","_loadWndImageDict","onLoad","Destroy","UnRegTargetEvent","OnDestroy","destroy","update","dt","OnUpdate","error","ErrLog","stack","ShowForm","argList","parent","find","addChild","ZorderLv","ShowFormAction","eventName","RegEvent","AddShowingForm","OnShow","apply","console","log","CloseForm","CloseFormAction","OnClose","removeFromParent","RemoveShowingForm","ShowOrCloseForm","IsFormShow","OnFormActionEnd","sender","userData","Node","setPosition","label","addComponent","Label","string","GetFormProperty","fontSize","color","Color_Orange","IsShow","uiName","childs","children","i","length","name","active","openAction","startScale","ShowEffectType","scaleTo","easing","easeElasticOut","stopActionByTag","action","sequence","callFunc","setTag","runAction","CreateChildForm","childComponentName","childPrefab","parentNode","pos","zorderLv","argument","isShowForm","childFormNode","NewChildFormNode","childFormComponent","getComponent","WarnLog","AddChildFormComponent","hasOwnProperty","get","instantiate","childFormComponentList","SetDefault","push","GetChildComponentByUserData","allChildFormComponentList","count","index","childComponent","childUserData","GetChildComponentByChildIndex","childIndex","GetAllChildComponentByName","ClearAllChildComponentByName","allChildFormList","NodePool","cacheNodePool","put","ClearFormAllChildComponent","GetChildFormCacheNodePool","TriggerChildEvent","argDict","OnParentEvent","TriggerChildEventByChildComponent","TriggerAllChildEvent","GetFormContentSize","getContentSize","property","GetWndNode","wndPath","wndNode","GetWndComponent","componentType","wndComponent","GetWndProperty","EditBox","getPosition","opacity","Button","interactable","ProgressBar","progress","SetFormPosition","SetFormProperty","value","SetWndProperty","RichText","SetWndImage","imageName","fileName","imageInfo","filePath","fileNameList","SetWndImageByFilePath","SetNodeImageByFilePath","isHideFirst","nodeSprite","Sprite","that","CreateLoadPromise","SpriteFrame","then","spriteFrame","bluebird","resolve","sprite","resType","SpriteAtlas","loadWndImageInfo","getSpriteFrame","catch","ClearWndImage","SetWndFlyTo","startPos","endPos","time","useData","WndRunAction","SetWndOpacity","endFade","SetWndDelay","delayTime","StopWndFly","StopWndOpacity","StopWndDelay","actionType","WndFlyUseData","starPos","moveTo","OnRunActionEnd","fadeTo","FlyWnd_FlyEnd","OpacityWnd_End","FlyWnd_DelayEnd","wndName","GetWndEffectPos","wndObj","postType","offPosList","EffectPosType_5","size","posX","posY","EffectPosType_1","width","height","EffectPosType_2","EffectPosType_3","EffectPosType_4","EffectPosType_6","EffectPosType_7","EffectPosType_8","EffectPosType_9","EffectPosType_10","halfWidth","halfHeight","RandInt","v2","AddWndEffect","effectName","effectRes","repeatCount","posType","effectTableInfo","effectPos","allEffectDict","effectComponent","GetModelProperty","DeleteWndEffect","CreateEffectByEffectRes","OnCreateEffectEnd","AddModelToParent","SetModelProperty","animationState","ShowEffect","wrapMode","WrapMode","Default","PingPong","Loop","event","modelComponent","OnEffectEnd","DeleteEffect","DeleteWndAllEffect","DeleteEffectByDict","DeleteFormAllEffect","func","ShowSysMsg","msgID","msgArgList","WaitForConfirm","backArgList","curConFirmType","Confirm","SetWaitForConfirmForm","OnConFirm","SetUpTipFormConfirmList","InArray","ShowConfirm","ConfirmUse","ShowUseMsg","ConfirmBuy","ShowBuyMsg","clickType","SimulateOnClick","btnNode","buttonComponent","btnName","OnClick","OnClick_Close","OnClick_BtnWnd","eventTouch","eventData","PlaySound","currentTarget","OnClick_Toggle","toggle","OnClick_Form","OnClickForm","passSecond","OnReload","InitWeiXinShare","sys","isNative","OnWeChatReady","IsIphoneX","FrameSize","view","getFrameSize","OnScrollEnded","GetTuiGuangUrl","TuiGuangUrl","GetConfigProperty","heroID","GetHeroProperty","ShortHeroID","GetPid","long_url","SendPack","GetShorTuiGuangUrl","FailTuiGuangUrl","getRandom","min","max","r","Math","random","re","round","GetRandBaseUrl","urls","GetClientConfigProperty","urlList","split","rand","serverPack","randUrl","SetConfigProperty","requestUrl","jsonStr","replace","ShareUrl","eval","url_short","SuccessTcnUrl","shareUrl","text","ShareText","FailTcnUrl","BeginShare","roomKey","GetAppName","appName","localStorage","getItem","Click_btn_weixin","room","toUpperCase","WeChatShare","title","weChatAppShareUrl","setCount","GetRoomConfigByProperty","GetRoomProperty","allPlayerInfo","GetRoomPosMgr","GetRoomAllPlayerInfo","joinPlayerCount","GetRoomPlayerCount","nowJoin","pid","gamedesc","autoCardIdx","que","teshuwanfan","WanFa","ShareLineLink","Click_btn_fzkl","str","toString","CallToNative","outCardPackageVerification","sendPack","repeatCardMaxCount","cardList","valueMap","card","warn","cfg","showFlag","gameCreateConfig","playGame","gameType","wanfa","zhadansuanfaCount","isWuZha","two","key","gameName","GameName","isWanFa","dataKey","Key","indexOf","ToggleType","ToggleDesc","baseDiZhus","dizhuIdx","dizhu","dingzhu","j","sportsDouble","GameTyepStringUp","CheckUpdateNotice","gameTypeId","GametTypeNameDict","status","content","module","exports"],"mappings":"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","file":"pdk_BaseForm.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\ui","sourcesContent":["/*\r\n BaseForm 界面基类(又FormManager控制创建和销毁)\r\n */\r\n\r\nvar app = require(\"pdk_app\");\r\n\r\n//界面层级枚举\r\nvar ZorderLvEnum = cc.Enum({\r\n\r\n    //置底界面层(UIFightTower)\r\n    ZorderLv0: 0,\r\n\r\n    //聊天层(UIChat)\r\n    ZorderLv1: 1,\r\n\r\n    //玩家头像层(UIPlayer)\r\n    ZorderLv2: 2,\r\n\r\n    //通用背景层(UIResource)\r\n    ZorderLv3: 3,\r\n\r\n    //布阵层\r\n    ZorderLv4: 4,\r\n\r\n    //主场景工具层(UIMenu)\r\n    ZorderLv5: 5,\r\n\r\n    //正常界面层(多数界面)\r\n    ZorderLv6: 6,\r\n\r\n    //置顶层(3级界面使用到,UICardPackFragSale)\r\n    ZorderLv7: 7,\r\n\r\n    //模态层,消息提示层(UIMessage)\r\n    ZorderLv8: 8,\r\n\r\n    //debugTool界面\r\n    ZorderLv9: 9,\r\n});\r\n\r\n//界面显示动画枚举\r\n\r\nvar ShowEffectEnum = cc.Enum({\r\n\r\n    //没有效果\r\n    None: 0,\r\n    //从上划入\r\n    FromTop: 1,\r\n    //从下划入\r\n    FromBottom: 2,\r\n    //从左划入\r\n    FromLeft: 3,\r\n    //从右划入\r\n    FromRight: 4,\r\n    //从中间从小变大\r\n    FromCenter: 5,\r\n});\r\n\r\n\r\n//界面关闭动画枚举\r\nvar CloseEffectEnum = cc.Enum({\r\n\r\n    //没有效果\r\n    None: 0,\r\n    //从上划入\r\n    ToTop: 1,\r\n    //从下划入\r\n    ToBottom: 2,\r\n    //从左划入\r\n    ToLeft: 3,\r\n    //从右划入\r\n    ToRight: 4,\r\n    //从中间从小变大\r\n    ToCenter: 5,\r\n});\r\n\r\n\r\nvar pdk_BaseForm = cc.Class({\r\n\r\n    extends: require(app.subGameName + \"_BaseComponent\"),\r\n\r\n    properties: {\r\n\r\n        //显示界面效果类型\r\n        \"ShowEffectType\": {\r\n            \"default\": ShowEffectEnum.None,\r\n            \"tooltip\": \"显示界面动画\",\r\n            \"type\": ShowEffectEnum,\r\n        },\r\n\r\n        //关闭界面效果类型\r\n        \"CloseEffectType\": {\r\n            \"default\": CloseEffectEnum.None,\r\n            \"tooltip\": \"关闭界面动画\",\r\n            \"type\": CloseEffectEnum,\r\n        },\r\n\r\n        //场景精灵层级\r\n        \"ZorderLv\": {\r\n            \"default\": ZorderLvEnum.ZorderLv6,\r\n            \"tooltip\": \"界面层级\",\r\n            \"type\": ZorderLvEnum,\r\n        },\r\n\r\n    },\r\n    //创建对象是被调用(OnLoad前,还未执行addChild,逻辑层初始化)\r\n    OnCreate: function (formName) {\r\n        this.JS_Name = formName;\r\n\r\n        this.OpenActionTag = 1000;\r\n        this.InitNodeScale = this.node.scale;\r\n\r\n        //界面数据\r\n        this._dataInfo = {\r\n            \"FormName\": formName,\r\n        };\r\n\r\n\r\n        this.InitBaseData();\r\n\r\n        this.OnCreateInit();\r\n        this.ShowFormName();\r\n    },\r\n\r\n    //BaseChildForm也需要初始化调用这个接口\r\n    InitBaseData: function () {\r\n        //管理器\r\n        this.SysNotifyManager = app[app.subGameName + \"_SysNotifyManager\"]();\r\n        this.ConfirmManager = app[app.subGameName + \"_ConfirmManager\"]();\r\n        this.SysDataManager = app[app.subGameName + \"_SysDataManager\"]();\r\n        this.ShareDefine = app[app.subGameName + \"_ShareDefine\"]();\r\n        this.ComTool = app[app.subGameName + \"_ComTool\"]();\r\n        this.EffectManager = app[app.subGameName + \"_EffectManager\"]();\r\n        this.FormManager = app[app.subGameName + \"_FormManager\"]();\r\n        this.SoundManager = app[app.subGameName + \"_SoundManager\"]();\r\n        this.LocalDataManager = app.LocalDataManager();\r\n        this.SDKManager = app[app.subGameName + \"_SDKManager\"]();\r\n        //表配置\r\n        this.IntegrateImage = this.SysDataManager.GetTableDict(\"IntegrateImage\");\r\n        this.Effect = this.SysDataManager.GetTableDict(\"Effect\");\r\n\r\n\r\n        this.node.on(\"EffectAnimationEnd\", this.OnEffectAnimationEnd.bind(this));\r\n\r\n        //-----成员变量----------------\r\n        //控件特效\r\n        // {    spt_card/icon\r\n        //     wndPath:{effectName:effectComponent},\r\n        // }\r\n        this._effectDict = {};\r\n\r\n        //-----事件注册函数字典------------\r\n        this._eventFuncDict = {};\r\n\r\n        //子类界面组件字典\r\n        this._childFormComponentDict = {};\r\n\r\n        //子类界面缓存字典\r\n        // {\r\n        //     'UICardReplace_Child':new cc.NodePool('UICardReplace_Child'),\r\n        // }\r\n        this._cacheChildFormDict = {};\r\n        //等待加载的贴图信息字典\r\n        this._loadWndImageDict = {};\r\n\r\n    },\r\n\r\n    //------------回掉函数----------------\r\n\r\n    // active node时调用\r\n    onLoad: function () {\r\n\r\n    },\r\n\r\n    //销毁界面\r\n    Destroy: function () {\r\n\r\n        app[app.subGameName + \"Client\"].UnRegTargetEvent(this);\r\n\r\n        this._eventFuncDict = {};\r\n\r\n        this.OnDestroy();\r\n        //销毁节点\r\n        this.node.destroy();\r\n    },\r\n\r\n    //没帧回掉\r\n    update: function (dt) {\r\n        try {\r\n            this.OnUpdate(dt);\r\n        } catch (error) {\r\n            this.ErrLog(\"update:%s\", error.stack);\r\n        }\r\n\r\n    },\r\n\r\n    //显示界面\r\n    ShowForm: function (argList) {\r\n\r\n        if (!argList) {\r\n            argList = [];\r\n        }\r\n\r\n        let formName = this._dataInfo[\"FormName\"];\r\n        //获取到当前场景的画布\r\n        let parent = cc.find('Canvas/uiLayer');\r\n        if (!parent) {\r\n            this.ErrLog(\"ShowForm not find uiLayer\");\r\n            return\r\n        }\r\n\r\n        if (this.node.parent == parent) {\r\n        } else {\r\n            //设置界面新父类\r\n            parent.addChild(this.node, this.ZorderLv);\r\n\r\n            this.ShowFormAction();\r\n\r\n            //开启界面重新注册已经注册的监听事件\r\n            for (let eventName in this._eventFuncDict) {\r\n                app[app.subGameName + \"Client\"].RegEvent(eventName, this._eventFuncDict[eventName], this);\r\n            }\r\n\r\n            this.FormManager.AddShowingForm(formName, this);\r\n        }\r\n        try {\r\n            this.OnShow.apply(this, argList);\r\n        } catch (error) {\r\n            console.log(\"ShowForm error:\" + error.stack);\r\n        }\r\n\r\n    },\r\n\r\n    //关闭界面\r\n    CloseForm: function () {\r\n        //获取到当前场景的画布\r\n        let parent = cc.find('Canvas/uiLayer');\r\n\r\n        if (this.node.parent != parent) {\r\n            return\r\n        }\r\n        //关闭界面则取消所有事件监听\r\n        app[app.subGameName + \"Client\"].UnRegTargetEvent(this);\r\n\r\n        this.CloseFormAction();\r\n\r\n        this.OnClose();\r\n\r\n        this.node.removeFromParent(false);\r\n\r\n        this.FormManager.RemoveShowingForm(this._dataInfo[\"FormName\"]);\r\n\r\n    },\r\n\r\n    //开启或者关闭界面\r\n    ShowOrCloseForm: function (argList) {\r\n        if (this.IsFormShow()) {\r\n            this.CloseForm();\r\n            return false\r\n        } else {\r\n            this.ShowForm(argList);\r\n            return true\r\n        }\r\n    },\r\n\r\n    //界面动作执行界面回调\r\n    OnFormActionEnd: function (sender, userData) {\r\n\r\n    },\r\n\r\n    ShowFormName: function () {\r\n        return;\r\n        let node = new cc.Node(\"LabelFormName\");\r\n\r\n        node.parent = this.node;\r\n        node.setPosition(10, -10);\r\n        let label = node.addComponent(cc.Label);\r\n        label.string = this.GetFormProperty(\"FormName\");\r\n        label.fontSize = 25\r\n        node.color = this.ShareDefine.Color_Orange;\r\n    },\r\n\r\n    //--------------获取接口-----------------\r\n\r\n    //界面是否显示中\r\n    IsFormShow: function () {\r\n        let parent = cc.find('Canvas/uiLayer');\r\n\r\n        if (this.node.parent == parent) {\r\n            return true\r\n        }\r\n\r\n        return false\r\n    },\r\n\r\n    IsShow: function (uiName = '') {\r\n        let childs = this.node.parent.children;\r\n        for (let i = 0; i < childs.length; i++) {\r\n            if (uiName == childs[i].name && childs[i].active)\r\n                return true;\r\n        }\r\n        return false;\r\n    },\r\n    //--------------动作函数------------\r\n    //显示界面动作\r\n    ShowFormAction: function () {\r\n\r\n        let openAction = null;\r\n\r\n        //设置起点缩放倍速\r\n        let startScale = this.InitNodeScale * 0.5;\r\n\r\n        switch (this.ShowEffectType) {\r\n\r\n            case ShowEffectEnum.None:\r\n                break\r\n            case ShowEffectEnum.FromTop:\r\n                openAction = cc.scaleTo(0.5, this.InitNodeScale).easing(cc.easeElasticOut());\r\n                break\r\n            case ShowEffectEnum.FromBottom:\r\n                openAction = cc.scaleTo(0.5, this.InitNodeScale).easing(cc.easeElasticOut());\r\n                break\r\n            case ShowEffectEnum.FromLeft:\r\n                openAction = cc.scaleTo(0.5, this.InitNodeScale).easing(cc.easeElasticOut());\r\n                break\r\n            case ShowEffectEnum.FromRight:\r\n                openAction = cc.scaleTo(0.5, this.InitNodeScale).easing(cc.easeElasticOut());\r\n                break\r\n            case ShowEffectEnum.FromCenter:\r\n                openAction = cc.scaleTo(0.5, this.InitNodeScale).easing(cc.easeElasticOut());\r\n                break\r\n            default:\r\n                this.ErrLog(\"ShowEffectType:%s error\", this.ShowEffectType);\r\n                break\r\n        }\r\n\r\n        //如果之前有打开动作,先停止\r\n        this.node.stopActionByTag(this.OpenActionTag);\r\n\r\n        if (openAction) {\r\n            let action = cc.sequence(\r\n                openAction,\r\n                cc.callFunc(this.OnFormActionEnd, this, \"OpenAction\"),\r\n            );\r\n            action.setTag(this.OpenActionTag);\r\n            this.node.scale = startScale;\r\n            this.node.runAction(action);\r\n        }\r\n    },\r\n\r\n    //关闭界面动作\r\n    CloseFormAction: function () {\r\n        //let closeAction = cc.scaleTo(0.5, 1).easing(cc.easeElasticIn());\r\n    },\r\n\r\n    //-------------子类界面操作接口------------------\r\n    //创建子类界面\r\n    /*\r\n     childComponentName:子类界面的组件名字 字符串类型 \"UIBuyCard_Child\"\r\n     childPrefab:子类界面的预制对象,cc.Prefab类型\r\n     userData:子界面特殊数据 默认0\r\n     parentNode:子界面的父类node 默认为界面自身对象node\r\n     pos:子类创建时的坐标,可不传\r\n     zorderLv:子类层级\r\n     argument:传递给子类的显示参数 ShowForm(argument) 最终在OnShow(argument)接收\r\n     isShowForm:创建子类默认是否显示\r\n     */\r\n    CreateChildForm: function (childComponentName, childPrefab, userData = 0, parentNode = null, pos = null, zorderLv = 0, argument = null, isShowForm = true) {\r\n\r\n        if (!parentNode) {\r\n            parentNode = this.node;\r\n        }\r\n        let childFormNode = this.NewChildFormNode(childComponentName, childPrefab);\r\n\r\n        let childFormComponent = childFormNode.getComponent(childComponentName);\r\n        if (!childFormComponent) {\r\n            //如果子类node没有这个组件,则主动添加组件对象\r\n            this.WarnLog(\"CreateChildForm not find:%s addComponent\", childComponentName);\r\n            childFormComponent = childFormNode.addComponent(childComponentName);\r\n            if (!childFormComponent) {\r\n                this.ErrLog(\"CreateChildForm(%s) fail\", childComponentName);\r\n                return\r\n            }\r\n        }\r\n        childFormComponent.OnCreate(this, childComponentName, 0, userData, pos);\r\n        parentNode.addChild(childFormNode, zorderLv);\r\n\r\n        this.AddChildFormComponent(childComponentName, childFormComponent);\r\n\r\n        if (isShowForm) {\r\n            childFormComponent.ShowForm(argument);\r\n        } else {\r\n            childFormComponent.CloseForm(argument);\r\n        }\r\n\r\n        return childFormComponent\r\n\r\n    },\r\n\r\n    //new一个字界面node\r\n    NewChildFormNode: function (childComponentName, childPrefab) {\r\n\r\n        let childFormNode = null;\r\n\r\n        //如果有缓存从缓存中取\r\n        if (this._cacheChildFormDict.hasOwnProperty(childComponentName)) {\r\n            childFormNode = this._cacheChildFormDict[childComponentName].get()\r\n        }\r\n\r\n        //如果没有创建缓存,创建一个新对象\r\n        if (!childFormNode) {\r\n            childFormNode = cc.instantiate(childPrefab);\r\n        }\r\n\r\n        return childFormNode\r\n    },\r\n\r\n    AddChildFormComponent: function (childComponentName, childFormComponent) {\r\n        let childFormComponentList = this._childFormComponentDict.SetDefault(childComponentName, []);\r\n        childFormComponentList.push(childFormComponent)\r\n    },\r\n\r\n    //通过userData获取子类的组件对象\r\n    GetChildComponentByUserData: function (childComponentName, userData) {\r\n        let allChildFormComponentList = this._childFormComponentDict[childComponentName];\r\n        if (!allChildFormComponentList) {\r\n            this.ErrLog(\"GetChildComponentByUserData not find(%s)\", childComponentName);\r\n            return\r\n        }\r\n        let count = allChildFormComponentList.length;\r\n        for (let index = 0; index < count; index++) {\r\n            let childComponent = allChildFormComponentList[index];\r\n            let childUserData = childComponent.GetFormProperty(\"UserData\");\r\n            if (childUserData == userData) {\r\n                return childComponent\r\n            }\r\n        }\r\n    },\r\n\r\n    //通过索引获取子类界面\r\n    GetChildComponentByChildIndex: function (childComponentName, childIndex) {\r\n        let allChildFormComponentList = this._childFormComponentDict[childComponentName];\r\n        if (!allChildFormComponentList) {\r\n            this.ErrLog(\"GetChildComponentByChildIndex not find(%s)\", childComponentName);\r\n            return\r\n        }\r\n        let childComponent = allChildFormComponentList[childIndex];\r\n        if (!childComponent) {\r\n            this.ErrLog(\"GetChildComponentByChildIndex(%s,%s) not find child\", childComponentName, childIndex);\r\n            return\r\n        }\r\n        return childComponent\r\n    },\r\n\r\n    //返回子界面列表\r\n    GetAllChildComponentByName: function (childComponentName) {\r\n\r\n        if (this._childFormComponentDict.hasOwnProperty(childComponentName)) {\r\n            return this._childFormComponentDict[childComponentName];\r\n        }\r\n        return []\r\n    },\r\n\r\n    //清楚掉指定的子类\r\n    ClearAllChildComponentByName: function (childComponentName) {\r\n\r\n        if (!this._childFormComponentDict.hasOwnProperty(childComponentName)) {\r\n            return\r\n        }\r\n        let allChildFormList = this._childFormComponentDict[childComponentName];\r\n\r\n        delete this._childFormComponentDict[childComponentName];\r\n\r\n        if (!this._cacheChildFormDict.hasOwnProperty(childComponentName)) {\r\n            this._cacheChildFormDict[childComponentName] = new cc.NodePool(childComponentName)\r\n        }\r\n        let cacheNodePool = this._cacheChildFormDict[childComponentName];\r\n\r\n        let count = allChildFormList.length;\r\n        for (let index = 0; index < count; index++) {\r\n            let childFormComponent = allChildFormList[index];\r\n            cacheNodePool.put(childFormComponent.node);\r\n        }\r\n    },\r\n\r\n    ClearFormAllChildComponent: function () {\r\n\r\n        for (let childComponentName in this._childFormComponentDict) {\r\n\r\n            if (!this._cacheChildFormDict.hasOwnProperty(childComponentName)) {\r\n                this._cacheChildFormDict[childComponentName] = new cc.NodePool(childComponentName)\r\n            }\r\n            let cacheNodePool = this._cacheChildFormDict[childComponentName];\r\n\r\n            let allChildFormList = this._childFormComponentDict[childComponentName];\r\n            let count = allChildFormList.length;\r\n            for (let index = 0; index < count; index++) {\r\n                cacheNodePool.put(allChildFormList[index].node);\r\n            }\r\n        }\r\n\r\n        this._childFormComponentDict = {};\r\n    },\r\n\r\n    //获取指定子类的缓存池对象\r\n    GetChildFormCacheNodePool: function (childComponentName) {\r\n        if (!this._cacheChildFormDict.hasOwnProperty(childComponentName)) {\r\n            this._cacheChildFormDict[childComponentName] = new cc.NodePool(childComponentName)\r\n        }\r\n        return this._cacheChildFormDict[childComponentName];\r\n    },\r\n\r\n    //触发子类事件\r\n    TriggerChildEvent: function (childComponentName, userData, eventName, argDict) {\r\n\r\n        let allChildFormComponentList = this._childFormComponentDict[childComponentName];\r\n        if (!allChildFormComponentList) {\r\n            this.ErrLog(\"TriggerChildEvent not find(%s)\", childComponentName);\r\n            return\r\n        }\r\n        let count = allChildFormComponentList.length;\r\n        for (let index = 0; index < count; index++) {\r\n            let childComponent = allChildFormComponentList[index];\r\n            let childUserData = childComponent.GetFormProperty(\"UserData\");\r\n\r\n            //找到一个子类,执行则跳出\r\n            if (childUserData == userData) {\r\n                childComponent.OnParentEvent(eventName, argDict);\r\n                break\r\n            }\r\n        }\r\n    },\r\n\r\n    //触发子界面事件\r\n    TriggerChildEventByChildComponent: function (childComponent, eventName, argDict) {\r\n        childComponent.OnParentEvent(eventName, argDict);\r\n    },\r\n\r\n    //触发所有子类的事件\r\n    TriggerAllChildEvent: function (childComponentName, eventName, argDict) {\r\n        let allChildFormComponentList = this._childFormComponentDict[childComponentName];\r\n        if (!allChildFormComponentList) {\r\n            this.ErrLog(\"TriggerAllChildEvent not find(%s)\", childComponentName);\r\n            return\r\n        }\r\n        let count = allChildFormComponentList.length;\r\n        for (let index = 0; index < count; index++) {\r\n            allChildFormComponentList[index].OnParentEvent(eventName, argDict);\r\n        }\r\n    },\r\n\r\n\r\n    //-------------获取接口-------------------\r\n    GetFormContentSize: function () {\r\n        return this.node.getContentSize();\r\n    },\r\n    //获取界面属性\r\n    GetFormProperty: function (property) {\r\n\r\n        if (!this._dataInfo.hasOwnProperty(property)) {\r\n            this.ErrLog(\"GetFormProperty not find:%s\", property);\r\n            return\r\n        }\r\n        return this._dataInfo[property];\r\n    },\r\n\r\n    GetWndNode: function (wndPath) {\r\n        let wndNode = cc.find(wndPath, this.node);\r\n        if (!wndNode) {\r\n            this.ErrLog(\"GetWndNode(%s) not find\", wndPath);\r\n            return\r\n        }\r\n        return wndNode\r\n    },\r\n\r\n    //获取指定控件的组件对象\r\n    GetWndComponent: function (wndPath, componentType) {\r\n\r\n        let wndNode = cc.find(wndPath, this.node);\r\n        if (!wndNode) {\r\n            this.ErrLog(\"GetWndComponent wndPath(%s) error\", wndPath);\r\n            return\r\n        }\r\n\r\n        let wndComponent = wndNode.getComponent(componentType);\r\n\r\n        if (!wndComponent) {\r\n            this.ErrLog(\"GetWndComponent wndPath(%s) not find Component(%s)\", wndPath, componentType.name);\r\n            return\r\n        }\r\n        return wndComponent\r\n    },\r\n\r\n    GetWndProperty: function (wndPath, property) {\r\n        let wndNode = cc.find(wndPath, this.node);\r\n        if (!wndNode) {\r\n            this.ErrLog(\"GetWndProperty(%s,%s) not find wndPath\", wndPath, property);\r\n            return\r\n        }\r\n\r\n        let wndComponent = null;\r\n        if (property == \"text\") {\r\n            wndComponent = wndNode.getComponent(cc.Label);\r\n            //可能是label\r\n            if (wndComponent) {\r\n            }\r\n            //没有label可能是editbox\r\n            else {\r\n                wndComponent = wndNode.getComponent(cc.EditBox);\r\n            }\r\n\r\n            if (!wndComponent) {\r\n                this.ErrLog(\"GetWndProperty(%s,%s) wnd not find cc.Label cc.EditBox\", wndPath, property);\r\n                return\r\n            }\r\n            return wndComponent.string;\r\n        } else if (property == \"position\") {\r\n            return wndNode.getPosition()\r\n        } else if (property == \"active\") {\r\n            return wndNode.active;\r\n        } else if (property == \"color\") {\r\n            return wndNode.color;\r\n        } else if (property == \"scale\") {\r\n            return wndNode.scale;\r\n        } else if (property == \"opacity\") {\r\n            return wndNode.opacity;\r\n        } else if (property == \"interactable\") {\r\n            wndComponent = wndNode.getComponent(cc.Button);\r\n            if (!wndComponent) {\r\n                this.ErrLog(\"GetWndProperty(%s,%s) wnd not find cc.Button\", wndPath, property);\r\n                return\r\n            }\r\n            return wndComponent.interactable;\r\n        } else if (property == \"progress\") {\r\n            wndComponent = wndNode.getComponent(cc.ProgressBar);\r\n            if (!wndComponent) {\r\n                this.ErrLog(\"GetWndProperty(%s,%s) wnd not find cc.ProgressBar\", wndPath, property);\r\n                return\r\n            }\r\n            return wndComponent.progress;\r\n        } else {\r\n            this.ErrLog(\"GetWndProperty(%s,%s) property error\", wndPath, property);\r\n            return\r\n        }\r\n    },\r\n\r\n\r\n    //-------------设置接口-----------------\r\n\r\n    SetFormPosition: function (pos) {\r\n        this.node.setPosition(pos);\r\n    },\r\n\r\n    //获取界面属性\r\n    SetFormProperty: function (property, value) {\r\n\r\n        if (!this._dataInfo.hasOwnProperty(property)) {\r\n            this.ErrLog(\"SetFormProperty not find:%s\", property);\r\n            return\r\n        }\r\n        this._dataInfo[property] = value;\r\n    },\r\n\r\n    //设置控件属性\r\n    SetWndProperty: function (wndPath, property, value) {\r\n\r\n        let wndNode = cc.find(wndPath, this.node);\r\n        if (!wndNode) {\r\n            this.ErrLog(\"SetWndProperty(%s,%s,%s) not find wndPath\", wndPath, property, value);\r\n            return\r\n        }\r\n\r\n        let wndComponent = null;\r\n        if (property == \"text\") {\r\n            wndComponent = wndNode.getComponent(cc.Label);\r\n            //可能是label\r\n            if (wndComponent) {\r\n            }\r\n            //没有label可能是editbox\r\n            else if (wndNode.getComponent(cc.RichText)) {\r\n                wndComponent = wndNode.getComponent(cc.RichText);\r\n            } else {\r\n                wndComponent = wndNode.getComponent(cc.EditBox);\r\n            }\r\n\r\n            if (!wndComponent) {\r\n                this.ErrLog(\"SetWndProperty(%s,%s,%s) wnd not find cc.Label cc.EditBox\", wndPath, property, value);\r\n                return\r\n            }\r\n            wndComponent.string = value + \"\";\r\n        } else if (property == \"position\") {\r\n            wndNode.setPosition(value)\r\n        } else if (property == \"active\") {\r\n            wndNode.active = value;\r\n        } else if (property == \"color\") {\r\n            wndNode.color = value\r\n        } else if (property == \"image\") {\r\n            this.SetWndImage(wndPath, value);\r\n        } else if (property == \"scale\") {\r\n            wndNode.scale = value\r\n        } else if (property == \"opacity\") {\r\n            wndNode.opacity = value\r\n        } else if (property == \"interactable\") {\r\n            wndComponent = wndNode.getComponent(cc.Button);\r\n            if (!wndComponent) {\r\n                this.ErrLog(\"SetWndProperty(%s,%s,%s) wnd not find cc.Button\", wndPath, property, value);\r\n                return\r\n            }\r\n            wndComponent.interactable = value;\r\n        } else if (property == \"progress\") {\r\n            wndComponent = wndNode.getComponent(cc.ProgressBar);\r\n            if (!wndComponent) {\r\n                this.ErrLog(\"SetWndProperty(%s,%s,%s) wnd not find cc.ProgressBar\", wndPath, property, value);\r\n                return\r\n            }\r\n            wndComponent.progress = value;\r\n        } else {\r\n            this.ErrLog(\"SetWndProperty(%s,%s,%s) property error\", wndPath, property, value);\r\n            return\r\n        }\r\n    },\r\n\r\n\r\n    SetWndImage: function (wndPath, imageName) {\r\n\r\n        let fileName = \"\";\r\n        //如果有传图片\r\n        let imageInfo = this.IntegrateImage[imageName];\r\n        if (!imageInfo) {\r\n            this.ErrLog(\"SetWndImage IntegrateImage.txt not find key(%s)\", imageName);\r\n            return\r\n        }\r\n        let filePath = imageInfo[\"FilePath\"];\r\n        let fileNameList = imageInfo[\"FileNameList\"];\r\n\r\n        if (fileNameList && fileNameList.length) {\r\n            fileName = fileNameList[0];\r\n        }\r\n        this.SetWndImageByFilePath(wndPath, filePath, fileName);\r\n    },\r\n    SetNodeImageByFilePath: function (node, filePath, isHideFirst = false) {\r\n        let nodeSprite = node.getComponent(cc.Sprite);\r\n        if (!nodeSprite) {\r\n            this.ErrLog('SetNodeImageByFilePath error not cc.Sprite');\r\n            return;\r\n        }\r\n        let that = this;\r\n        return app[app.subGameName + \"_ControlManager\"]().CreateLoadPromise(filePath, cc.SpriteFrame)\r\n            .then(function (spriteFrame) {\r\n                if (!spriteFrame) {\r\n                    // that.ErrLog(\"SetNodeImageByFilePath load spriteFrame fail filePath : \", filePath);\r\n                    return false\r\n                }\r\n                nodeSprite.spriteFrame = spriteFrame;\r\n                if (isHideFirst)\r\n                    node.active = true;\r\n            });\r\n    },\r\n    //通过图片路径设置控件贴图\r\n    SetWndImageByFilePath: function (wndPath, filePath, fileName = \"\", isHideFirst = false) {\r\n\r\n        let wndNode = cc.find(wndPath, this.node);\r\n        if (!wndNode) {\r\n            this.ErrLog(\"(%s) SetWndImageByFilePath(%s,%s) not find node\", wndPath, filePath, fileName);\r\n            return app.bluebird.resolve(false)\r\n        }\r\n\r\n        let sprite = wndNode.getComponent(cc.Sprite);\r\n        if (!sprite) {\r\n            this.ErrLog(\"SetWndImageByFilePath(%s) not find cc.Sprite\", wndPath);\r\n            return app.bluebird.resolve(false)\r\n        }\r\n\r\n        let that = this;\r\n\r\n        let resType = cc.SpriteFrame;\r\n        if (fileName) {\r\n            resType = cc.SpriteAtlas;\r\n        }\r\n\r\n        //记录图片设置的贴图信息\r\n        this._loadWndImageDict[wndPath] = {\"FilePath\": filePath, \"FileName\": fileName, \"IsHideFirst\": isHideFirst};\r\n\r\n        //是否先隐藏节点,等待资源加载完成在显示节点\r\n        if (isHideFirst) {\r\n            //闲隐藏掉控件,加注完成在显示\r\n            wndNode.active = 0;\r\n        }\r\n\r\n        return app[app.subGameName + \"_ControlManager\"]().CreateLoadPromise(filePath, resType)\r\n            .then(function (spriteFrame) {\r\n\r\n                //重新激活控件显示\r\n                if (isHideFirst && !wndNode.active) {\r\n                    wndNode.active = 1;\r\n                }\r\n\r\n                if (!spriteFrame) {\r\n                    // that.ErrLog(\"SetWndImageByFilePath(%s,%s,%s) load spriteFrame fail\", wndPath, filePath, fileName);\r\n                    return false\r\n                }\r\n\r\n                let loadWndImageInfo = that._loadWndImageDict[wndPath];\r\n                if (!loadWndImageInfo) {\r\n                    that.WarnLog(\"_loadWndImageDict not find:%s\", wndPath);\r\n                    return false\r\n                }\r\n\r\n                //如果设置的贴图路径异步回调回来判断已经被更新设置贴图路径了,则跳出\r\n                if (loadWndImageInfo[\"FilePath\"] != filePath) {\r\n                    that.WarnLog(\"wndPath:%s FilePath(%s)!=(%s)\", wndPath, loadWndImageInfo[\"FilePath\"], filePath);\r\n                    return false\r\n                }\r\n\r\n                if (fileName) {\r\n                    //如果设置的贴图路径异步回调回来判断已经被更新设置贴图路径下的贴图了,则跳出\r\n                    if (loadWndImageInfo[\"FileName\"] != fileName) {\r\n                        that.WarnLog(\"wndPath:%s FileName(%s)!=(%s)\", wndPath, loadWndImageInfo[\"FilePath\"], filePath);\r\n                        return false\r\n                    }\r\n                    sprite.spriteFrame = spriteFrame.getSpriteFrame(fileName);\r\n                } else {\r\n                    sprite.spriteFrame = spriteFrame;\r\n                }\r\n                return true\r\n            })\r\n            .catch(function (error) {\r\n                // that.ErrLog(\"SetWndImageByFilePath(%s,%s,%s) error:%s\", wndPath, filePath, fileName, error.stack);\r\n            })\r\n\r\n    },\r\n\r\n    //清除控件贴图\r\n    ClearWndImage: function (wndPath) {\r\n        let wndNode = cc.find(wndPath, this.node);\r\n        if (!wndNode) {\r\n            this.ErrLog(\"ClearWndImage(%s) not find node\", wndPath);\r\n            return\r\n        }\r\n\r\n        let sprite = wndNode.getComponent(cc.Sprite);\r\n        if (!sprite) {\r\n            this.ErrLog(\"ClearWndImage(%s) not find cc.Sprite\", wndPath);\r\n            return\r\n        }\r\n        sprite.spriteFrame = null;\r\n    },\r\n\r\n    //------------控件飞行--------------------\r\n\r\n    //设置控件飞行\r\n    SetWndFlyTo: function (wndPath, startPos, endPos, time, useData = 0) {\r\n\r\n        let argDict = {\r\n            \"StartPos\": startPos,\r\n            \"EndPos\": endPos,\r\n            \"Time\": time,\r\n        };\r\n\r\n        this.WndRunAction(wndPath, \"FlyAction\", argDict, useData);\r\n    },\r\n\r\n    //设置控件透明度\r\n    SetWndOpacity: function (wndPath, endFade, time, useData = 0) {\r\n        let argDict = {\r\n            \"EndFade\": endFade,\r\n            \"Time\": time,\r\n        };\r\n\r\n        this.WndRunAction(wndPath, \"OpacityAction\", argDict, useData);\r\n    },\r\n\r\n    SetWndDelay: function (wndPath, delayTime, useData = 0) {\r\n        let argDict = {\r\n            \"DelayTime\": delayTime,\r\n        };\r\n\r\n        this.WndRunAction(wndPath, \"DelayAction\", argDict, useData);\r\n    },\r\n\r\n    //停止控件飞行\r\n    StopWndFly: function (wndPath) {\r\n        let wndNode = cc.find(wndPath, this.node);\r\n        if (!wndNode) {\r\n            this.ErrLog(\"StopWndFly(%s) wndPath not find\", wndPath);\r\n            return\r\n        }\r\n        wndNode.stopActionByTag(11111);\r\n    },\r\n\r\n    //停止控件渐变\r\n    StopWndOpacity: function (wndPath) {\r\n        let wndNode = cc.find(wndPath, this.node);\r\n        if (!wndNode) {\r\n            this.ErrLog(\"StopWndFly(%s) wndPath not find\", wndPath);\r\n            return\r\n        }\r\n        wndNode.stopActionByTag(22222);\r\n    },\r\n\r\n    StopWndDelay: function (wndPath) {\r\n        let wndNode = cc.find(wndPath, this.node);\r\n        if (!wndNode) {\r\n            this.ErrLog(\"StopWndDelay(%s) wndPath not find\", wndPath);\r\n            return\r\n        }\r\n        wndNode.stopActionByTag(33333);\r\n    },\r\n\r\n    /**\r\n     * 控件动作接口\r\n     */\r\n    WndRunAction: function (wndPath, actionType, argDict, useData) {\r\n\r\n        let wndNode = cc.find(wndPath, this.node);\r\n        if (!wndNode) {\r\n            this.ErrLog(\"WndRunAction(%s,%s) wndPath not find\", wndPath, actionType);\r\n            return\r\n        }\r\n\r\n        wndNode.WndFlyUseData = useData;\r\n\r\n        //控件飞行效果\r\n        if (actionType == \"FlyAction\") {\r\n            var starPos = argDict[\"StartPos\"];\r\n            var endPos = argDict[\"EndPos\"];\r\n            var time = argDict[\"Time\"];\r\n\r\n            wndNode.setPosition(starPos);\r\n            wndNode.stopActionByTag(11111);\r\n\r\n            var action = cc.sequence(\r\n                cc.moveTo(time, endPos),\r\n                cc.callFunc(this.OnRunActionEnd, this, \"FlyWndEnd\")\r\n            );\r\n            action.setTag(11111);\r\n            wndNode.runAction(action);\r\n        }\r\n        //控件透明度效果\r\n        else if (actionType == \"OpacityAction\") {\r\n            var endFade = argDict[\"EndFade\"];\r\n            var time = argDict[\"Time\"];\r\n\r\n            var action = cc.sequence(\r\n                cc.fadeTo(time, endFade),\r\n                cc.callFunc(this.OnRunActionEnd, this, \"OpacityWndEnd\")\r\n            );\r\n\r\n            action.setTag(22222);\r\n            wndNode.runAction(action);\r\n        }\r\n        //停留等待\r\n        else if (actionType == \"DelayAction\") {\r\n            var delayTime = argDict[\"DelayTime\"];\r\n            var action = cc.sequence(\r\n                cc.delayTime(delayTime),\r\n                cc.callFunc(this.OnRunActionEnd, this, \"DelayEnd\")\r\n            );\r\n\r\n            action.setTag(33333);\r\n            wndNode.runAction(action);\r\n        } else {\r\n            this.ErrLog(\"WndRunAction(%s) error\", actionType);\r\n            return\r\n        }\r\n    },\r\n\r\n    /**\r\n     * runAction结束回调\r\n     */\r\n    OnRunActionEnd: function (sender, useData) {\r\n\r\n        if (useData == \"FlyWndEnd\") {\r\n            this.FlyWnd_FlyEnd(sender.name, sender);\r\n        } else if (useData == \"OpacityWndEnd\") {\r\n            this.OpacityWnd_End(sender.name, sender);\r\n        } else if (useData == \"DelayEnd\") {\r\n            this.FlyWnd_DelayEnd(sender.name, sender);\r\n        } else {\r\n            this.ErrLog(\"OnRunActionEnd useData:%s error\", useData);\r\n        }\r\n    },\r\n\r\n    //控件飞行结束回调\r\n    FlyWnd_FlyEnd: function (wndName, wndNode) {\r\n\r\n    },\r\n\r\n    OpacityWnd_End: function (wndName, wndNode) {\r\n\r\n    },\r\n\r\n    FlyWnd_DelayEnd: function (wndName, wndNode) {\r\n\r\n    },\r\n    //------------特效接口-------------------\r\n\r\n    GetWndEffectPos: function (wndObj, postType, offPosList) {\r\n\r\n        if (!postType) {\r\n            postType = this.ShareDefine.EffectPosType_5;\r\n        }\r\n\r\n        let size = wndObj.getContentSize();\r\n        let posX = 0;\r\n        let posY = 0;\r\n\r\n        switch (postType) {\r\n            // 控件特效位置1左下\r\n            case this.ShareDefine.EffectPosType_1:\r\n                //在控件中心添加特效\r\n                posX = -size.width / 2;\r\n                posY = -size.height / 2;\r\n                break\r\n\r\n            // 控件特效位置2下中\r\n            case this.ShareDefine.EffectPosType_2:\r\n                posX = 0;\r\n                posY = -size.height / 2;\r\n                break\r\n            // 控件特效位置3右下\r\n            case this.ShareDefine.EffectPosType_3:\r\n                posX = size.width / 2;\r\n                posY = -size.height / 2;\r\n                break\r\n\r\n            // 控件特效位置中左\r\n            case this.ShareDefine.EffectPosType_4:\r\n                posX = -size.width / 2;\r\n                posY = 0;\r\n                break\r\n\r\n            // 控件特效位置中间\r\n            case this.ShareDefine.EffectPosType_5:\r\n                //在控件中心添加特效\r\n                posX = 0;\r\n                posY = 0;\r\n                break\r\n\r\n            // 控件特效位置中右\r\n            case this.ShareDefine.EffectPosType_6:\r\n                //在控件中心添加特效\r\n                posX = size.width / 2;\r\n                posY = 0;\r\n                break\r\n\r\n            // 控件特效位置上左\r\n            case this.ShareDefine.EffectPosType_7:\r\n                posX = -size.width / 2;\r\n                posY = size.height / 2;\r\n                break\r\n\r\n            // 控件特效位置上中\r\n            case this.ShareDefine.EffectPosType_8:\r\n                posX = 0;\r\n                posY = size.height / 2;\r\n                break\r\n\r\n            // 控件特效位置上右\r\n            case this.ShareDefine.EffectPosType_9:\r\n                posX = size.width / 2;\r\n                posY = size.height / 2;\r\n                break\r\n\r\n            //随机位置\r\n            case this.ShareDefine.EffectPosType_10:\r\n                let halfWidth = size.width / 2;\r\n                let halfHeight = size.height / 2;\r\n                posX = this.ComTool.RandInt(-halfWidth, halfWidth);\r\n                posY = this.ComTool.RandInt(-halfHeight, halfHeight);\r\n                break\r\n        }\r\n\r\n        // if(offPosList.length == 2){\r\n        // \tposX += offPosList[0];\r\n        // \tposY += offPosList[1];\r\n        // }\r\n\r\n        return cc.v2(posX, posY);\r\n    },\r\n\r\n    //给控件加特效\r\n    AddWndEffect: function (wndPath, effectName, effectRes, repeatCount = 0, userData = 0, offPosList = null, posType = null) {\r\n\r\n        let effectTableInfo = this.Effect[effectRes];\r\n        if (!effectTableInfo) {\r\n            this.ErrLog(\"AddWndEffect Effect.txt not find:%s\", effectRes);\r\n            return\r\n        }\r\n\r\n        let wndNode = cc.find(wndPath, this.node);\r\n        if (!wndNode) {\r\n            this.ErrLog(\"AddWndEffect wndPath(%s) error\", wndPath);\r\n            return\r\n        }\r\n\r\n        //如果没有传递偏移坐标,取配置表默认偏移坐标\r\n        if (!offPosList) {\r\n            offPosList = effectTableInfo[\"OffPosList\"];\r\n        }\r\n        if (!posType) {\r\n            posType = effectTableInfo[\"PosType\"];\r\n        }\r\n        let effectPos = this.GetWndEffectPos(wndNode, posType, offPosList);\r\n\r\n\r\n        //初始化父类的特效字典\r\n        let allEffectDict = this._effectDict.SetDefault(wndPath, {});\r\n\r\n        //如果子控件已经被加上这个特效了,需要删除,因为可能特效名一样但是特效使用的资源不一样了\r\n        if (allEffectDict.hasOwnProperty(effectName)) {\r\n\r\n            let effectComponent = allEffectDict[effectName];\r\n\r\n            if (effectComponent) {\r\n\r\n                //如果特效名和特效资源名都一样,则不添加新特效\r\n                if (effectComponent.GetModelProperty(\"EffectRes\") == effectRes) {\r\n                    return\r\n                }\r\n                //资源不一样需要删除旧的特效\r\n                this.DeleteWndEffect(wndPath, effectName);\r\n            } else {\r\n                return\r\n            }\r\n\r\n        }\r\n        //初始化特效对象null避免AddWndEffect重复调用时出现CreateEffectByEffectRes被多次调用\r\n        allEffectDict[effectName] = 0;\r\n\r\n        let that = this;\r\n\r\n        this.EffectManager.CreateEffectByEffectRes(effectName, effectRes, userData)\r\n            .then(function (effectComponent) {\r\n                return that.OnCreateEffectEnd(wndPath, wndNode, effectName, effectComponent, effectPos, repeatCount);\r\n            })\r\n            .catch(function (error) {\r\n                that.ErrLog(\"CreateFormEffect(%s,%s,%s):%s\", effectName, effectRes, userData, error.stack);\r\n            })\r\n\r\n    },\r\n\r\n\r\n    //创建特效成功回调\r\n    OnCreateEffectEnd: function (wndPath, wndNode, effectName, effectComponent, effectPos, repeatCount) {\r\n        if (!effectComponent) {\r\n            this.ErrLog(\"OnCreateEffectEnd(%s) fail\", effectName);\r\n            return\r\n        }\r\n        let allEffectDict = this._effectDict.SetDefault(wndPath, {});\r\n\r\n        //默认初始化为0\r\n        if (allEffectDict[effectName]) {\r\n            this.ErrLog(\"OnCreateEffectEnd allEffectDict have find:%s \", effectName);\r\n            return\r\n        }\r\n\r\n        effectComponent.AddModelToParent(wndNode, this.node, effectPos);\r\n        effectComponent.SetModelProperty(\"WndPath\", wndPath);\r\n\r\n        let animationState = effectComponent.ShowEffect();\r\n        if (!animationState) {\r\n            this.ErrLog(\"OnCreateEffectEnd ShowEffect fail\");\r\n            return\r\n        }\r\n\r\n        //如果是0代表循环播放\r\n        if (repeatCount > 0) {\r\n            animationState.wrapMode = cc.WrapMode.Default;\r\n            animationState.repeatCount = repeatCount;\r\n        }\r\n        //如果是-1,播放结束马上倒序播放\r\n        else if (repeatCount == -1) {\r\n            animationState.wrapMode = cc.WrapMode.PingPong;\r\n        }\r\n        //0是循环播放\r\n        else {\r\n            //需要注意的是，修改wrapMode时，会重置time以及repeatCount\r\n            animationState.wrapMode = cc.WrapMode.Loop;\r\n        }\r\n\r\n        allEffectDict[effectName] = effectComponent;\r\n\r\n        return effectComponent\r\n    },\r\n\r\n    OnEffectAnimationEnd: function (event) {\r\n        let modelComponent = event[\"Model\"];\r\n        //let animationName = event[\"AnimationName\"];\r\n\r\n        let wndPath = modelComponent.GetModelProperty(\"WndPath\");\r\n        let effectName = modelComponent.GetModelProperty(\"EffectName\");\r\n\r\n        //特效播放结束删除掉\r\n        this.DeleteWndEffect(wndPath, effectName);\r\n        this.OnEffectEnd(wndPath, effectName);\r\n    },\r\n\r\n    //删除控件特效\r\n    DeleteWndEffect: function (wndPath, effectName) {\r\n        let allEffectDict = this._effectDict[wndPath];\r\n        if (!allEffectDict) {\r\n            return\r\n        }\r\n        let effectComponent = allEffectDict[effectName];\r\n        if (!effectComponent) {\r\n            return\r\n        }\r\n        delete allEffectDict[effectName];\r\n\r\n        this.EffectManager.DeleteEffect(effectComponent);\r\n    },\r\n\r\n    //删除控件所有的特效\r\n    DeleteWndAllEffect: function (wndPath) {\r\n        let allEffectDict = this._effectDict[wndPath];\r\n        if (!allEffectDict) {\r\n            return\r\n        }\r\n        this.EffectManager.DeleteEffectByDict(allEffectDict);\r\n\r\n        delete this._effectDict[wndPath]\r\n    },\r\n\r\n    //删除界面所有特效\r\n    DeleteFormAllEffect: function () {\r\n\r\n        for (let wndPath in this._effectDict) {\r\n            this.EffectManager.DeleteEffectByDict(this._effectDict[wndPath]);\r\n        }\r\n        this._effectDict = {};\r\n    },\r\n    //------------快捷功能函数-------------\r\n\r\n    //注冊事件函数\r\n    RegEvent: function (eventName, func) {\r\n        this._eventFuncDict[eventName] = func;\r\n    },\r\n\r\n    //系统提示\r\n    ShowSysMsg: function (msgID, msgArgList) {\r\n        this.SysNotifyManager.ShowSysMsg(msgID, msgArgList);\r\n    },\r\n\r\n    //------------------2次确认框----------------------------\r\n\r\n    /**\r\n     * 等待\"是\"\"否\"确认框\r\n     */\r\n    WaitForConfirm: function (msgID, msgArgList, backArgList, curConFirmType) {\r\n\r\n        // 事件类型参数\r\n        if (!backArgList) {\r\n            backArgList = [];\r\n        }\r\n        // 默认确认框类型\r\n        if (!curConFirmType) {\r\n            curConFirmType = this.ShareDefine.Confirm;\r\n        }\r\n\r\n        this.ConfirmManager.SetWaitForConfirmForm(this.OnConFirm.bind(this), msgID, backArgList);\r\n\r\n        // frmSetUpTips 界面的确认框类型\r\n        if (this.ShareDefine.SetUpTipFormConfirmList.InArray(curConFirmType)) {\r\n            this.ConfirmManager.ShowConfirm(curConFirmType, msgID, msgArgList);\r\n        }\r\n        // frmSetUpTipsUse 使用道具界面\r\n        else if (curConFirmType == this.ShareDefine.ConfirmUse) {\r\n            this.ConfirmManager.ShowUseMsg(msgID, msgArgList);\r\n        }\r\n        // frmSetUpTips01 购买道具界面\r\n        else if (curConFirmType == this.ShareDefine.ConfirmBuy) {\r\n            this.ConfirmManager.ShowBuyMsg(msgID, backArgList);\r\n        } else {\r\n            this.ErrLog(\"WaitForConfirm((%s, %s), (%s), %s) error\", msgID, msgArgList, backArgList, curConFirmType);\r\n            return;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * 2次确认点击回调\r\n     * @param curEventType\r\n     * @param curArgList\r\n     */\r\n    OnConFirm: function (clickType, msgID, backArgList) {\r\n        // 如果子类没有继承接口报错提示\r\n        this.ErrLog(\"Not have func OnConFirm(%s,%s,%s)\", clickType, msgID, backArgList);\r\n    },\r\n\r\n\r\n    //-------------点击函数-------------\r\n\r\n    //模拟点击控件\r\n    SimulateOnClick: function (wndPath) {\r\n\r\n        let btnNode = cc.find(wndPath, this.node);\r\n        if (!btnNode) {\r\n            this.ErrLog(\"SimulateOnClick not find (%s)\", wndPath);\r\n            return\r\n        }\r\n        let buttonComponent = btnNode.getComponent(cc.Button);\r\n        if (!buttonComponent) {\r\n            this.ErrLog(\"SimulateOnClick(%s) not find cc.Button\", wndPath);\r\n            return\r\n        }\r\n        let btnName = btnNode.name;\r\n        this.OnClick(btnName, btnNode);\r\n    },\r\n\r\n    //关闭界面\r\n    OnClick_Close: function () {\r\n        try {\r\n            this.CloseForm();\r\n        } catch (error) {\r\n            this.ErrLog(\"OnClick_Close:%s\", error.stack);\r\n        }\r\n\r\n    },\r\n\r\n    //控件点击回调\r\n    OnClick_BtnWnd: function (eventTouch, eventData) {\r\n        try {\r\n            this.SoundManager.PlaySound(\"BtnClick\");\r\n            let btnNode = eventTouch.currentTarget;\r\n            let btnName = btnNode.name;\r\n            this.OnClick(btnName, btnNode);\r\n        } catch (error) {\r\n            this.ErrLog(\"OnClick_BtnWnd:%s\", error.stack);\r\n        }\r\n    },\r\n\r\n    OnClick_Toggle: function (toggle) {\r\n\r\n        try {\r\n            this.SoundManager.PlaySound(\"BtnClick\");\r\n            let btnNode = toggle.node;\r\n            let btnName = btnNode.name;\r\n            this.OnClick(btnName, btnNode);\r\n        } catch (error) {\r\n            this.ErrLog(\"OnClick_Toggle:%s\", error.stack);\r\n        }\r\n    },\r\n\r\n    OnClick_Form: function (eventTouch, eventData) {\r\n        try {\r\n            this.OnClickForm(eventTouch);\r\n        } catch (error) {\r\n            this.ErrLog(\"OnClick_Form:%s\", error.stack);\r\n        }\r\n\r\n    },\r\n\r\n    //--------------子类重载接口---------------\r\n    //创建界面被调用一次\r\n    OnCreateInit: function () {\r\n    },\r\n\r\n    //每次显示界面被调用\r\n    OnShow: function (/*..*/) {\r\n    },\r\n\r\n    //每次关闭界面被调用\r\n    OnClose: function () {\r\n    },\r\n\r\n    //销毁界面被调用\r\n    OnDestroy: function () {\r\n\r\n    },\r\n    //定时回掉\r\n    OnUpdate: function (passSecond) {\r\n\r\n    },\r\n\r\n    //切换账号\r\n    OnReload: function () {\r\n\r\n    },\r\n\r\n    //控件被点击\r\n    OnClick: function (btnName, eventData) {\r\n\r\n    },\r\n\r\n    //界面被点击\r\n    OnClickForm: function () {\r\n\r\n    },\r\n\r\n    //特效播放结束\r\n    OnEffectEnd: function (wndPath, effectName) {\r\n\r\n    },\r\n    //网页版微信分享处理\r\n    InitWeiXinShare: function () {\r\n        console.log(\"XiaoFu InitWeiXinShare\");\r\n        if (!cc.sys.isNative) {\r\n            //更新微信分享信息\r\n            console.log(\"XiaoFu InitWeiXinShare OnWeChatReady\");\r\n            app[app.subGameName + \"_WeChatManager\"]().OnWeChatReady();\r\n        }\r\n    },\r\n    IsIphoneX: function () {\r\n        let FrameSize = cc.view.getFrameSize();\r\n        if (FrameSize.width == 2436 && FrameSize.height == 1125) {\r\n            return true;\r\n        }\r\n        //{ name: 'IPhone X', width: 375, height: 812, ratio: 3 },\r\n        if (!cc.sys.isNative) {\r\n            if (FrameSize.width == 812 && FrameSize.height == 375) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    },\r\n\r\n    //滑动结束\r\n    OnScrollEnded: function () {\r\n\r\n    },\r\n    //获取用户推广Url\r\n    GetTuiGuangUrl: function () {\r\n        console.log(\"GetTuiGuangUrl begin\");\r\n        this.TuiGuangUrl = this.LocalDataManager.GetConfigProperty(\"SysSetting\", \"TuiGuangUrl\");\r\n        console.log(\"GetTuiGuangUrl this.TuiGuangUrl:\", this.TuiGuangUrl);\r\n        if (this.TuiGuangUrl == '') {\r\n            console.log(\"GetTuiGuangUrl 1\");\r\n            let heroID = app[app.subGameName + \"_HeroManager\"]().GetHeroProperty(\"pid\");\r\n            console.log(\"GetTuiGuangUrl 2\");\r\n            let ShortHeroID = this.ComTool.GetPid(heroID);\r\n            console.log(\"GetTuiGuangUrl 3\");\r\n            let long_url = \"http://api.t.sina.com.cn/short_url/shorten.json?source=3271760578&url_long=https://www.qp355.com/\" + ShortHeroID + '/';\r\n            //let long_url=\"http://api.t.sina.com.cn/short_url/shorten.json?source=3271760578&url_long=http://m.zle.com/xiaofu.php\";\r\n            console.log(\"GetTuiGuangUrl 4\");\r\n            app[app.subGameName + \"_NetManager\"]().SendPack(\"game.CShortenGenerate\", {\"url\": long_url}, this.GetShorTuiGuangUrl.bind(this), this.FailTuiGuangUrl.bind(this));\r\n            console.log(\"GetTuiGuangUrl 5\");\r\n        } else {\r\n            console.log(\"GetTuiGuangUrl 6\");\r\n            this.InitWeiXinShare();\r\n        }\r\n        console.log(\"GetTuiGuangUrl end\");\r\n    },\r\n    getRandom: function (min, max) {\r\n        var r = Math.random() * (max - min);\r\n        var re = Math.round(r + min);\r\n        re = Math.max(Math.min(re, max), min)\r\n        return re;\r\n    },\r\n    GetRandBaseUrl: function () {\r\n        let urls = app[app.subGameName + \"Client\"].GetClientConfigProperty(\"UrlLists\");\r\n        if (urls == 0) {\r\n            return 0;\r\n        }\r\n        let urlList = urls.split(',');\r\n        let count = urlList.length;\r\n        let rand = this.getRandom(0, count - 1);\r\n        return urlList[rand] + \":89\";  //走89端口\r\n    },\r\n    FailTuiGuangUrl: function (serverPack) {\r\n        let heroID = app[app.subGameName + \"_HeroManager\"]().GetHeroProperty(\"pid\");\r\n        let ShortHeroID = this.ComTool.GetPid(heroID);\r\n        let randUrl = this.GetRandBaseUrl();\r\n        this.TuiGuangUrl = 'http://' + randUrl + \"/\" + ShortHeroID + \"/\";\r\n        this.LocalDataManager.SetConfigProperty(\"SysSetting\", \"TuiGuangUrl\", this.TuiGuangUrl);\r\n        this.InitWeiXinShare();\r\n    },\r\n    //获取微信短域名并且设置到字典\r\n    GetShorTuiGuangUrl: function (serverPack) {\r\n        if (typeof (serverPack.requestUrl) == \"undefined\") {\r\n            return;\r\n        }\r\n        let jsonStr = serverPack.requestUrl;\r\n        jsonStr = jsonStr.replace('[', '');\r\n        jsonStr = jsonStr.replace(']', '');\r\n        let ShareUrl = eval('(' + jsonStr + ')');\r\n        this.TuiGuangUrl = ShareUrl.url_short;\r\n        this.LocalDataManager.SetConfigProperty(\"SysSetting\", \"TuiGuangUrl\", this.TuiGuangUrl);\r\n        this.InitWeiXinShare();\r\n\r\n    },\r\n    //微信分享获取短域名并且启动分享\r\n    SuccessTcnUrl: function (serverPack) {\r\n        let shareUrl = \"https://www.qp355.com/\" + app[app.subGameName + \"_ComTool\"]().GetPid(app[app.subGameName + \"_HeroManager\"]().GetHeroProperty(\"pid\")) + \"/\";\r\n        if (this.TuiGuangUrl) {\r\n            text = this.ShareText + \"\\n\" + \"下载地址:\" + shareUrl;\r\n        } else {\r\n            if (url_short) {\r\n                text = this.ShareText;\r\n            } else {\r\n                text = this.ShareText;\r\n            }\r\n        }\r\n        console.log(\"SuccessTcnUrl text:\", text);\r\n        this.SDKManager.ShareText(text, \"0\");\r\n    },\r\n    //微信分享获取短域名失败分享\r\n    FailTcnUrl: function (event) {\r\n        let shareUrl = \"https://www.qp355.com/\" + app[app.subGameName + \"_ComTool\"]().GetPid(app[app.subGameName + \"_HeroManager\"]().GetHeroProperty(\"pid\")) + \"/\";\r\n        let text = this.ShareText + \"\\n\" + \"下载地址:\" + shareUrl;\r\n        this.SDKManager.ShareText(text, \"0\");\r\n    },\r\n\r\n    //启动微信房间分享\r\n    BeginShare: function (roomKey, text) {\r\n        this.ShareText = text;\r\n        this.roomKey = roomKey;\r\n        //校服\r\n        let long_url = \"http://api.t.sina.com.cn/short_url/shorten.json?source=3271760578&url_long=https://www.qp355.com/room\" + roomKey;\r\n        app[app.subGameName + \"_NetManager\"]().SendPack(\"game.CShortenGenerate\", {\"url\": long_url}, this.SuccessTcnUrl.bind(this), this.FailTcnUrl.bind(this));\r\n    },\r\n    GetAppName:function(){\r\n        let appName=cc.sys.localStorage.getItem('appName');\r\n        if (appName==\"baodao\") {\r\n            return \"baodao\";\r\n        }\r\n        if (appName==\"sansan\") {\r\n            return \"sansan\";\r\n        }\r\n        return \"xinhua\";\r\n    },\r\n    Click_btn_weixin: function () {\r\n        let room = app[app.subGameName.toUpperCase() + \"Room\"]();\r\n        var WeChatShare = app[app.subGameName + \"_WeChatManager\"]().WeChatShare(app.subGameName);\r\n        let title = null;\r\n        if (WeChatShare['special']) {\r\n            title = WeChatShare['special'];\r\n        } else {\r\n            title = WeChatShare['title'];\r\n        }\r\n        let weChatAppShareUrl = WeChatShare['url'];\r\n        let setCount = room.GetRoomConfigByProperty(\"setCount\");  //多少局\r\n        let roomKey = room.GetRoomProperty(\"key\");  //房间号\r\n\r\n        let allPlayerInfo = room.GetRoomPosMgr().GetRoomAllPlayerInfo();\r\n        let joinPlayerCount = room.GetRoomPosMgr().GetRoomPlayerCount();  //几人场\r\n        let nowJoin = 0;\r\n\r\n        for (let i = 0; i < joinPlayerCount; i++) {\r\n            if (allPlayerInfo[i].pid > 0)\r\n                nowJoin++;\r\n        }\r\n        title = title.replace('{房间号}', roomKey);\r\n        let gamedesc = \"\";\r\n        gamedesc = joinPlayerCount + \"人场\";\r\n        gamedesc = gamedesc + \",\" + setCount + \"局\";\r\n        let autoCardIdx = room.GetRoomConfigByProperty(\"paymentRoomCardType\");\r\n        if (0 == autoCardIdx)\r\n            gamedesc = gamedesc + \",房主出卡\";\r\n        else if (1 == autoCardIdx)\r\n            gamedesc = gamedesc + \",平分房卡\";\r\n        else\r\n            gamedesc = gamedesc + \",大赢家出卡\";\r\n        let que = joinPlayerCount - nowJoin;\r\n        gamedesc += \",\" + nowJoin + \"缺\" + que;\r\n        let teshuwanfan = this.WanFa();\r\n        //let CheckShareContent();\r\n        if (teshuwanfan) {\r\n            gamedesc += \",\" + teshuwanfan;\r\n        }\r\n        //this.BeginShare(room.GetRoomProperty(\"key\"),text);\r\n        console.log(\"Click_btn_weixin:\", title);\r\n        console.log(\"Click_btn_weixin:\", gamedesc);\r\n        console.log(\"Click_btn_weixin:\", weChatAppShareUrl);\r\n        //this.SDKManager.Share(title, gamedesc, weChatAppShareUrl, \"0\");\r\n        let appName=this.GetAppName();\r\n        if(appName == \"baodao\"){\r\n            this.SDKManager.ShareLineLink(title, gamedesc, weChatAppShareUrl);\r\n        }else{\r\n             this.FormManager.ShowForm(app.subGameName + '_UIRoomCopy', roomKey, title, gamedesc, weChatAppShareUrl);\r\n        }\r\n    },\r\n\r\n    Click_btn_fzkl: function (str) {\r\n        if (cc.sys.isNative) {\r\n            let argList = [{\"Name\": \"msg\", \"Value\": str.toString()}];\r\n            app[app.subGameName + \"_NativeManager\"]().CallToNative(\"copyText\", argList);\r\n        } else {\r\n            console.log(\"真机复制分享cc.sys.isNative\", str);\r\n        }\r\n    },\r\n\r\n    /** @function 出牌包校验 只判断是否存在重复牌值 如有其他校验子类可重写\r\n     * @param {Object} sendPack 包体\r\n     * @repeatCardMaxCount {Number} 最大重牌的数量\r\n     * @return {Boolean} 合法返回true 否则返回false\r\n     */\r\n    outCardPackageVerification(sendPack, repeatCardMaxCount = 1) {\r\n        const {cardList} = sendPack;\r\n        if (cardList == null) {\r\n            console.error('not find cardList', sendPack);\r\n            throw 'sendPack不存在 cardList 如字段名不同请从子类重写此方法';\r\n        }\r\n        let valueMap = {};\r\n        for (let card of cardList) {\r\n            if (valueMap[card]) {\r\n                valueMap[card]++;\r\n            } else {\r\n                valueMap[card] = 1;\r\n            }\r\n            //\r\n            if (valueMap[card] > repeatCardMaxCount) {\r\n                console.warn('找到存在相同的牌', card, cardList);\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    },\r\n\r\n    WanFa: function (cfg = null, showFlag = 0) {\r\n        this.gameCreateConfig = this.SysDataManager.GetTableDict(\"gameCreate\");\r\n        let playGame = app.subGameName;\r\n        if (playGame == '') {\r\n            return false;\r\n        }\r\n        let room = app[app.subGameName.toUpperCase() + \"Room\"]();\r\n        let gameType = playGame;\r\n        console.log(\"XiaoFu this.gameCreateConfig:\", this.gameCreateConfig);\r\n\r\n        let wanfa = '';\r\n        let zhadansuanfaCount = -1;\r\n        let isWuZha = false;\r\n        let two = 0;\r\n        for (let key in this.gameCreateConfig) {\r\n            let gameName = this.gameCreateConfig[key].GameName;\r\n            let isWanFa = this.gameCreateConfig[key].isWanFa;\r\n            if (gameType == gameName && isWanFa == 1) {\r\n                let dataKey = this.gameCreateConfig[key].Key;\r\n                let value = 0;\r\n                if (cfg != null) {\r\n                    value = cfg[dataKey];\r\n                } else {\r\n                    value = room.GetRoomConfigByProperty(dataKey);\r\n                }\r\n                if (value < 0) {\r\n                    continue;\r\n                }\r\n                if(dataKey == \"kexuanwanfa\"){\r\n                    if(value.indexOf(29) > -1){\r\n                        isWuZha = true;\r\n                    }\r\n                }\r\n                if(dataKey == \"zhadansuanfa\"){\r\n                    if(isWuZha){\r\n                        continue;\r\n                    }\r\n                    zhadansuanfaCount = value;\r\n                }\r\n                if(dataKey == \"zhadanfenshu\" && zhadansuanfaCount == 2 && isWuZha){\r\n                    continue;\r\n                }\r\n                let ToggleType = this.gameCreateConfig[key].ToggleType;\r\n                let ToggleDesc = this.gameCreateConfig[key].ToggleDesc.split(',');\r\n                if (ToggleType == 0) {\r\n                    //单选\r\n                    let str = '';\r\n                    str = ToggleDesc[value];\r\n                    if ('zjh' == gameType && ('dingzhu' == dataKey || 'dizhu' == dataKey)) {\r\n                        let baseDiZhus = [1, 2, 5, 10];\r\n                        let dizhuIdx = room.GetRoomConfigByProperty('dizhu');\r\n                        let dizhu = baseDiZhus[dizhuIdx];\r\n                        let dingzhu = 0;\r\n                        if (0 == value)\r\n                            dingzhu = dizhu * 5;\r\n                        else\r\n                            dingzhu = dizhu * 10;\r\n                        dizhu = dizhu * room.GetRoomConfigByProperty('baseMark');\r\n                        dingzhu = dingzhu * room.GetRoomConfigByProperty('baseMark');\r\n\r\n                        if ('dingzhu' == dataKey)\r\n                            str = dingzhu.toString() + '分';\r\n                        else\r\n                            str = dizhu.toString() + '分';\r\n                    }\r\n                    if (typeof (str) == \"undefined\") {\r\n                        continue;\r\n                    }\r\n                    if (wanfa == '') {\r\n                        wanfa = str;\r\n                        if (showFlag == 1) {\r\n                            wanfa = ' ·' + wanfa;\r\n                        }\r\n                        two++;\r\n                    } else {\r\n                        if (showFlag == 1) {\r\n                            wanfa += ' ·' + str;\r\n                            if (two++ % 2 == 1) {\r\n                                wanfa += '\\n';\r\n                            } else {\r\n                                wanfa += ' ';\r\n                            }\r\n                        } else {\r\n                            wanfa = wanfa + \"，\" + str;\r\n                        }\r\n                    }\r\n                } else if (ToggleType == 1) {\r\n                    //多选\r\n                    for (let j = 0; j < value.length; j++) {\r\n                        if (gameType == 'pdk') {\r\n                            if (value[j] == 14 || value[j] == 15 || value[j] == 18) {\r\n                                continue;\r\n                            }\r\n                        }\r\n                        let str = '';\r\n                        if (gameType == 'pdk') {\r\n                            if (value[j] == 11) {\r\n                                str = ToggleDesc[3];\r\n                            } else if (value[j] == 22) {\r\n                                str = ToggleDesc[4];\r\n                            } else if (value[j] == 23) {\r\n                                str = ToggleDesc[5];\r\n                            } else if (value[j] == 24) {\r\n                                str = ToggleDesc[6];\r\n                            } else if (value[j] == 25) {\r\n                                str = ToggleDesc[7];\r\n                            } else if (value[j] == 26) {\r\n                                str = ToggleDesc[8];\r\n                            }else if (value[j] == 27) {\r\n                                str = ToggleDesc[9];\r\n                            } else if (value[j] == 28) {\r\n                                str = ToggleDesc[10];\r\n                            } else if (value[j] == 29) {\r\n                                str = ToggleDesc[11];\r\n                            }else if (value[j] == 4) {\r\n                                str = ToggleDesc[12];\r\n                            } else if (value[j] == 30) {\r\n                                str = ToggleDesc[13];\r\n                            } else if (value[j] == 31) {\r\n                                str = ToggleDesc[14];\r\n                            } else if (value[j] == 32) {\r\n                                str = ToggleDesc[15];\r\n                            } else if (value[j] == 33) {\r\n                                str = ToggleDesc[16];\r\n                            }else {\r\n                                str = ToggleDesc[value[j]];\r\n                            }\r\n                        } else {\r\n                            str = ToggleDesc[value[j]];\r\n                        }\r\n                        if (typeof (str) == \"undefined\") {\r\n                            continue;\r\n                        }\r\n                        if (wanfa == '') {\r\n                            wanfa = str;\r\n                            if (showFlag == 1) {\r\n                                wanfa = ' ·' + wanfa;\r\n                            }\r\n                            two++;\r\n                        } else {\r\n                            if (showFlag == 1) {\r\n                                wanfa += ' ·' + str;\r\n                                if (two++ % 2 == 1) {\r\n                                    wanfa += '\\n';\r\n                                } else {\r\n                                    wanfa += ' ';\r\n                                }\r\n                            } else {\r\n                                wanfa = wanfa + \"，\" + str;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        let sportsDouble = room.GetRoomConfigByProperty(\"sportsDouble\");\r\n        if (cfg != null) {\r\n            sportsDouble = cfg[\"sportsDouble\"];\r\n        }\r\n        if (typeof(sportsDouble) != \"undefined\") {\r\n            wanfa += \"，比赛分倍数：\"+sportsDouble;\r\n        }\r\n\r\n        return wanfa;\r\n    },\r\n    GameTyepStringUp: function () {\r\n        return app.subGameName.toUpperCase();\r\n    },\r\n    CheckUpdateNotice:function(){\r\n        let gameTypeId=this.ShareDefine.GametTypeNameDict[this.GameTyepStringUp()];\r\n        app[app.subGameName + \"_NetManager\"]().SendPack(\"game.CMaintainGameNotice\", {\"gameTypeId\":gameTypeId},function(event){\r\n            if(typeof(event.status)==\"undefined\"){\r\n                return;\r\n            }\r\n            app[app.subGameName + \"_NetManager\"]().SendPack(\"game.CMaintainGameIsGetNotice\", {\"gameTypeId\":gameTypeId});\r\n            if(typeof(event.content)!=\"undefined\"){\r\n                if(event.content!=\"\" && event.content!=null){\r\n                    app[app.subGameName + \"_SysNotifyManager\"]().ShowSysMsg(event.content); //弹窗提示用户\r\n                }\r\n            }\r\n            \r\n        });\r\n    },\r\n});\r\n\r\nmodule.exports = pdk_BaseForm;\r\n\r\n\r\n\r\n"]}
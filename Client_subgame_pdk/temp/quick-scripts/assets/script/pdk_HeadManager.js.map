{"version":3,"sources":["pdk_HeadManager.js"],"names":["app","require","pdk_HeadManager","BaseClass","extend","Init","JS_Name","subGameName","OnReload","headInfos","MaxPlayerNum","i","push","SetHeadInfo","pos","headNode","GetComponentByPos","component","getComponent","GetAllHeadInfo","g_pdk_HeadManager","exports","GetModel"],"mappings":";;;;;;AAAA;;;;;;;;;;;;;AAaA,IAAIA,MAAMC,QAAQ,SAAR,CAAV;;AAEA;;;AAGA,IAAIC,kBAAkBF,IAAIG,SAAJ,CAAcC,MAAd,CAAqB;;AAEvC;;;AAGAC,UAAK,gBAAU;AACX,aAAKC,OAAL,GAAeN,IAAIO,WAAJ,GAAkB,cAAjC;;AAEA,aAAKC,QAAL;AACH,KATsC;;AAWvCA,cAAS,oBAAU;AACf,aAAKC,SAAL,GAAiB,EAAjB;AACA,YAAIC,eAAeV,IAAIA,IAAIO,WAAJ,GAAkB,cAAtB,IAAwCG,YAA3D;AACA,aAAI,IAAIC,IAAE,CAAV,EAAYA,IAAED,YAAd,EAA2BC,GAA3B,EAA+B;AAC3B,iBAAKF,SAAL,CAAeG,IAAf,CAAoB,IAApB;AACH;AACJ,KAjBsC;AAkBvCC,iBAAY,qBAASC,GAAT,EAAaC,QAAb,EAAsB;AAC9B,YAAIL,eAAeV,IAAIA,IAAIO,WAAJ,GAAkB,cAAtB,IAAwCG,YAA3D;AACA,YAAGI,OAAOJ,YAAP,IAAuBI,MAAM,CAAhC,EACI;;AAEJ,aAAKL,SAAL,CAAeK,GAAf,IAAsBC,QAAtB;AACH,KAxBsC;AAyBvCC,uBAAkB,2BAASF,GAAT,EAAa;AAC3B,YAAIJ,eAAeV,IAAIA,IAAIO,WAAJ,GAAkB,cAAtB,IAAwCG,YAA3D;AACA,YAAGI,OAAOJ,YAAP,IAAuBI,MAAM,CAAhC,EACI,OAAO,IAAP;;AAEJ,YAAIG,YAAY,KAAKR,SAAL,CAAeK,GAAf,EAAoBI,YAApB,CAAiClB,IAAIO,WAAJ,GAAkB,eAAnD,CAAhB;AACA,YAAG,CAACU,SAAJ,EAAc;AACVA,wBAAY,KAAKR,SAAL,CAAeK,GAAf,EAAoBI,YAApB,CAAiClB,IAAIO,WAAJ,GAAkB,iBAAnD,CAAZ;AACH;AACD,YAAG,CAACU,SAAJ,EAAc;AACVA,wBAAY,KAAKR,SAAL,CAAeK,GAAf,EAAoBI,YAApB,CAAiClB,IAAIO,WAAJ,GAAkB,iBAAnD,CAAZ;AACH;AACD,YAAG,CAACU,SAAJ,EAAc;AACVA,wBAAY,KAAKR,SAAL,CAAeK,GAAf,EAAoBI,YAApB,CAAiClB,IAAIO,WAAJ,GAAkB,mBAAnD,CAAZ;AACH;AACD,YAAGU,SAAH,EACI,OAAOA,SAAP;AACJ,eAAO,IAAP;AACH,KA3CsC;AA4CvCE,oBAAe,0BAAU;AACrB,eAAO,KAAKV,SAAZ;AACH;AACD;;AA/CuC,CAArB,CAAtB;;AAoDA,IAAIW,oBAAoB,IAAxB;;AAEA;;;AAGAC,QAAQC,QAAR,GAAmB,YAAU;AACzB,QAAG,CAACF,iBAAJ,EACIA,oBAAoB,IAAIlB,eAAJ,EAApB;AACJ,WAAOkB,iBAAP;AAEH,CALD","file":"pdk_HeadManager.js","sourceRoot":"..\\..\\..\\..\\assets\\script","sourcesContent":["/*\r\n *  ----------------------------------------------------------------------------------------------------\r\n *  @copyright: Copyright (c) 2004, 2010 Xiamen DDM Network Technology Co.,Ltd., All rights reserved.\r\n *  ----------------------------------------------------------------------------------------------------\r\n *  @package YXPDKRoom.js\r\n *  @todo: 十三支房间\r\n *\r\n *  @version 1.0\r\n *\r\n *  修改时间 修改人 修改内容\r\n *  -------------------------------------------------------------------------------\r\n *\r\n */\r\nvar app = require(\"pdk_app\");\r\n\r\n/**\r\n * 类构造\r\n */\r\nvar pdk_HeadManager = app.BaseClass.extend({\r\n\r\n    /**\r\n     * 初始化\r\n     */\r\n    Init:function(){\r\n        this.JS_Name = app.subGameName + \"_HeadManager\";\r\n\r\n        this.OnReload();\r\n    },\r\n\r\n    OnReload:function(){\r\n        this.headInfos = [];\r\n        let MaxPlayerNum = app[app.subGameName + \"_ShareDefine\"]().MaxPlayerNum;\r\n        for(let i=0;i<MaxPlayerNum;i++){\r\n            this.headInfos.push(null);\r\n        }\r\n    },\r\n    SetHeadInfo:function(pos,headNode){\r\n        let MaxPlayerNum = app[app.subGameName + \"_ShareDefine\"]().MaxPlayerNum;\r\n        if(pos >= MaxPlayerNum || pos < 0)\r\n            return;\r\n\r\n        this.headInfos[pos] = headNode;\r\n    },\r\n    GetComponentByPos:function(pos){\r\n        let MaxPlayerNum = app[app.subGameName + \"_ShareDefine\"]().MaxPlayerNum;\r\n        if(pos >= MaxPlayerNum || pos < 0)\r\n            return null;\r\n\r\n        let component = this.headInfos[pos].getComponent(app.subGameName + '_UIPublicHead');\r\n        if(!component){\r\n            component = this.headInfos[pos].getComponent(app.subGameName + '_LPUIPublicHead');\r\n        }\r\n        if(!component){\r\n            component = this.headInfos[pos].getComponent(app.subGameName + '_SYUIPublicHead');\r\n        }\r\n        if(!component){\r\n            component = this.headInfos[pos].getComponent(app.subGameName + '_XiuXUIPublicHead');\r\n        }\r\n        if(component)\r\n            return component;\r\n        return null;\r\n    },\r\n    GetAllHeadInfo:function(){\r\n        return this.headInfos;\r\n    },\r\n    //-----------------------回调函数-----------------------------\r\n    \r\n})\r\n\r\n\r\nvar g_pdk_HeadManager = null;\r\n\r\n/**\r\n * 绑定模块外部方法\r\n */\r\nexports.GetModel = function(){\r\n    if(!g_pdk_HeadManager)\r\n        g_pdk_HeadManager = new pdk_HeadManager();\r\n    return g_pdk_HeadManager;\r\n\r\n}\r\n"]}
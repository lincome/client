{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\script\\game\\PDK/assets\\script\\game\\PDK\\pdk_UIRoomRecord.js"],"names":["app","require","cc","Class","extends","subGameName","properties","OnCreateInit","headNodes","GetWndNode","zongfenNode","jiFenLayout","demo","node","getChildByName","RoomMgr","toUpperCase","Room","RoomPosMgr","SoundManager","HeroManager","RoomSet","ComTool","SDKManager","Define","bigWinner","OnShow","serverPack","HideAll","InitHeadAndFen","ShowJiFen","i","children","active","removeAllChildren","userInfo","pos","player","headNode","getComponent","ShowHeroHead","pointNode","Label","string","setInfo","length","setID","pointMap","jiFenDemo","instantiate","Sprite","spriteFrame","addChild","OnClick","btnName","btnNode"],"mappings":"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","file":"pdk_UIRoomRecord.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\script\\game\\PDK","sourcesContent":["var app = require(\"pdk_app\");\r\ncc.Class({\r\n    extends: require(app.subGameName + \"_BaseForm\"),\r\n\r\n    properties: {\r\n    },\r\n\r\n    OnCreateInit: function () {\r\n        this.headNodes = this.GetWndNode(\"node/headNodes\");\r\n        this.zongfenNode = this.GetWndNode(\"node/zongfen\");\r\n        this.jiFenLayout = this.GetWndNode(\"node/jifenNode/layout\");\r\n        this.demo = this.node.getChildByName(\"demo\");\r\n\r\n        this.RoomMgr = app[app.subGameName.toUpperCase()+\"RoomMgr\"]();\r\n        this.Room = app[app.subGameName.toUpperCase()+\"Room\"]();\r\n        this.RoomPosMgr = app[app.subGameName.toUpperCase()+\"RoomPosMgr\"]();\r\n        this.SoundManager = app[app.subGameName+\"_SoundManager\"]();\r\n        this.HeroManager = app[app.subGameName+\"_HeroManager\"]();\r\n        this.RoomSet = app[app.subGameName.toUpperCase()+\"RoomSet\"]();\r\n        this.ComTool = app[app.subGameName+\"_ComTool\"]();\r\n        this.SDKManager = app[app.subGameName+\"_SDKManager\"]();\r\n        this.Define = app[app.subGameName.toUpperCase()+\"Define\"]();\r\n\r\n        this.bigWinner = 0;\r\n    },\r\n\r\n\r\n    OnShow:function(serverPack){\r\n        this.HideAll();\r\n        this.InitHeadAndFen(serverPack[\"userInfo\"]);\r\n        this.ShowJiFen(serverPack[\"setInfo\"]);\r\n    },\r\n    HideAll:function(){\r\n        for (let i = 0; i < 3; i++) {\r\n            this.headNodes.children[i].active = false;\r\n        }\r\n        for (var i = 0; i < 3; i++) {\r\n            let node = this.zongfenNode.getChildByName(\"point\" + i);\r\n            node.active = false;\r\n        }\r\n        this.jiFenLayout.removeAllChildren();\r\n    },\r\n    InitHeadAndFen:function(userInfo){\r\n        for(let pos in userInfo){\r\n            let player = userInfo[pos];\r\n            //显示玩家头像\r\n            let headNode = this.headNodes.getChildByName(\"headNode\" + pos);\r\n            headNode.active = true;\r\n            headNode.getChildByName('touxiang').getComponent(app.subGameName + \"_WeChatHeadImage\").ShowHeroHead(player[\"pid\"]);\r\n\r\n            //显示玩家总分\r\n            let pointNode = this.zongfenNode.getChildByName(\"point\" + pos);\r\n            pointNode.active = true;\r\n            pointNode.getComponent(cc.Label).string = player[\"totalPoint\"];\r\n        }\r\n    },\r\n    ShowJiFen:function(setInfo){\r\n        for (let i = 0; i < setInfo.length; i++) {\r\n            let setID = setInfo[i][\"setID\"];\r\n            let pointMap = setInfo[i][\"point\"];\r\n            let jiFenDemo = cc.instantiate(this.demo);\r\n            jiFenDemo.getChildByName(\"setID\").getComponent(cc.Label).string = \"第\" + setID + \"局\";\r\n            for(let pos in pointMap){\r\n                jiFenDemo.getChildByName(\"point\" + pos).getComponent(cc.Label).string = pointMap[pos];\r\n                jiFenDemo.getChildByName(\"point\" + pos).active = true;\r\n            }\r\n            if(setID%2 == 1){\r\n               jiFenDemo.getComponent(cc.Sprite).spriteFrame = \"\";\r\n            }\r\n            jiFenDemo.active = true;\r\n            this.jiFenLayout.addChild(jiFenDemo);\r\n        }\r\n    },\r\n    OnClick:function(btnName, btnNode){\r\n        if(btnName == \"btn_jixu\"){\r\n        }\r\n    },\r\n});\r\n"]}
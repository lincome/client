{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\script\\ui/assets\\script\\ui\\pdk_UIAutoPlay.js"],"names":["app","require","cc","Class","extends","subGameName","properties","lb_notice","Node","OnCreateInit","OnShow","secTotal","gameName","indexOf","active","CheckCanCancelAuto","GetRoomXianShiTime","fangjianxianshi","toUpperCase","GetRoomConfigByProperty","roomXianShiObj","roomXianShiTime","node","getChildByName","OnClick","btnName","btnNode","CancelAutoPlay","CloseForm"],"mappings":";;;;;;AAAA,IAAIA,MAAMC,QAAQ,SAAR,CAAV;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASH,QAAQD,IAAIK,WAAJ,GAAkB,WAA1B,CADJ;;AAGLC,gBAAY;AACRC,mBAAUL,GAAGM;AADL,KAHP;;AAOL;AACAC,kBAAc,wBAAY,CAEzB,CAVI;AAWLC,YAAO,kBAAsB;AAAA,YAAbC,QAAa,uEAAF,CAAE;;AACzB,YAAIC,WAAWZ,IAAIK,WAAnB;AACA,YAAGO,SAASC,OAAT,CAAiB,IAAjB,IAAuB,CAAC,CAA3B,EAA6B;AACzB,iBAAKN,SAAL,CAAeO,MAAf,GAAwB,IAAxB;AACH,SAFD,MAGK;AACD,iBAAKP,SAAL,CAAeO,MAAf,GAAwB,KAAxB;AACH;AACD,aAAKC,kBAAL,CAAwBJ,QAAxB;AACH,KApBI;AAqBL;AACAK,wBAAoB,8BAAU;AAC1B,YAAIC,kBAAkBjB,IAAIA,IAAIK,WAAJ,CAAgBa,WAAhB,KAA8B,MAAlC,IAA4CC,uBAA5C,CAAoE,iBAApE,CAAtB;AACA,YAAIC,iBAAiB,EAAC,GAAG,OAAJ,EAAa,GAAG,CAAhB,EAAmB,GAAG,EAAtB,EAA0B,GAAG,EAA7B,EAAiC,GAAG,EAApC,EAAwC,GAAG,EAA3C,EAArB;AACA,eAAOA,eAAeH,eAAf,IAAkC,EAAzC,CAH0B,CAGkB;AAC/C,KA1BI;AA2BL;AACAF,wBAAoB,4BAASJ,QAAT,EAAkB;AAClC,YAAIU,kBAAkB,KAAKL,kBAAL,EAAtB;AACA,YAAGL,YAAYU,eAAf,EAA+B;AAC1B,iBAAKC,IAAL,CAAUC,cAAV,CAAyB,YAAzB,EAAuCT,MAAvC,GAAgD,KAAhD;AACJ,SAFD,MAEK;AACA,iBAAKQ,IAAL,CAAUC,cAAV,CAAyB,YAAzB,EAAuCT,MAAvC,GAAgD,IAAhD;AACJ;AACJ,KAnCI;AAoCLU,aAAQ,iBAASC,OAAT,EAAkBC,OAAlB,EAA0B;AAC9B,YAAG,gBAAgBD,OAAnB,EAA2B;AACvBzB,gBAAIA,IAAIK,WAAJ,GAAkB,cAAtB,IAAwCsB,cAAxC;AACA,iBAAKC,SAAL;AACH;AACJ;AAzCI,CAAT","file":"pdk_UIAutoPlay.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\ui","sourcesContent":["var app = require(\"pdk_app\");\r\ncc.Class({\r\n    extends: require(app.subGameName + \"_BaseForm\"),\r\n\r\n    properties: {\r\n        lb_notice:cc.Node,\r\n    },\r\n\r\n    // use this for initialization\r\n    OnCreateInit: function () {\r\n        \r\n    },\r\n    OnShow:function(secTotal = 0){\r\n        let gameName = app.subGameName;\r\n        if(gameName.indexOf(\"mj\")>-1){\r\n            this.lb_notice.active = true;\r\n        }\r\n        else {\r\n            this.lb_notice.active = false;\r\n        }\r\n        this.CheckCanCancelAuto(secTotal);\r\n    },\r\n    //获取房间限时\r\n    GetRoomXianShiTime: function(){\r\n        let fangjianxianshi = app[app.subGameName.toUpperCase()+\"Room\"]().GetRoomConfigByProperty(\"fangjianxianshi\");\r\n        let roomXianShiObj = {0: 1000000, 1: 8, 2: 10, 3: 12, 4: 15, 5: 20}\r\n        return roomXianShiObj[fangjianxianshi] * 60;//分钟转换秒数\r\n    },\r\n    //检测是否能点击取消\r\n    CheckCanCancelAuto: function(secTotal){\r\n        let roomXianShiTime = this.GetRoomXianShiTime();\r\n        if(secTotal >= roomXianShiTime){\r\n             this.node.getChildByName(\"btn_cancel\").active = false;\r\n        }else{\r\n             this.node.getChildByName(\"btn_cancel\").active = true;\r\n        }\r\n    },\r\n    OnClick:function(btnName, btnNode){\r\n        if('btn_cancel' == btnName){\r\n            app[app.subGameName + \"_GameManager\"]().CancelAutoPlay();\r\n            this.CloseForm();\r\n        }\r\n    }\r\n});\r\n"]}
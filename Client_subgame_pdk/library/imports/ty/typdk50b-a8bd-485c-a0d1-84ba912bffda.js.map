{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\script\\ui/assets\\script\\ui\\pdk_UICreatRoom.js"],"names":["app","require","cc","Class","extends","subGameName","properties","prefab_Toggles","Prefab","node_RightLayout","Node","scroll_Right","ScrollView","scrollTip","btnCreate","btnSave","OnCreateInit","roomcostConfig","SysDataManager","GetTableDict","gameCreateConfig","LocalDataManager","FormManager","ComTool","Define","toUpperCase","RedColor1","Color","RedColor2","WhiteClolor","gameType","lastParentBtnIcon","lastChildBtnIcon","Toggles","addPrefabWidth","rightPrefabSpacing","getComponent","Layout","spacingY","find","node","on","EventType","TOUCH_START","OnRightBgClick","RegEvent","Event_CodeError","OnShow","serverPack","gamename","clubData","clubWinnerPayConsume","gdToggleIndex","ShowForm","enableGameType","RefreshAllToggles","CloseForm","ShowBtn","event","codeInfo","ShareDefine","CLUB_CreateCfgMax","ShowSysMsg","GetLocalConfig","configName","clubId","roomKey","sys","localStorage","getItem","SetLocalConfig","configInfo","setItem","stopAutoScroll","removeAllChildren","isHideZhadanfenshu","isWuZha","helpIndex","key","GameName","dataKey","Key","toggleCount","ToggleCount","AtRows","AtRow","toString","split","instantiate","addCount","ErrLog","i","prefabNode","getChildByName","newNode","name","addChild","x","nodeHelp","active","IsShowHelp","OnHelpBtnClick","fristPos","y","lastPos","curNode","height","OnToggleClick","checkNode","icon_selectBg","showList","ShowIndexs","linshi","gameIndex","linshiList","j","length","parseInt","indexOf","ToggleType","imgPath","addComponent","Toggle","SetNodeImageByFilePath","push","UpdateTogglesLabel","UpdateLabelColor","line","addline","setHelpBtnPos","scrollToTop","parent","UpdateOnClickToggle","OnClose","TogglesNode","curKey","substring","reg","AAfangfeiDatas","WinfangfeiDatas","FangZhufangfeiDatas","clubFangFeiDatas","clubWinFangFeiDatas","title","Title","replace","Label","string","descList","ToggleDesc","children","jushuIndex","renshuIndex","renshu","publicCosts","getCostData","getCurSelectRenShu","SpiltCosts","curCostData","mark","SetCount","AaCostCount","WinCostCount","CostCount","ClubCount","ClubWinCostCount","descInde","startsWith","PDKSHOWCARDNUM","serverIdx","SEVER_SHOWCARDNUM","PDKBMUSTBOMB","SEVER_BMUSTBOMB","PDKMAXAAA","SEVER_MAXAAA","PDKHONGTAO10ZHANIAO","SEVER_HONGTAO10ZHANIAO","PDKFIRST3NOCHU3","SEVER_FIRST3NOCHU3","PDKSHOUDONGGUO","SEVER_SHOUDONGGUO","PDKAUTOREADY","SEVER_AUTOREADY","PDKWEIZHANGSUANFEN","SEVER_WEIZHANGSUANFEN","PDKWUZHA","SEVER_WUZHA","PDKAAA","SEVER_AAA","PDKFANGZUOBI","SEVER_FANGZUOBI","PDKBISAIFENBUDIYULING","SEVER_BISAIFENBUDIYULING","PDKZHIYINGDANGQIANSHENSHANGFEN","SEVER_ZHIYINGDANGQIANSHENSHANGFEN","SEVER_2A_22","needCount","ffNodes","hasHideNode","s","needNode","toggleNode","isChecked","label","color","fangkaNode","helpNode","lastNode","labelNode","str","maxWidth","width","fangfeiNode","n","costs","GameType","PeopleMin","PeopleMax","OnClickForm","btnNode","target","btnName","Click_btn_help","toggles","toggle","toggleIndex","needClearList","needShowIndexList","ClearToggleCheck","showIndexList","OnScrollEnded","OnClick","Click_btn_create","that","curIndex","msgID","then","formComponent","wndSize","GetMsgWndSize","btnNodeParentPosition","convertToWorldSpaceAR","getPosition","btnX","btnY","SetFormPosition","v2","catch","error","stack","close","Click_btn_buy","clientConfig","GetClientConfig","PackDefine","APPLE_CHECK","needIndex","AtRowArr","createType","isSpiltRoomCard","GetIdxByKey","needCostData","hasRoomCard","GetHeroProperty","costCoun","desc","GetSysMsgContentByMsgID","SetWaitForConfirmForm","OnConFirm","bind","ConfirmBuyGoTo","setCount","sendPack","fangjianxianshi","shoupai","zhadansuanfa","zhadanfenshu","xianShi","jiesan","kexuanwanfa","fangjian","gaoji","sidai","SEVER_ROBDOOR","SEVER_DAI31","SEVER_DAI32","isCheck","splice","roomMgr","item","configData","dataType","linshi2","configData2","localStr","default1","new1","EditBox","default2","new2","clubCostType","SendCreateRoom","SetGameType","SetConfigProperty","clickType","backArgList"],"mappings":";;;;;;;;AAAA,IAAIA,MAAMC,QAAQ,SAAR,CAAV;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASH,QAAQD,IAAIK,WAAJ,GAAkB,WAA1B,CADJ;;AAGLC,gBAAY;AACRC,wBAAgBL,GAAGM,MADX;;AAGRC,0BAAkBP,GAAGQ,IAHb;;AAKRC,sBAAcT,GAAGU,UALT;AAMRC,mBAAWX,GAAGQ,IANN;;AAQRI,mBAAWZ,GAAGQ,IARN;AASRK,iBAASb,GAAGQ;AATJ,KAHP;;AAeL;AACAM,kBAAc,wBAAW;AACrB,aAAKC,cAAL,GAAsB,KAAKC,cAAL,CAAoBC,YAApB,CAAiC,UAAjC,CAAtB;AACA,aAAKC,gBAAL,GAAwB,KAAKF,cAAL,CAAoBC,YAApB,CAAiC,YAAjC,CAAxB;AACA,aAAKE,gBAAL,GAAwBrB,IAAIqB,gBAAJ,EAAxB;AACA,aAAKC,WAAL,GAAmBtB,IAAIA,IAAIK,WAAJ,GAAkB,cAAtB,GAAnB;AACA,aAAKkB,OAAL,GAAevB,IAAIA,IAAIK,WAAJ,GAAkB,UAAtB,GAAf;AACA,aAAKmB,MAAL,GAAcxB,IAAIA,IAAIK,WAAJ,CAAgBoB,WAAhB,KAAgC,QAApC,GAAd;;AAEA,aAAKC,SAAL,GAAiB,IAAIxB,GAAGyB,KAAP,CAAa,CAAb,EAAgB,GAAhB,EAAqB,EAArB,CAAjB;AACA,aAAKC,SAAL,GAAiB,IAAI1B,GAAGyB,KAAP,CAAa,GAAb,EAAkB,EAAlB,EAAsB,EAAtB,CAAjB;AACA,aAAKE,WAAL,GAAmB,IAAI3B,GAAGyB,KAAP,CAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,CAAnB;;AAEA,aAAKG,QAAL,GAAgB,EAAhB;AACA,aAAKC,iBAAL,GAAyB,IAAzB;AACA,aAAKC,gBAAL,GAAwB,IAAxB;AACA,aAAKC,OAAL,GAAe,EAAf;;AAEA,aAAKC,cAAL,GAAsB,GAAtB;AACA,aAAKC,kBAAL,GAA0B,KAAK1B,gBAAL,CAAsB2B,YAAtB,CAAmClC,GAAGmC,MAAtC,EAA8CC,QAAxE;;AAEApC,WAAGqC,IAAH,CAAQ,yBAAR,EAAmC,KAAKC,IAAxC,EAA8CC,EAA9C,CAAiDvC,GAAGQ,IAAH,CAAQgC,SAAR,CAAkBC,WAAnE,EAAgF,KAAKC,cAArF,EAAqG,IAArG;;AAEA,aAAKC,QAAL,CAAc,WAAd,EAA2B,KAAKC,eAAhC,EAAiD,IAAjD;AACH,KAvCI;AAwCL;AACAC,YAAQ,gBAASC,UAAT,EAA0E;AAAA,YAArDC,QAAqD,uEAA1CjD,IAAIK,WAAJ,GAAkB,KAAwB;AAAA,YAAjB6C,QAAiB,uEAAN,IAAM;;AAC9E,aAAKC,oBAAL,GAA4B,CAA5B;AACA,aAAKC,aAAL,GAAqB,CAAC,CAAtB;AACA,aAAKtB,QAAL,GAAgBmB,QAAhB;AACA,aAAKC,QAAL,GAAgBA,QAAhB;AACA,aAAK5B,WAAL,CAAiB+B,QAAjB,CAA0BrD,IAAIK,WAAJ,GAAkB,QAA5C,EAAsDL,IAAIK,WAAJ,GAAkB,cAAxE,EAAwF,IAAxF,EAA8F,IAA9F,EAAoG,KAApG;;AAEA,YAAI6C,YAAY,MAAMA,SAASI,cAA/B,EACI,KAAKxB,QAAL,GAAgBoB,SAASI,cAAzB;;AAEJ,aAAKC,iBAAL;AACA,aAAKjC,WAAL,CAAiBkC,SAAjB,CAA2BxD,IAAIK,WAAJ,GAAkB,eAA7C;AACA;AACA,aAAKoD,OAAL;AACH,KAvDI;;AAyDLX,qBAAiB,yBAASY,KAAT,EAAgB;AAC7B,YAAIC,WAAWD,KAAf;AACA,YAAIC,SAAS,MAAT,KAAoB,KAAKC,WAAL,CAAiBC,iBAAzC,EAA4D;AACxD7D,gBAAIA,IAAIK,WAAJ,GAAkB,mBAAtB,IAA6CyD,UAA7C,CAAwD,uBAAxD;AACA;AACH,SAHD,MAGO,IAAIH,SAAS,MAAT,KAAoB,IAAxB,EAA8B;AACjC3D,gBAAIA,IAAIK,WAAJ,GAAkB,mBAAtB,IAA6CyD,UAA7C,CAAwD,eAAxD;AACA;AACH,SAHM,MAGA,IAAIH,SAAS,MAAT,KAAoB,IAAxB,EAA8B;AACjC3D,gBAAIA,IAAIK,WAAJ,GAAkB,mBAAtB,IAA6CyD,UAA7C,CAAwD,eAAxD;AACA;AACH;AACJ,KArEI;AAsEL;AACAC,oBAAgB,wBAASC,UAAT,EAAqBC,MAArB,EAA6BC,OAA7B,EAAsC;AAClD,eAAOhE,GAAGiE,GAAH,CAAOC,YAAP,CAAoBC,OAApB,CAA4B,KAAKvC,QAAL,GAAgB,GAAhB,GAAsBmC,MAAtB,GAA+B,GAA/B,GAAqCC,OAArC,GAA+C,GAA/C,GAAqDF,UAAjF,CAAP;AACH,KAzEI;AA0ELM,oBAAgB,wBAASN,UAAT,EAAqBO,UAArB,EAAiCN,MAAjC,EAAyCC,OAAzC,EAAkD;AAC9DhE,WAAGiE,GAAH,CAAOC,YAAP,CAAoBI,OAApB,CAA4B,KAAK1C,QAAL,GAAgB,GAAhB,GAAsBmC,MAAtB,GAA+B,GAA/B,GAAqCC,OAArC,GAA+C,GAA/C,GAAqDF,UAAjF,EAA6FO,UAA7F;AACH,KA5EI;AA6ELhB,uBAAmB,6BAAW;AAC1B,aAAKtB,OAAL,GAAe,EAAf;AACA,aAAKtB,YAAL,CAAkB8D,cAAlB;AACA,aAAKhE,gBAAL,CAAsBiE,iBAAtB;;AAEA,YAAIC,qBAAqB,KAAzB;AACA,YAAIC,UAAU,KAAd;AACA,YAAIC,YAAY,CAAhB,CAP0B,CAOP;AACnB,aAAK,IAAIC,GAAT,IAAgB,KAAK1D,gBAArB,EAAuC;AACnC,gBAAI,KAAKU,QAAL,IAAiB,KAAKV,gBAAL,CAAsB0D,GAAtB,EAA2BC,QAAhD,EAA0D;AACtD,oBAAIvC,OAAO,IAAX;AACA,oBAAIwC,UAAU,KAAK5D,gBAAL,CAAsB0D,GAAtB,EAA2BG,GAAzC;AACA,oBAAIC,cAAc,KAAK9D,gBAAL,CAAsB0D,GAAtB,EAA2BK,WAA7C;AACA,oBAAIC,SAAS,KAAKhE,gBAAL,CAAsB0D,GAAtB,EAA2BO,KAA3B,CAAiCC,QAAjC,GAA4CC,KAA5C,CAAkD,GAAlD,CAAb;AACA,oBAAI,KAAKrC,QAAL,IAAiB,aAAa8B,OAAlC,EAA2C;AACvCE,kCAAc,CAAd,CADuC,CACtB;AACjBE,6BAAS,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAAT;AACH;AACD5C,uBAAOtC,GAAGsF,WAAH,CAAe,KAAKjF,cAApB,CAAP;AACA;AACA,oBAAIkF,WAAWP,cAAc,CAA7B;AACA,oBAAIO,WAAW,CAAf,EACI,KAAKC,MAAL,CAAY,qCAAZ,EADJ,KAEK;AACD,yBAAK,IAAIC,IAAI,CAAb,EAAgBA,KAAKT,WAArB,EAAkCS,GAAlC,EAAuC;AACnC,4BAAIC,aAAapD,KAAKqD,cAAL,CAAoB,SAApB,CAAjB;AACA,4BAAIC,UAAU5F,GAAGsF,WAAH,CAAeI,UAAf,CAAd;AACAE,gCAAQC,IAAR,GAAe,WAAWJ,CAA1B;AACAnD,6BAAKwD,QAAL,CAAcF,OAAd;AACH;AACJ;;AAEDtD,qBAAKuD,IAAL,GAAY,aAAaf,OAAzB;AACAxC,qBAAKyD,CAAL,GAAS,EAAT;AACA,oBAAIC,WAAW1D,KAAKqD,cAAL,CAAoB,UAApB,CAAf;AACAK,yBAASC,MAAT,GAAkB,KAAlB;AACA,oBAAI,KAAK/E,gBAAL,CAAsB0D,GAAtB,EAA2BsB,UAA/B,EAA2C;AACvCF,6BAASH,IAAT,GAAgB,cAAclB,SAA9B;AACAqB,6BAASzD,EAAT,CAAY,OAAZ,EAAqB,KAAK4D,cAA1B,EAA0C,IAA1C;AACAH,6BAASC,MAAT,GAAkB,IAAlB;AACAtB;AACH;;AAGD,oBAAI,CAAC,KAAK5C,OAAL,CAAa+C,OAAb,CAAL,EACI,KAAK/C,OAAL,CAAa+C,OAAb,IAAwB,EAAxB;;AAEJ,oBAAIsB,WAAW;AACXL,uBAAG,CADQ;AAEXM,uBAAG;AAFQ,iBAAf;AAIA,oBAAIC,UAAU;AACVP,uBAAG,CADO;AAEVM,uBAAG;AAFO,iBAAd;AAIA,qBAAK,IAAIZ,KAAI,CAAb,EAAgBA,MAAKT,WAArB,EAAkCS,IAAlC,EAAuC;AACnC,wBAAIc,UAAUjE,KAAKqD,cAAL,CAAoB,WAAWF,EAA/B,CAAd;AACA,wBAAIc,OAAJ,EAAa;AACT;AACA;AACA,4BAAI,KAAKd,EAAT,EAAY;AACRW,qCAASL,CAAT,GAAaQ,QAAQR,CAArB;AACAK,qCAASC,CAAT,GAAaE,QAAQF,CAArB;AACAC,oCAAQP,CAAR,GAAYQ,QAAQR,CAApB;AACAO,oCAAQD,CAAR,GAAYE,QAAQF,CAApB;AACH,yBALD,MAKO,IAAI,IAAIZ,EAAR,EAAW;AAAE;AAChB,gCAAIP,OAAOO,KAAI,CAAX,KAAiBP,OAAOO,KAAI,CAAX,CAArB,EAAoC;AAChCc,wCAAQR,CAAR,GAAYK,SAASL,CAArB;AACAQ,wCAAQF,CAAR,GAAYC,QAAQD,CAAR,GAAYE,QAAQC,MAApB,GAA6B,KAAKvE,kBAA9C;AACAK,qCAAKkE,MAAL,GAAclE,KAAKkE,MAAL,GAAcD,QAAQC,MAAtB,GAA+B,KAAKvE,kBAAlD;AACH,6BAJD,MAIO;AACHsE,wCAAQR,CAAR,GAAYO,QAAQP,CAAR,GAAY,KAAK/D,cAA7B;AACAuE,wCAAQF,CAAR,GAAYC,QAAQD,CAApB;AACH;AACJ;AACDC,gCAAQP,CAAR,GAAYQ,QAAQR,CAApB;AACAO,gCAAQD,CAAR,GAAYE,QAAQF,CAApB;;AAEAE,gCAAQhE,EAAR,CAAWvC,GAAGQ,IAAH,CAAQgC,SAAR,CAAkBC,WAA7B,EAA0C,KAAKgE,aAA/C,EAA8D,IAA9D;AACA,4BAAIC,YAAYH,QAAQZ,cAAR,CAAuB,WAAvB,CAAhB;AACA,4BAAIgB,gBAAgBJ,QAAQZ,cAAR,CAAuB,eAAvB,CAApB;AACA,4BAAIiB,WAAW,KAAK1F,gBAAL,CAAsB0D,GAAtB,EAA2BiC,UAA3B,CAAsCzB,QAAtC,GAAiDC,KAAjD,CAAuD,GAAvD,CAAf;AACA;AACA,4BAAItB,SAAS,CAAb;AACA,4BAAIC,UAAU,GAAd;AACA,4BAAI8C,SAAS,IAAb;AACA,4BAAI,KAAK9D,QAAT,EAAmB;AACfe,qCAAS,KAAKf,QAAL,CAAce,MAAvB;AACAC,sCAAU,KAAKhB,QAAL,CAAc+D,SAAxB;AACAD,qCAAS,KAAKjD,cAAL,CAAoB,KAAK3C,gBAAL,CAAsB0D,GAAtB,EAA2BG,GAA/C,EAAoDhB,MAApD,EAA4DC,OAA5D,CAAT;AACH;AACD;AACA,4BAAI,CAAC8C,MAAL,EACIA,SAAS,KAAKjD,cAAL,CAAoB,KAAK3C,gBAAL,CAAsB0D,GAAtB,EAA2BG,GAA/C,EAAoDhB,MAApD,EAA4D,GAA5D,CAAT;AACJ,4BAAI+C,MAAJ,EAAY;AACR,gCAAIE,aAAaF,OAAOzB,KAAP,CAAa,GAAb,CAAjB;AACA,iCAAK,IAAI4B,IAAI,CAAb,EAAgBA,IAAID,WAAWE,MAA/B,EAAuCD,GAAvC,EAA4C;AAAE;AAC1C,oCAAIE,SAASH,WAAWC,CAAX,CAAT,IAA0BjC,WAA9B,EAA2C;AACvCgC,iDAAa,CAAC,GAAD,CAAb;AACA;AACH;AACJ;AACDJ,uCAAWI,UAAX;AACH;AACD,4BAAI,KAAKhE,QAAL,IAAiB,aAAa8B,OAAlC,EACI8B,WAAW,CAAC,CAAD,CAAX;AACJ,4BAAI9B,WAAW,aAAf,EAA8B;AAC1B,gCAAI8B,SAASQ,OAAT,CAAiB,IAAjB,IAAyB,CAAC,CAA9B,EAAiC;AAC7B1C,0CAAU,IAAV;AACH;AACJ;AACD,4BAAII,WAAW,cAAX,IAA6B,CAACJ,OAAlC,EAA2C;AACvC,gCAAIoC,UAAU,CAAd,EAAiB;AACbrC,qDAAqB,IAArB;AACH;AACJ;AACD;AACA,4BAAI,KAAK,KAAKvD,gBAAL,CAAsB0D,GAAtB,EAA2ByC,UAAhC,IAA8C,KAAKT,SAASM,MAAhE,EACI,KAAK1B,MAAL,CAAY,mDAAZ;;AAEJ,4BAAI,KAAK,KAAKtE,gBAAL,CAAsB0D,GAAtB,EAA2ByC,UAApC,EAAgD;AAAE;AAC9C,gCAAIC,UAAU,gBAAgBxH,IAAIK,WAApB,GAAkC,8BAAhD;AACAmC,iCAAKiF,YAAL,CAAkBvH,GAAGwH,MAArB;AACA,iCAAKC,sBAAL,CAA4Bf,SAA5B,EAAuCY,OAAvC;AACA,iCAAKG,sBAAL,CAA4Bd,aAA5B,EAA2C,gBAAgB7G,IAAIK,WAApB,GAAkC,4BAA7E;AACH;;AAED,6BAAK,IAAI8G,KAAI,CAAb,EAAgBA,KAAIL,SAASM,MAA7B,EAAqCD,IAArC,EAA0C;AACtC,gCAAIxB,MAAK0B,SAASP,SAASK,EAAT,CAAT,CAAT,EAAgC;AAC5BP,0CAAUT,MAAV,GAAmB,IAAnB;AACA;AACH,6BAHD,MAGO;AACHS,0CAAUT,MAAV,GAAmB,KAAnB;AACH;AACJ;AACD,6BAAKlE,OAAL,CAAa+C,OAAb,EAAsB4C,IAAtB,CAA2BnB,OAA3B;AAEH;AACJ;AACD,qBAAKoB,kBAAL,CAAwBrF,IAAxB;AACA,qBAAKsF,gBAAL,CAAsBtF,IAAtB;AACA,qBAAK/B,gBAAL,CAAsBuF,QAAtB,CAA+BxD,IAA/B;AACA,oBAAIuF,OAAO,KAAKpH,YAAL,CAAkB6B,IAAlB,CAAuBqD,cAAvB,CAAsC,MAAtC,CAAX;AACA,oBAAImC,UAAU9H,GAAGsF,WAAH,CAAeuC,IAAf,CAAd;AACAC,wBAAQ7B,MAAR,GAAiB,IAAjB;AACA,qBAAK1F,gBAAL,CAAsBuF,QAAtB,CAA+BgC,OAA/B;AACH;AACJ;AACD,aAAKC,aAAL;AACA,aAAKtH,YAAL,CAAkBuH,WAAlB;AACA;AACA,YAAI,KAAKzH,gBAAL,CAAsBiG,MAAtB,GAA+B,KAAK/F,YAAL,CAAkB6B,IAAlB,CAAuBkE,MAA1D,EAAkE;AAC9D,iBAAK7F,SAAL,CAAesF,MAAf,GAAwB,IAAxB;AACH,SAFD,MAEO;AACH,iBAAKtF,SAAL,CAAesF,MAAf,GAAwB,KAAxB;AACH;AACD,YAAI,CAACvB,OAAL,EAAc;AACV,iBAAK3C,OAAL,CAAa,cAAb,EAA6B,CAA7B,EAAgCkG,MAAhC,CAAuChC,MAAvC,GAAgD,CAACxB,kBAAjD;AACH,SAFD,MAEO;AACH,iBAAK1C,OAAL,CAAa,cAAb,EAA6B,CAA7B,EAAgCkG,MAAhC,CAAuChC,MAAvC,GAAgD,KAAhD;AACA,iBAAKlE,OAAL,CAAa,cAAb,EAA6B,CAA7B,EAAgCkG,MAAhC,CAAuChC,MAAvC,GAAgD,KAAhD;AACH;AACD,aAAKiC,mBAAL;AAEH,KAjPI;;AAmPLC,aAAS,mBAAW,CAEnB,CArPI;AAsPL5E,aAAS,mBAAW;AAChB,YAAI,KAAKP,QAAT,EAAmB;AACf,iBAAKpC,SAAL,CAAeqF,MAAf,GAAwB,KAAxB;AACA,iBAAKpF,OAAL,CAAaoF,MAAb,GAAsB,KAAtB;AACA,gBAAI,KAAK,KAAKjD,QAAL,CAAc+D,SAAvB,EACI,KAAKnG,SAAL,CAAeqF,MAAf,GAAwB,IAAxB,CADJ,KAGI,KAAKpF,OAAL,CAAaoF,MAAb,GAAsB,IAAtB;AACP,SAPD,MAOO;AACH,iBAAKrF,SAAL,CAAeqF,MAAf,GAAwB,IAAxB;AACA,iBAAKpF,OAAL,CAAaoF,MAAb,GAAsB,KAAtB;AAEH;AACJ,KAnQI;AAoQL0B,wBAAoB,4BAASS,WAAT,EAAsB;AACtC,YAAIC,SAASD,YAAYvC,IAAZ,CAAiByC,SAAjB,CAA4B,UAAD,CAAapB,MAAxC,EAAgDkB,YAAYvC,IAAZ,CAAiBqB,MAAjE,CAAb;AACA,YAAIqB,MAAM,MAAV;AACA,aAAK,IAAI3D,GAAT,IAAgB,KAAK1D,gBAArB,EAAuC;AACnC,gBAAI,KAAKU,QAAL,IAAiB,KAAKV,gBAAL,CAAsB0D,GAAtB,EAA2BC,QAAhD,EAA0D;AACtD,oBAAIwD,UAAU,KAAKnH,gBAAL,CAAsB0D,GAAtB,EAA2BG,GAAzC,EAA8C;AAC1C,wBAAIyD,iBAAiB,EAArB;AACA,wBAAIC,kBAAkB,EAAtB;AACA,wBAAIC,sBAAsB,EAA1B;AACA,wBAAIC,mBAAmB,EAAvB;AACA,wBAAIC,sBAAsB,EAA1B;AACA,wBAAIC,QAAQ,KAAK3H,gBAAL,CAAsB0D,GAAtB,EAA2BkE,KAA3B,CAAiCC,OAAjC,CAAyCR,GAAzC,EAA8C,GAA9C,CAAZ;AACAH,gCAAYzC,cAAZ,CAA2B,OAA3B,EAAoCzD,YAApC,CAAiDlC,GAAGgJ,KAApD,EAA2DC,MAA3D,GAAoEJ,KAApE;AACA,wBAAIK,WAAW,EAAf;AACA,wBAAI,WAAWb,MAAf,EAAuB;AAAE;AACrBa,mCAAW,KAAKhI,gBAAL,CAAsB0D,GAAtB,EAA2BuE,UAA3B,CAAsC9D,KAAtC,CAA4C,GAA5C,CAAX;AACA,4BAAI,KAAKrC,QAAL,IAAiB,aAAaqF,MAAlC,EACIa,WAAW,CAAC,KAAD,EAAQ,KAAR,EAAe,KAAf,CAAX;AACJ,4BAAIA,SAAShC,MAAT,IAAmBkB,YAAYgB,QAAZ,CAAqBlC,MAArB,GAA8B,CAArD,EAAwD;AAAE;AACtD,iCAAK1B,MAAL,CAAY,qDAAZ;AACA;AACH;AACJ;AACD,wBAAI6D,aAAa,CAAC,CAAlB;AACA,wBAAIC,cAAc,CAAC,CAAnB;AACA,wBAAIC,SAAS,EAAb,CApB0C,CAoBzB;AACjB,wBAAI,YAAYlB,MAAZ,IAAsB,aAAaA,MAAnC,IAA6C,WAAWA,MAA5D,EAAoE;;AAEhE,4BAAImB,cAAc,KAAKC,WAAL,CAAiBF,MAAjB,CAAlB;;AAEA,4BAAI,KAAKxH,OAAL,CAAa,QAAb,CAAJ,EACIwH,SAAS,KAAKG,kBAAL,EAAT;;AAEJ,4BAAIC,aAAa,KAAKF,WAAL,CAAiBF,MAAjB,CAAjB;AACA,4BAAIK,cAAc,IAAlB;AACA,4BAAI,KAAKL,OAAOrC,MAAhB,EAAwB;AACpB0C,0CAAcJ,WAAd;AACH,yBAFD,MAEO;AACHI,0CAAcD,UAAd;AACH;AACD,4BAAI,KAAK5H,OAAL,CAAa,OAAb,CAAJ,EAA2B;AACvBsH,yCAAa,CAAb;AACA,iCAAK,IAAI5D,IAAI,CAAb,EAAgBA,IAAI,KAAK1D,OAAL,CAAa,OAAb,EAAsBmF,MAA1C,EAAkDzB,GAAlD,EAAuD;AACnD,oCAAIoE,OAAO,KAAK9H,OAAL,CAAa,OAAb,EAAsB0D,CAAtB,EAAyBE,cAAzB,CAAwC,WAAxC,EAAqDM,MAAhE;AACA,oCAAI4D,IAAJ,EAAU;AACNR,iDAAa5D,CAAb;AACA;AACH;AACD4D;AACH;AACD,iCAAK,IAAI5D,MAAI,CAAb,EAAgBA,MAAImE,YAAY1C,MAAhC,EAAwCzB,KAAxC,EAA6C;AACzC,qCAAK1D,OAAL,CAAa,OAAb,EAAsB0D,GAAtB,EAAyBE,cAAzB,CAAwC,OAAxC,EAAiDzD,YAAjD,CAA8DlC,GAAGgJ,KAAjE,EAAwEC,MAAxE,GAAiFW,YAAYnE,GAAZ,EAAeqE,QAAf,GAA0B,GAA3G;AACH;AACJ;AACD,4BAAI,KAAK/H,OAAL,CAAa,SAAb,KAA2B,CAAC,CAAD,IAAMsH,UAArC,EAAiD;AAC7C,gCAAIA,aAAaG,YAAYtC,MAA7B,EAAqC;AACjCsB,+CAAed,IAAf,CAAoB8B,YAAYH,UAAZ,EAAwBU,WAA5C;AACAtB,gDAAgBf,IAAhB,CAAqB8B,YAAYH,UAAZ,EAAwBW,YAA7C;AACAtB,oDAAoBhB,IAApB,CAAyB8B,YAAYH,UAAZ,EAAwBY,SAAjD;;AAEAtB,iDAAiBjB,IAAjB,CAAsB8B,YAAYH,UAAZ,EAAwBa,SAA9C;AACAtB,oDAAoBlB,IAApB,CAAyB8B,YAAYH,UAAZ,EAAwBc,gBAAjD;AACH;AACD,gCAAId,aAAaM,WAAWzC,MAA5B,EAAoC;AAChCsB,+CAAed,IAAf,CAAoBiC,WAAWN,UAAX,EAAuBU,WAA3C;AACAtB,gDAAgBf,IAAhB,CAAqBiC,WAAWN,UAAX,EAAuBW,YAA5C;AACAtB,oDAAoBhB,IAApB,CAAyBiC,WAAWN,UAAX,EAAuBY,SAAhD;;AAEAtB,iDAAiBjB,IAAjB,CAAsBiC,WAAWN,UAAX,EAAuBa,SAA7C;AACAtB,oDAAoBlB,IAApB,CAAyBiC,WAAWN,UAAX,EAAuBc,gBAAhD;AACH;AACJ;AACJ;AACD,wBAAI,WAAW9B,MAAf,EAAuB;AACnB,4BAAI+B,WAAW,CAAf;AACA,6BAAK,IAAI3E,MAAI,CAAb,EAAgBA,MAAI2C,YAAYgB,QAAZ,CAAqBlC,MAAzC,EAAiDzB,KAAjD,EAAsD;AAClD,gCAAI2C,YAAYgB,QAAZ,CAAqB3D,GAArB,EAAwBI,IAAxB,CAA6BwE,UAA7B,CAAwC,QAAxC,CAAJ,EAAuD;AACnDjC,4CAAYgB,QAAZ,CAAqB3D,GAArB,EAAwBE,cAAxB,CAAuC,OAAvC,EAAgDzD,YAAhD,CAA6DlC,GAAGgJ,KAAhE,EAAuEC,MAAvE,GAAgFC,SAASkB,QAAT,CAAhF;AACAA;AACH;AACJ;AACJ;AACD,wBAAI,iBAAiB/B,MAArB,EAA6B;AACzB,6BAAKtG,OAAL,CAAa,aAAb,EAA4B,KAAKT,MAAL,CAAYgJ,cAAxC,EAAwDC,SAAxD,GAAoE,KAAKjJ,MAAL,CAAYkJ,iBAAhF;AACA,6BAAKzI,OAAL,CAAa,aAAb,EAA4B,KAAKT,MAAL,CAAYmJ,YAAxC,EAAsDF,SAAtD,GAAkE,KAAKjJ,MAAL,CAAYoJ,eAA9E;AACA,6BAAK3I,OAAL,CAAa,aAAb,EAA4B,KAAKT,MAAL,CAAYqJ,SAAxC,EAAmDJ,SAAnD,GAA+D,KAAKjJ,MAAL,CAAYsJ,YAA3E;AACA,6BAAK7I,OAAL,CAAa,aAAb,EAA4B,KAAKT,MAAL,CAAYuJ,mBAAxC,EAA6DN,SAA7D,GAAyE,KAAKjJ,MAAL,CAAYwJ,sBAArF;AACA,6BAAK/I,OAAL,CAAa,aAAb,EAA4B,KAAKT,MAAL,CAAYyJ,eAAxC,EAAyDR,SAAzD,GAAqE,KAAKjJ,MAAL,CAAY0J,kBAAjF;AACA,6BAAKjJ,OAAL,CAAa,aAAb,EAA4B,KAAKT,MAAL,CAAY2J,cAAxC,EAAwDV,SAAxD,GAAoE,KAAKjJ,MAAL,CAAY4J,iBAAhF;AACA,6BAAKnJ,OAAL,CAAa,aAAb,EAA4B,KAAKT,MAAL,CAAY6J,YAAxC,EAAsDZ,SAAtD,GAAkE,KAAKjJ,MAAL,CAAY8J,eAA9E;AACA,6BAAKrJ,OAAL,CAAa,aAAb,EAA4B,KAAKT,MAAL,CAAY+J,kBAAxC,EAA4Dd,SAA5D,GAAwE,KAAKjJ,MAAL,CAAYgK,qBAApF;AACA,6BAAKvJ,OAAL,CAAa,aAAb,EAA4B,KAAKT,MAAL,CAAYiK,QAAxC,EAAkDhB,SAAlD,GAA8D,KAAKjJ,MAAL,CAAYkK,WAA1E;AACA,6BAAKzJ,OAAL,CAAa,aAAb,EAA4B,KAAKT,MAAL,CAAYmK,MAAxC,EAAgDlB,SAAhD,GAA4D,KAAKjJ,MAAL,CAAYoK,SAAxE;AACA,6BAAK3J,OAAL,CAAa,aAAb,EAA4B,KAAKT,MAAL,CAAYqK,YAAxC,EAAsDpB,SAAtD,GAAkE,KAAKjJ,MAAL,CAAYsK,eAA9E;AACA,6BAAK7J,OAAL,CAAa,aAAb,EAA4B,KAAKT,MAAL,CAAYuK,qBAAxC,EAA+DtB,SAA/D,GAA2E,KAAKjJ,MAAL,CAAYwK,wBAAvF;AACA,6BAAK/J,OAAL,CAAa,aAAb,EAA4B,KAAKT,MAAL,CAAYyK,8BAAxC,EAAwExB,SAAxE,GAAoF,KAAKjJ,MAAL,CAAY0K,iCAAhG;AACA,4BAAG,KAAKjK,OAAL,CAAa,aAAb,EAA4B,EAA5B,CAAH,EAAoC,KAAKA,OAAL,CAAa,aAAb,EAA4B,EAA5B,EAAgCwI,SAAhC,GAA4C,KAAKjJ,MAAL,CAAY2K,WAAxD;AACvC;;AAED,wBAAI,KAAKzD,eAAetB,MAAxB,EAAgC;AAC5B,4BAAIgF,YAAY1D,eAAeA,eAAetB,MAAf,GAAwB,CAAvC,CAAhB;AACA,4BAAIiF,UAAU,KAAKpK,OAAL,CAAa,SAAb,CAAd;AACA,4BAAIqK,cAAc,KAAlB;AACA,6BAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIF,QAAQjF,MAA5B,EAAoCmF,GAApC,EAAyC;AACrC,gCAAIC,WAAWH,QAAQE,CAAR,EAAW1G,cAAX,CAA0B,aAA1B,CAAf;AACA2G,qCAASrG,MAAT,GAAkB,IAAlB;AACA,gCAAImG,WAAJ,EAAiB;AACbE,yCAASrE,MAAT,CAAgBlC,CAAhB,GAAoBuG,SAASrE,MAAT,CAAgBlC,CAAhB,GAAoB,KAAK/D,cAA7C;AACAoK,8CAAc,KAAd;AACH;AACD;AACA,gCAAIF,aAAa,CAAb,IAAkB,KAAKG,CAA3B,EAA8B;AAC1BC,yCAASrE,MAAT,CAAgBhC,MAAhB,GAAyB,KAAzB;AACAmG,8CAAc,IAAd;AACA;AACH;AACD,gCAAI,KAAKpJ,QAAL,IAAiB,IAArB,EAA2B;AACvB,oCAAI,KAAKqJ,CAAT,EACIC,SAAS3G,cAAT,CAAwB,SAAxB,EAAmCzD,YAAnC,CAAgDlC,GAAGgJ,KAAnD,EAA0DC,MAA1D,GAAmE,MAAMP,oBAAoBA,oBAAoBxB,MAApB,GAA6B,CAAjD,CAAzE,CADJ,KAEK,IAAI,KAAKmF,CAAT,EACDC,SAAS3G,cAAT,CAAwB,SAAxB,EAAmCzD,YAAnC,CAAgDlC,GAAGgJ,KAAnD,EAA0DC,MAA1D,GAAmE,MAAMT,eAAeA,eAAetB,MAAf,GAAwB,CAAvC,CAAzE,CADC,KAEA;AACDoF,6CAAS3G,cAAT,CAAwB,SAAxB,EAAmCzD,YAAnC,CAAgDlC,GAAGgJ,KAAnD,EAA0DC,MAA1D,GAAmE,MAAMR,gBAAgBA,gBAAgBvB,MAAhB,GAAyB,CAAzC,CAAzE;AACH;AACJ,6BARD,MAQO;AACH,oCAAI,KAAKmF,CAAT,EACIC,SAAS3G,cAAT,CAAwB,SAAxB,EAAmCzD,YAAnC,CAAgDlC,GAAGgJ,KAAnD,EAA0DC,MAA1D,GAAmE,MAAMM,OAAO,CAAP,IAAYf,eAAeA,eAAetB,MAAf,GAAwB,CAAvC,CAArF,CADJ,KAEK,IAAI,KAAKmF,CAAT,EAAY;AACbC,6CAAS3G,cAAT,CAAwB,MAAxB,EAAgCM,MAAhC,GAAyC,KAAzC;AACAqG,6CAAS3G,cAAT,CAAwB,SAAxB,EAAmCM,MAAnC,GAA4C,IAA5C;AACAqG,6CAAS3G,cAAT,CAAwB,SAAxB,EAAmCzD,YAAnC,CAAgDlC,GAAGgJ,KAAnD,EAA0DC,MAA1D,GAAmE,MAAMN,iBAAiBA,iBAAiBzB,MAAjB,GAA0B,CAA3C,CAAzE;AACAoF,6CAAS3G,cAAT,CAAwB,SAAxB,EAAmC1C,oBAAnC,GAA0D0F,iBAAiBA,iBAAiBzB,MAAjB,GAA0B,CAA3C,CAA1D;AACAiF,4CAAQE,CAAR,EAAW1G,cAAX,CAA0B,SAA1B,EAAqCM,MAArC,GAA8C,IAA9C;AACH,iCANI,MAME;AACHqG,6CAAS3G,cAAT,CAAwB,MAAxB,EAAgCM,MAAhC,GAAyC,KAAzC;AACAqG,6CAAS3G,cAAT,CAAwB,SAAxB,EAAmCM,MAAnC,GAA4C,IAA5C;AACAqG,6CAAS3G,cAAT,CAAwB,SAAxB,EAAmCzD,YAAnC,CAAgDlC,GAAGgJ,KAAnD,EAA0DC,MAA1D,GAAmE,MAAML,oBAAoBA,oBAAoB1B,MAApB,GAA6B,CAAjD,CAAzE;AACAoF,6CAAS3G,cAAT,CAAwB,SAAxB,EAAmC1C,oBAAnC,GAA0D2F,oBAAoBA,oBAAoB1B,MAApB,GAA6B,CAAjD,CAA1D;AACAiF,4CAAQE,CAAR,EAAW1G,cAAX,CAA0B,SAA1B,EAAqCM,MAArC,GAA8C,IAA9C;AACH;AACJ;AACJ;AACJ;AACJ;AACJ;AACJ;AACJ,KAtZI;AAuZL2B,sBAAkB,0BAASQ,WAAT,EAAsB;AACpC,aAAK,IAAI3C,IAAI,CAAb,EAAgBA,IAAI2C,YAAYgB,QAAZ,CAAqBlC,MAAzC,EAAiDzB,GAAjD,EAAsD;AAClD,gBAAI8G,aAAanE,YAAYgB,QAAZ,CAAqB3D,CAArB,CAAjB;AACA,gBAAI8G,WAAW1G,IAAX,CAAgBwE,UAAhB,CAA2B,QAA3B,CAAJ,EAA0C;AACtC,oBAAImC,YAAYD,WAAW5G,cAAX,CAA0B,WAA1B,EAAuCM,MAAvD;AACA,qBAAK,IAAIgB,IAAI,CAAb,EAAgBA,IAAIsF,WAAWnD,QAAX,CAAoBlC,MAAxC,EAAgDD,GAAhD,EAAqD;AACjD,wBAAIwF,QAAQF,WAAWnD,QAAX,CAAoBnC,CAApB,EAAuB/E,YAAvB,CAAoClC,GAAGgJ,KAAvC,CAAZ;AACA,wBAAI,QAAQyD,KAAZ,EAAmB;AACf,4BAAID,SAAJ,EAAe;AACXD,uCAAWnD,QAAX,CAAoBnC,CAApB,EAAuByF,KAAvB,GAA+B,KAAKlL,SAApC;AACH,yBAFD,MAEO;AACH+K,uCAAWnD,QAAX,CAAoBnC,CAApB,EAAuByF,KAAvB,GAA+B,KAAKhL,SAApC;AACH;AACJ;AACD,wBAAIiL,aAAaJ,WAAW5G,cAAX,CAA0B,aAA1B,CAAjB;AACA,wBAAIgH,WAAW1G,MAAf,EAAuB;AACnBwG,gCAAQ,IAAR;AACA,6BAAK,IAAIJ,IAAI,CAAb,EAAgBA,IAAIM,WAAWvD,QAAX,CAAoBlC,MAAxC,EAAgDmF,GAAhD,EAAqD;AACjDI,oCAAQE,WAAWvD,QAAX,CAAoBiD,CAApB,EAAuBnK,YAAvB,CAAoClC,GAAGgJ,KAAvC,CAAR;AACA,gCAAI,QAAQyD,KAAZ,EAAmB;AACf,oCAAID,SAAJ,EAAe;AACXG,+CAAWvD,QAAX,CAAoBiD,CAApB,EAAuBK,KAAvB,GAA+B,KAAKlL,SAApC;AACH,iCAFD,MAEO;AACHmL,+CAAWvD,QAAX,CAAoBiD,CAApB,EAAuBK,KAAvB,GAA+B,KAAKhL,SAApC;AACH;AACJ;AACJ;AACJ;AACJ;AACJ;AACJ;AACJ,KAtbI;AAubLqG,mBAAe,yBAAW;AAAE;AACxB,YAAI6E,WAAW,IAAf;AACA,YAAIC,WAAW,IAAf;AACA,YAAI9K,UAAU,IAAd;AACA,aAAK,IAAIkF,IAAI,CAAb,EAAgBA,IAAI,KAAK1G,gBAAL,CAAsB6I,QAAtB,CAA+BlC,MAAnD,EAA2DD,GAA3D,EAAgE;AAC5D,gBAAIA,IAAI,CAAJ,IAAS,CAAb,EAAgB;AACZ;AACH;AACDlF,sBAAU,KAAKxB,gBAAL,CAAsB6I,QAAtB,CAA+BnC,CAA/B,CAAV;AACA2F,uBAAW,IAAX;AACAC,uBAAW,IAAX;AACA,iBAAK,IAAIpH,IAAI,CAAb,EAAgBA,IAAI1D,QAAQqH,QAAR,CAAiBlC,MAArC,EAA6CzB,GAA7C,EAAkD;AAC9C,oBAAI1D,QAAQqH,QAAR,CAAiB3D,CAAjB,EAAoBI,IAApB,CAAyBwE,UAAzB,CAAoC,QAApC,CAAJ,EACIwC,WAAW9K,QAAQqH,QAAR,CAAiB3D,CAAjB,CAAX,CADJ,KAEK,IAAI1D,QAAQqH,QAAR,CAAiB3D,CAAjB,EAAoBI,IAApB,CAAyBwE,UAAzB,CAAoC,UAApC,CAAJ,EACDuC,WAAW7K,QAAQqH,QAAR,CAAiB3D,CAAjB,CAAX;;AAEJ,oBAAImH,YAAYA,SAAS3G,MAArB,IAA+B4G,QAAnC,EAA6C;AACzC,wBAAIC,YAAYD,SAASlH,cAAT,CAAwB,OAAxB,CAAhB;AACA,wBAAIoH,MAAMF,SAASlH,cAAT,CAAwB,OAAxB,EAAiCzD,YAAjC,CAA8ClC,GAAGgJ,KAAjD,CAAV;AACA,wBAAIgE,WAAW,CAAf;AACA,wBAAIP,QAAQI,SAASlH,cAAT,CAAwB,OAAxB,CAAZ;AACA,wBAAI8G,KAAJ,EAAW;AACPO,mCAAWP,MAAM1G,CAAN,GAAU0G,MAAMQ,KAA3B;AACAR,gCAAQ,IAAR;AACH;AACD,wBAAIS,cAAcL,SAASlH,cAAT,CAAwB,aAAxB,CAAlB;AACA,wBAAIuH,YAAYjH,MAAhB,EAAwB;AACpB,6BAAK,IAAIkH,IAAI,CAAb,EAAgBA,IAAID,YAAY9D,QAAZ,CAAqBlC,MAAzC,EAAiDiG,GAAjD,EAAsD;AAClD,gCAAIV,SAAQS,YAAY9D,QAAZ,CAAqB+D,CAArB,EAAwBjL,YAAxB,CAAqClC,GAAGgJ,KAAxC,CAAZ;AACA,gCAAIyD,MAAJ,EAAW;AACPO,2CAAWE,YAAYnH,CAAZ,GAAgB0G,OAAMnK,IAAN,CAAWyD,CAA3B,GAA+B0G,OAAMnK,IAAN,CAAW2K,KAArD;AACAR,yCAAQ,IAAR;AACH;AACJ;AACJ;AACDG,6BAAS7G,CAAT,GAAa8G,SAAS9G,CAAT,GAAaiH,QAAb,GAAwB,EAArC;AACAJ,6BAASvG,CAAT,GAAawG,SAASxG,CAAtB;AACH;AACJ;AACJ;AACJ,KAheI;AAieLoD,iBAAa,qBAASF,MAAT,EAAiB;AAAE;AAC5B,YAAI6D,QAAQ,EAAZ;AACA,YAAI7D,OAAOrC,MAAP,IAAiB,CAArB,EAAwB;AACpB,mBAAOkG,KAAP;AACH;AACD,aAAK,IAAIxI,GAAT,IAAgB,KAAK7D,cAArB,EAAqC;AACjC,gBAAI,KAAKa,QAAL,CAAcL,WAAd,MAA+B,KAAKR,cAAL,CAAoB6D,GAApB,EAAyByI,QAAxD,IACAlG,SAASoC,OAAO,CAAP,CAAT,KAAuB,KAAKxI,cAAL,CAAoB6D,GAApB,EAAyB0I,SADhD,IAEAnG,SAASoC,OAAO,CAAP,CAAT,KAAuB,KAAKxI,cAAL,CAAoB6D,GAApB,EAAyB2I,SAFpD,EAE+D;AAC3DH,sBAAM1F,IAAN,CAAW,KAAK3G,cAAL,CAAoB6D,GAApB,CAAX;AACH;AAEJ;AACD,YAAI,KAAKwI,MAAMlG,MAAf,EACI,KAAK1B,MAAL,CAAY,uBAAZ;AACJ,eAAO4H,KAAP;AACH,KAjfI;AAkfLI,iBAAa,uBAAW;AACpB,aAAKpM,WAAL,CAAiBkC,SAAjB,CAA2BxD,IAAIK,WAAJ,GAAkB,eAA7C;AACH,KApfI;;AAsfL;AACAgG,oBAAgB,wBAAS3C,KAAT,EAAgB;AAC5B,YAAIiK,UAAUjK,MAAMkK,MAApB;AACA,YAAIC,UAAUF,QAAQ5H,IAAtB;AACA,YAAI8H,QAAQtD,UAAR,CAAmB,UAAnB,CAAJ,EAAoC;AAChC,iBAAKuD,cAAL,CAAoBD,OAApB,EAA6BF,OAA7B;AACH;AACJ,KA7fI;AA8fLhH,mBAAe,uBAASjD,KAAT,EAAgB;AAC3B,aAAKpC,WAAL,CAAiBkC,SAAjB,CAA2BxD,IAAIK,WAAJ,GAAkB,eAA7C;AACA,YAAI0N,UAAUrK,MAAMkK,MAAN,CAAazF,MAA3B;AACA,YAAI6F,SAAStK,MAAMkK,MAAnB;AACA,YAAI9I,MAAMiJ,QAAQhI,IAAR,CAAayC,SAAb,CAAwB,UAAD,CAAapB,MAApC,EAA4C2G,QAAQhI,IAAR,CAAaqB,MAAzD,CAAV;AACA,YAAI6G,cAAc5G,SAAS2G,OAAOjI,IAAP,CAAYyC,SAAZ,CAAuB,QAAD,CAAWpB,MAAjC,EAAyC4G,OAAOjI,IAAP,CAAYqB,MAArD,CAAT,IAAyE,CAA3F;AACA,YAAI8G,gBAAgB,EAApB;AACA,YAAIC,oBAAoB,EAAxB;AACAD,wBAAgB,KAAKjM,OAAL,CAAa6C,GAAb,CAAhB;AACAqJ,0BAAkBvG,IAAlB,CAAuBqG,WAAvB;AACA,YAAI,WAAWnJ,GAAX,IAAkB,YAAYA,GAA9B,IAAqC,aAAaA,GAAtD,EAA2D;AACvD,iBAAKsJ,gBAAL,CAAsBF,aAAtB,EAAqCC,iBAArC;AACA,iBAAKrG,gBAAL,CAAsBiG,OAAtB;AACA;AACA;AACH,SALD,MAKO,IAAI,iBAAiBjJ,GAArB,EAA0B;AAC7B;AACA,gBAAI,KAAK7C,OAAL,CAAa,aAAb,EAA4B,CAA5B,EAA+B4D,cAA/B,CAA8C,WAA9C,EAA2DM,MAA3D,IAAqE8H,eAAe,CAAxF,EAA2F;AACvF,qBAAKhM,OAAL,CAAa,aAAb,EAA4B,CAA5B,EAA+B4D,cAA/B,CAA8C,WAA9C,EAA2DM,MAA3D,GAAoE,KAApE;AACA,qBAAK2B,gBAAL,CAAsB,KAAK7F,OAAL,CAAa,aAAb,EAA4B,CAA5B,EAA+BkG,MAArD;AACH,aAHD,MAGO,IAAI,KAAKlG,OAAL,CAAa,aAAb,EAA4B,CAA5B,EAA+B4D,cAA/B,CAA8C,WAA9C,EAA2DM,MAA3D,IAAqE8H,eAAe,CAAxF,EAA2F;AAC9F,qBAAKhM,OAAL,CAAa,aAAb,EAA4B,CAA5B,EAA+B4D,cAA/B,CAA8C,WAA9C,EAA2DM,MAA3D,GAAoE,KAApE;AACA,qBAAK2B,gBAAL,CAAsB,KAAK7F,OAAL,CAAa,aAAb,EAA4B,CAA5B,EAA+BkG,MAArD;AACH;AACD;AACA,gBAAI,KAAKlG,OAAL,CAAa,aAAb,EAA4B,CAA5B,EAA+B4D,cAA/B,CAA8C,WAA9C,EAA2DM,MAA3D,IAAqE8H,eAAe,CAAxF,EAA2F;AACvF;AACH;AACD,gBAAI,KAAKhM,OAAL,CAAa,aAAb,EAA4B,CAA5B,EAA+B4D,cAA/B,CAA8C,WAA9C,EAA2DM,MAA3D,IAAqE8H,eAAe,CAAxF,EAA2F;AACvF;AACH;AACD;AACA,gBAAI,CAAC,KAAKhM,OAAL,CAAa,aAAb,EAA4B,EAA5B,EAAgC4D,cAAhC,CAA+C,WAA/C,EAA4DM,MAA7D,IAAuE8H,eAAe,CAA1F,EAA6F;AACzF;AACAjO,oBAAIA,IAAIK,WAAJ,GAAkB,mBAAtB,IAA6CyD,UAA7C,CAAwD,OAAxD;AACA;AACH;AACD,gBAAImK,eAAe,EAAf,IAAqB,KAAKhM,OAAL,CAAa,aAAb,EAA4BgM,WAA5B,EAAyCpI,cAAzC,CAAwD,WAAxD,EAAqEM,MAA9F,EAAsG;AAClG,qBAAKlE,OAAL,CAAa,aAAb,EAA4B,CAA5B,EAA+B4D,cAA/B,CAA8C,WAA9C,EAA2DM,MAA3D,GAAoE,KAApE;AACH;AACD,gBAAI8H,eAAe,CAAf,IAAoBA,eAAe,EAAvC,EAA2C;AACvC,oBAAI,KAAKhM,OAAL,CAAa,SAAb,EAAwB,CAAxB,EAA2B4D,cAA3B,CAA0C,WAA1C,EAAuDM,MAA3D,EAAmE;AAC/DnG,wBAAIA,IAAIK,WAAJ,GAAkB,mBAAtB,IAA6CyD,UAA7C,CAAwD,aAAxD;AACA;AACH;AACJ;AACD,gBAAImK,eAAe,EAAnB,EAAuB;AACnB,oBAAI,KAAKhM,OAAL,CAAa,SAAb,EAAwB,CAAxB,EAA2B4D,cAA3B,CAA0C,WAA1C,EAAuDM,MAA3D,EAAmE;AAC/DnG,wBAAIA,IAAIK,WAAJ,GAAkB,mBAAtB,IAA6CyD,UAA7C,CAAwD,cAAxD;AACA;AACH;AACJ;AACD;AACA,gBAAImK,eAAe,EAAnB,EAAuB;AACnB,oBAAI,CAAC,KAAKhM,OAAL,CAAa,aAAb,EAA4BgM,WAA5B,EAAyCpI,cAAzC,CAAwD,WAAxD,EAAqEM,MAA1E,EAAkF;AAC9E,yBAAKlE,OAAL,CAAa,cAAb,EAA6B,CAA7B,EAAgCkG,MAAhC,CAAuChC,MAAvC,GAAgD,KAAhD;AACA,yBAAKlE,OAAL,CAAa,cAAb,EAA6B,CAA7B,EAAgCkG,MAAhC,CAAuChC,MAAvC,GAAgD,KAAhD;AACH,iBAHD,MAGO;AACH,yBAAKlE,OAAL,CAAa,cAAb,EAA6B,CAA7B,EAAgCkG,MAAhC,CAAuChC,MAAvC,GAAgD,IAAhD;AACA,wBAAI,CAAC,KAAKlE,OAAL,CAAa,cAAb,EAA6B,CAA7B,EAAgC4D,cAAhC,CAA+C,WAA/C,EAA4DM,MAAjE,EAAyE;AACrE,6BAAKlE,OAAL,CAAa,cAAb,EAA6B,CAA7B,EAAgCkG,MAAhC,CAAuChC,MAAvC,GAAgD,IAAhD;AACH;AACJ;AACJ;AAEJ,SAlDM,MAkDA,IAAI,kBAAkBrB,GAAtB,EAA2B;AAC9B,gBAAImJ,eAAe,CAAnB,EAAsB;AAAE;AACpB,qBAAKhM,OAAL,CAAa,cAAb,EAA6B,CAA7B,EAAgCkG,MAAhC,CAAuChC,MAAvC,GAAgD,KAAhD;AACH,aAFD,MAEO;AACH,qBAAKlE,OAAL,CAAa,cAAb,EAA6B,CAA7B,EAAgCkG,MAAhC,CAAuChC,MAAvC,GAAgD,IAAhD;AACH;AACJ,SANM,MAMA,IAAI,aAAarB,GAAjB,EAAsB;AACzB,gBAAImJ,eAAe,CAAnB,EAAsB;AAClB,qBAAKhM,OAAL,CAAa,aAAb,EAA4B,CAA5B,EAA+B4D,cAA/B,CAA8C,WAA9C,EAA2DM,MAA3D,GAAoE,KAApE;AACA,qBAAKlE,OAAL,CAAa,aAAb,EAA4B,EAA5B,EAAgC4D,cAAhC,CAA+C,WAA/C,EAA4DM,MAA5D,GAAqE,KAArE;AACA,oBAAG,KAAKlE,OAAL,CAAa,aAAb,EAA4B,EAA5B,CAAH,EAAoC,KAAKA,OAAL,CAAa,aAAb,EAA4B,EAA5B,EAAgC4D,cAAhC,CAA+C,WAA/C,EAA4DM,MAA5D,GAAqE,KAArE;AACvC;AACJ,SANM,MAMA,CAEN;AACD,YAAI4H,QAAQ3L,YAAR,CAAqBlC,GAAGwH,MAAxB,CAAJ,EAAqC;AAAE;AACnCyG,gCAAoB,EAApB;AACA,iBAAK,IAAIxI,IAAI,CAAb,EAAgBA,IAAIuI,cAAc9G,MAAlC,EAA0CzB,GAA1C,EAA+C;AAC3C,oBAAIoE,OAAOmE,cAAcvI,CAAd,EAAiBE,cAAjB,CAAgC,WAAhC,EAA6CM,MAAxD;AACA;AACA,oBAAI4D,QAAQpE,KAAKsI,WAAjB,EAA8B;AAC1BE,sCAAkBvG,IAAlB,CAAuBjC,CAAvB;AACH;AACD;AAHA,qBAIK,IAAI,CAACoE,IAAD,IAASpE,KAAKsI,WAAlB,EAA+B;AAChCE,0CAAkBvG,IAAlB,CAAuBjC,CAAvB;AACH;AACJ;AACJ;AACD,aAAKyI,gBAAL,CAAsBF,aAAtB,EAAqCC,iBAArC;AACA,aAAKrG,gBAAL,CAAsBiG,OAAtB,EAA+B,aAAajJ,GAAb,GAAmB,IAAnB,GAA0B,KAAzD;AACA,aAAKsD,mBAAL;AACH,KA/lBI;AAgmBLA,yBAAqB,+BAAW;AAC5B,YAAI,KAAKnG,OAAL,CAAa,OAAb,CAAJ,EAA2B;AACvB,gBAAI,KAAKA,OAAL,CAAa,aAAb,EAA4B,CAA5B,EAA+B4D,cAA/B,CAA8C,WAA9C,EAA2DM,MAA/D,EAAuE;AACnE,qBAAKlE,OAAL,CAAa,OAAb,EAAsB,CAAtB,EAAyBkG,MAAzB,CAAgChC,MAAhC,GAAyC,IAAzC;AACH,aAFD,MAEO;AACH,qBAAKlE,OAAL,CAAa,OAAb,EAAsB,CAAtB,EAAyBkG,MAAzB,CAAgChC,MAAhC,GAAyC,KAAzC;AACH;AACJ;AACJ,KAxmBI;AAymBLiI,sBAAkB,0BAASL,OAAT,EAAkBM,aAAlB,EAAiC;AAC/C,aAAK,IAAI1I,IAAI,CAAb,EAAgBA,IAAIoI,QAAQ3G,MAA5B,EAAoCzB,GAApC;AACIoI,oBAAQpI,CAAR,EAAWE,cAAX,CAA0B,WAA1B,EAAuCM,MAAvC,GAAgD,KAAhD;AADJ,SAGA,IAAIkI,aAAJ,EAAmB;AACf,iBAAK,IAAI1I,MAAI,CAAb,EAAgBA,MAAIoI,QAAQ3G,MAA5B,EAAoCzB,KAApC,EAAyC;AACrC,qBAAK,IAAIwB,IAAI,CAAb,EAAgBA,IAAIkH,cAAcjH,MAAlC,EAA0CD,GAA1C,EAA+C;AAC3C,wBAAIxB,OAAK0I,cAAclH,CAAd,CAAT,EACI4G,QAAQpI,GAAR,EAAWE,cAAX,CAA0B,WAA1B,EAAuCM,MAAvC,GAAgD,IAAhD;AACP;AACJ;AACJ;AACJ,KArnBI;AAsnBLvD,oBAAgB,wBAASc,KAAT,EAAgB;AAC5B,aAAKpC,WAAL,CAAiBkC,SAAjB,CAA2BxD,IAAIK,WAAJ,GAAkB,eAA7C;AACH,KAxnBI;AAynBL;AACAiO,mBAAe,yBAAW;AACtB,aAAKzN,SAAL,CAAesF,MAAf,GAAwB,KAAxB;AACH,KA5nBI;AA6nBLoI,aAAS,iBAASV,OAAT,EAAkBF,OAAlB,EAA2B;AAChC,YAAI,gBAAgBE,OAApB,EAA6B;AACzB,iBAAKW,gBAAL,CAAsB,CAAtB;AACA,iBAAKlN,WAAL,CAAiBkC,SAAjB,CAA2BxD,IAAIK,WAAJ,GAAkB,eAA7C;AACH,SAHD,MAGO,IAAI,cAAcwN,OAAlB,EAA2B;AAC9B,iBAAKW,gBAAL,CAAsB,CAAtB;AACA,iBAAKlN,WAAL,CAAiBkC,SAAjB,CAA2BxD,IAAIK,WAAJ,GAAkB,eAA7C;AACH,SAHM,MAGA,IAAI,eAAewN,OAAnB,EAA4B;AAC/B,iBAAKvM,WAAL,CAAiBkC,SAAjB,CAA2BxD,IAAIK,WAAJ,GAAkB,eAA7C;AACA,iBAAKmD,SAAL;AACH,SAHM,MAGA,IAAI,gBAAgBqK,OAApB,EACH,KAAKvM,WAAL,CAAiBkC,SAAjB,CAA2BxD,IAAIK,WAAJ,GAAkB,eAA7C,EADG,KAEF,IAAIwN,WAAW,YAAf,EAA6B;AAC9B,iBAAKvM,WAAL,CAAiB+B,QAAjB,CAA0BrD,IAAIK,WAAJ,GAAkB,aAA5C;AACA;AACH,SAHI,MAGE,IAAIwN,QAAQtD,UAAR,CAAmB,QAAnB,CAAJ,EAAkC;AACrC,iBAAKjJ,WAAL,CAAiBkC,SAAjB,CAA2BxD,IAAIK,WAAJ,GAAkB,eAA7C;AACH,SAFM,MAEA;AACH,iBAAKiB,WAAL,CAAiBkC,SAAjB,CAA2BxD,IAAIK,WAAJ,GAAkB,eAA7C;AACA,iBAAKqF,MAAL,CAAY,sBAAZ,EAAoCmI,OAApC;AACH;AAEJ,KAnpBI;;AAqpBLC,oBAAgB,wBAASD,OAAT,EAAkBF,OAAlB,EAA2B;AACvC,YAAIc,OAAO,IAAX;AACA,YAAI3M,WAAW,KAAKA,QAApB;AACA,YAAI4M,WAAWb,QAAQrF,SAAR,CAAmB,WAAD,CAAcpB,MAAhC,EAAwCyG,QAAQzG,MAAhD,CAAf;AACA,YAAIuH,QAAQ,sBAAsBD,QAAtB,GAAiC,GAAjC,GAAuC5M,QAAnD;AACA,aAAKR,WAAL,CAAiB+B,QAAjB,CAA0BrD,IAAIK,WAAJ,GAAkB,eAA5C,EAA6DsO,KAA7D,EACKC,IADL,CACU,UAASC,aAAT,EAAwB;AAC1B,gBAAIC,UAAUD,cAAcE,aAAd,EAAd;AACA,gBAAIC,wBAAwBrB,QAAQxF,MAAR,CAAe8G,qBAAf,CAAqCtB,QAAQuB,WAAR,EAArC,CAA5B;AACA,gBAAIC,OAAOH,sBAAsB/I,CAAtB,GAA0BwI,KAAKjM,IAAL,CAAU2K,KAAV,GAAkB,CAA5C,GAAgD2B,QAAQ3B,KAAR,GAAgB,CAAhE,GAAoEQ,QAAQR,KAAR,GAAgB,CAA/F;AACA,gBAAIiC,OAAO,CAAX;AACA,gBAAIN,QAAQpI,MAAR,GAAiB+H,KAAKjM,IAAL,CAAUkE,MAAV,GAAmB,CAAxC,EACI0I,OAAOX,KAAKjM,IAAL,CAAUyM,qBAAV,CAAgCR,KAAKjM,IAAL,CAAU0M,WAAV,EAAhC,EAAyD3I,CAAzD,GAA6DkI,KAAKjM,IAAL,CAAUkE,MAAV,GAAmB,CAAvF,CADJ,KAGI0I,OAAOJ,sBAAsBzI,CAAtB,GAA0BkI,KAAKjM,IAAL,CAAUkE,MAAV,GAAmB,CAApD,CAAuD,CAAEoI,QAAQpI,MAAV,GAAmB,CAAnB,GAAuBiH,QAAQjH,MAAR,GAAiB,CAAxC;AAC3DmI,0BAAcQ,eAAd,CAA8BnP,GAAGoP,EAAH,CAAMH,IAAN,EAAYC,IAAZ,CAA9B;AACH,SAXL,EAYKG,KAZL,CAYW,UAASC,KAAT,EAAgB;AACnBf,iBAAK/I,MAAL,CAAY,UAAZ,EAAwB8J,MAAMC,KAA9B;AACH,SAdL;AAeH,KAzqBI;AA0qBLC,WAAO,iBAAW;AACd,aAAKpO,WAAL,CAAiBkC,SAAjB,CAA2B,aAA3B;AACH,KA5qBI;AA6qBLmM,mBAAe,yBAAW;AACtB,YAAIC,eAAe5P,IAAIA,IAAIK,WAAJ,GAAkB,QAAtB,EAAgCwP,eAAhC,EAAnB;AACA,YAAI7P,IAAI8P,UAAJ,CAAeC,WAAf,IAA8BH,aAAa,aAAb,CAAlC,EAA+D;AAC/D,aAAKtO,WAAL,CAAiB+B,QAAjB,CAA0B,SAA1B;AACH,KAjrBI;AAkrBLuG,wBAAoB,8BAAW;AAC3B,YAAIH,SAAS,CAAb;AACA,YAAIuG,YAAY,CAAC,CAAjB;AACA,YAAI,KAAK/N,OAAL,CAAa,QAAb,CAAJ,EAA4B;AACxB,iBAAK,IAAI0D,IAAI,CAAb,EAAgBA,IAAI,KAAK1D,OAAL,CAAa,QAAb,EAAuBmF,MAA3C,EAAmDzB,GAAnD,EAAwD;AACpD,oBAAIqI,SAAS,KAAK/L,OAAL,CAAa,QAAb,EAAuB0D,CAAvB,EAA0BE,cAA1B,CAAyC,WAAzC,CAAb;AACA,oBAAImI,OAAO7H,MAAX,EAAmB;AACf6J,gCAAYrK,CAAZ;AACA;AACH;AACJ;AACJ;AACD,aAAK,IAAIb,GAAT,IAAgB,KAAK1D,gBAArB,EAAuC;AACnC,gBAAI,KAAKU,QAAL,IAAiB,KAAKV,gBAAL,CAAsB0D,GAAtB,EAA2BC,QAA5C,IAAwD,YAAY,KAAK3D,gBAAL,CAAsB0D,GAAtB,EAA2BG,GAAnG,EAAwG;AACpG,oBAAIG,SAAS,KAAKhE,gBAAL,CAAsB0D,GAAtB,EAA2BuE,UAA3B,CAAsC/D,QAAtC,GAAiDC,KAAjD,CAAuD,GAAvD,CAAb;AACA;AACA,oBAAI0K,WAAW,EAAf;AACAA,2BAAW7K,OAAO4K,SAAP,EAAkB/G,OAAlB,CAA0B,GAA1B,EAA+B,EAA/B,EAAmC1D,KAAnC,CAAyC,GAAzC,CAAX;AACA,oBAAI0K,SAAS7I,MAAT,IAAmB,CAAvB,EAA0B;AACtB;AACA6I,6BAASrI,IAAT,CAAcqI,SAAS,CAAT,CAAd;AACH;AACD,uBAAOA,QAAP;AACH;AACJ;AACJ,KA3sBI;;AA6sBL;AACAzB,sBAAkB,0BAAS0B,UAAT,EAAqB;AACnC,YAAIC,kBAAkB,KAAKC,WAAL,CAAiB,SAAjB,CAAtB;AACA,YAAI3G,SAAS,EAAb;AACA,YAAI0G,eAAJ,EAAqB;AACjB1G,qBAAS,KAAKG,kBAAL,EAAT;AACH;AACDH,iBAAS,KAAKG,kBAAL,EAAT,CANmC,CAMC;AACpC,YAAIyG,eAAe,KAAK1G,WAAL,CAAiBF,MAAjB,CAAnB;AACA,YAAI,CAAC4G,YAAL,EAAmB;AACf,iBAAK3K,MAAL,CAAY,+BAAZ;AACA;AACH;AACD,YAAI4K,cAActQ,IAAIA,IAAIK,WAAJ,GAAkB,cAAtB,IAAwCkQ,eAAxC,CAAwD,UAAxD,CAAlB;;AAEA,YAAIhH,aAAa,KAAK6G,WAAL,CAAiB,OAAjB,CAAjB;AACA,YAAI,CAAC,CAAD,IAAM7G,UAAN,IAAoBA,cAAc8G,aAAajJ,MAAnD,EAA2D;AACvD,iBAAK1B,MAAL,CAAY,8EAAZ;AACA;AACH;AACD,YAAI8K,WAAWH,aAAa9G,UAAb,EAAyBY,SAAxC;AACA,YAAI,KAAKjH,QAAL,IAAiB,IAArB,EAA2B;AACvB,gBAAIoN,cAAcE,QAAlB,EAA4B;AAAE;AAC1B,oBAAIC,OAAOzQ,IAAIA,IAAIK,WAAJ,GAAkB,mBAAtB,IAA6CqQ,uBAA7C,CAAqE,iBAArE,CAAX;AACA1Q,oBAAIA,IAAIK,WAAJ,GAAkB,iBAAtB,IAA2CsQ,qBAA3C,CAAiE,KAAKC,SAAL,CAAeC,IAAf,CAAoB,IAApB,CAAjE,EAA4F,WAA5F,EAAyG,EAAzG;AACA7Q,oBAAIA,IAAIK,WAAJ,GAAkB,cAAtB,IAAwCgD,QAAxC,CAAiDrD,IAAIK,WAAJ,GAAkB,YAAnE,EAAiF,IAAjF,EAAuF,KAAKuD,WAAL,CAAiBkN,cAAxG,EAAwH,CAAxH,EAA2H,CAA3H,EAA8HL,IAA9H;AACA;AACH;AACJ;AACD,YAAIM,WAAWV,aAAa9G,UAAb,EAAyBS,QAAxC;AACA,YAAIgH,WAAW,EAAf;AACA,YAAIC,kBAAkB,KAAKb,WAAL,CAAiB,iBAAjB,CAAtB;AACA,YAAIc,UAAU,KAAKd,WAAL,CAAiB,SAAjB,CAAd;AACA,YAAIe,eAAe,KAAKf,WAAL,CAAiB,cAAjB,CAAnB;AACA,YAAIgB,eAAe,KAAKhB,WAAL,CAAiB,cAAjB,CAAnB;AACA,YAAIiB,UAAU,KAAKjB,WAAL,CAAiB,SAAjB,CAAd;AACA,YAAIkB,SAAS,KAAKlB,WAAL,CAAiB,QAAjB,CAAb;AACA,YAAImB,cAAc,EAAlB;AACA,YAAIC,WAAW,EAAf;AACA,YAAIC,QAAQ,EAAZ;AACA,YAAIC,QAAQ,EAAZ;AACAH,oBAAY3J,IAAZ,CAAiB,KAAKpG,MAAL,CAAYmQ,aAA7B;AACAJ,oBAAY3J,IAAZ,CAAiB,KAAKpG,MAAL,CAAYoQ,WAA7B;AACAL,oBAAY3J,IAAZ,CAAiB,KAAKpG,MAAL,CAAYqQ,WAA7B;AACA,aAAK,IAAIlM,IAAI,CAAb,EAAgBA,IAAI,KAAK1D,OAAL,CAAa,aAAb,EAA4BmF,MAAhD,EAAwDzB,GAAxD,EAA6D;AACzD,gBAAImM,UAAU,KAAK7P,OAAL,CAAa,aAAb,EAA4B0D,CAA5B,EAA+BE,cAA/B,CAA8C,WAA9C,EAA2DM,MAAzE;AACA,gBAAI2L,OAAJ,EAAa;AACT,oBAAI,KAAK7P,OAAL,CAAa,aAAb,EAA4B0D,CAA5B,EAA+B8E,SAAnC,EAA8C;AAC1C8G,gCAAY3J,IAAZ,CAAiB,KAAK3F,OAAL,CAAa,aAAb,EAA4B0D,CAA5B,EAA+B8E,SAAhD;AACH,iBAFD,MAEO;AACH8G,gCAAY3J,IAAZ,CAAiBjC,CAAjB;AACH;AACJ;AACJ;AACD,aAAK,IAAIA,MAAI,CAAb,EAAgBA,MAAI,KAAK1D,OAAL,CAAa,UAAb,EAAyBmF,MAA7C,EAAqDzB,KAArD,EAA0D;AACtD,gBAAI,KAAK1D,OAAL,CAAa,UAAb,EAAyB0D,GAAzB,EAA4BE,cAA5B,CAA2C,WAA3C,EAAwDM,MAA5D,EAAoE;AAChEqL,yBAAS5J,IAAT,CAAcjC,GAAd;AACH;AACJ;;AAED,aAAK,IAAIA,MAAI,CAAb,EAAgBA,MAAI,KAAK1D,OAAL,CAAa,OAAb,EAAsBmF,MAA1C,EAAkDzB,KAAlD,EAAuD;AACnD,gBAAI,KAAK1D,OAAL,CAAa,OAAb,EAAsB0D,GAAtB,EAAyBE,cAAzB,CAAwC,WAAxC,EAAqDM,MAAzD,EAAiE;AAC7DsL,sBAAM7J,IAAN,CAAWjC,GAAX;AACH;AACJ;AACD,aAAK,IAAIA,MAAI,CAAb,EAAgBA,MAAI,KAAK1D,OAAL,CAAa,OAAb,EAAsBmF,MAA1C,EAAkDzB,KAAlD,EAAuD;AACnD;AACA,gBAAI,KAAK1D,OAAL,CAAa,OAAb,EAAsB0D,GAAtB,EAAyBE,cAAzB,CAAwC,WAAxC,EAAqDM,MAArD,IAA+D,KAAKlE,OAAL,CAAa,aAAb,EAA4B,CAA5B,EAA+B4D,cAA/B,CAA8C,WAA9C,EAA2DM,MAA9H,EAAsI;AAClIuL,sBAAM9J,IAAN,CAAWjC,GAAX;AACH;AACJ;AACD,YAAGwL,gBAAgB,CAAnB,EAAqB;AACjBC,2BAAe,CAAC,CAAhB;AACH;AACD,YAAIF,WAAW,CAAX,IAAgBK,YAAYjK,OAAZ,CAAoB,KAAK9F,MAAL,CAAY2K,WAAhC,KAAgD,CAApE,EAAuE;AACnEoF,wBAAYQ,MAAZ,CAAmBR,YAAYjK,OAAZ,CAAoB,KAAK9F,MAAL,CAAY2K,WAAhC,CAAnB,EAAgE,CAAhE;AACH;AACD,YAAIoF,YAAYjK,OAAZ,CAAoB,KAAK9F,MAAL,CAAY2K,WAAhC,KAAgD,CAApD,EAAuD;AACnD,gBAAIoF,YAAYjK,OAAZ,CAAoB,KAAK9F,MAAL,CAAYsJ,YAAhC,KAAiD,CAArD,EAAwD;AACpDyG,4BAAYQ,MAAZ,CAAmBR,YAAYjK,OAAZ,CAAoB,KAAK9F,MAAL,CAAYsJ,YAAhC,CAAnB,EAAiE,CAAjE;AACH;AACD,gBAAIyG,YAAYjK,OAAZ,CAAoB,KAAK9F,MAAL,CAAYoK,SAAhC,KAA8C,CAAlD,EAAqD;AACjD2F,4BAAYQ,MAAZ,CAAmBR,YAAYjK,OAAZ,CAAoB,KAAK9F,MAAL,CAAYoK,SAAhC,CAAnB,EAA8D,CAA9D;AACH;AACJ;AACDoF,mBAAW;AACP,4BAAgBvH,OAAO,CAAP,CADT;AAEP,yBAAaA,OAAO,CAAP,CAFN;AAGP,wBAAYsH,QAHL;AAIP,mCAAuBZ,eAJhB;AAKP,uBAAWe,OALJ,EAKa;AACpB,+BAAmBD,eANZ;AAOP,4BAAgBE,YAPT;AAQP,4BAAgBC,YART;AASP,sBAAUE,MATH;AAUP,uBAAWD,OAVJ;AAWP,2BAAeE,WAXR;AAYP,wBAAYC,QAZL;AAaP,qBAASC,KAbF;AAcP,qBAASC;AAdF,SAAX;;AAiBA,YAAIM,UAAUhS,IAAIA,IAAIK,WAAJ,CAAgBoB,WAAhB,KAAgC,SAApC,GAAd;AACA;AACA,aAAK,IAAIwQ,IAAT,IAAiBjB,QAAjB,EAA2B;AACvB,gBAAIkB,aAAalB,SAASiB,IAAT,CAAjB;AACA,gBAAIE,kBAAkBD,UAAlB,yCAAkBA,UAAlB,CAAJ;AACA,gBAAIC,YAAY,QAAhB,EAA0B;AACtB,oBAAIC,UAAU,GAAd;AACA,qBAAK,IAAIzM,MAAI,CAAb,EAAgBA,MAAIuM,WAAW9K,MAA/B,EAAuCzB,KAAvC,EAA4C;AACxC,wBAAIA,OAAK,CAAT,EAAY;AACRyM,kCAAUF,WAAW,CAAX,IAAgB,CAA1B;AACH,qBAFD,MAEO;AACHE,kCAAUA,UAAU,GAAV,IAAiBF,WAAWvM,GAAX,IAAgB,CAAjC,CAAV;AACH;AACJ;AACDuM,6BAAaE,OAAb;AACH,aAVD,MAUO;AACH,oBAAIH,QAAQ,WAAZ,EAAyB;AACrBA,2BAAO,QAAP;AACH,iBAFD,MAEO,IAAIA,QAAQ,UAAZ,EAAwB;AAC3BA,2BAAO,OAAP;AACH,iBAFM,MAEA,IAAIA,QAAQ,qBAAZ,EAAmC;AACtCA,2BAAO,SAAP;AACH,iBAFM,MAEA,IAAIA,QAAQ,SAAZ,EAAuB;AAC1BA,2BAAO,SAAP;AACH,iBAFM,MAEA,IAAIA,QAAQ,YAAZ,EAA0B;AAC7BA,2BAAO,SAAP;AACH,iBAFM,MAEA,IAAIA,QAAQ,cAAZ,EAA4B;AAC/BA,2BAAO,gBAAP;AACH;AACDC,6BAAa,KAAK9B,WAAL,CAAiB6B,IAAjB,IAAyB,CAAtC;AACH;AACD,gBAAIhO,SAAS,CAAb;AACA,gBAAIC,UAAU,GAAd;AACA,gBAAI,KAAKhB,QAAT,EAAmB;AACfe,yBAAS,KAAKf,QAAL,CAAce,MAAvB;AACAC,0BAAU,KAAKhB,QAAL,CAAc+D,SAAxB;AACH;AACD,gBAAIgL,QAAQ,aAAZ,EAA2B;AACvB,oBAAII,cAAc,EAAlB;AACA,qBAAK,IAAI1M,MAAI,CAAb,EAAgBA,MAAI,KAAK1D,OAAL,CAAa,aAAb,EAA4BmF,MAAhD,EAAwDzB,KAAxD,EAA6D;AACzD,wBAAImM,WAAU,KAAK7P,OAAL,CAAa,aAAb,EAA4B0D,GAA5B,EAA+BE,cAA/B,CAA8C,WAA9C,EAA2DM,MAAzE;AACA,wBAAI2L,QAAJ,EAAa;AACTO,oCAAYzK,IAAZ,CAAiBjC,MAAI,CAArB;AACH;AACJ;AACD;AACA,oBAAI2M,WAAW,GAAf;AACA,qBAAK,IAAI3M,OAAI,CAAb,EAAgBA,OAAI0M,YAAYjL,MAAhC,EAAwCzB,MAAxC,EAA6C;AACzC,wBAAIA,QAAK,CAAT,EAAY;AACR2M,mCAAWD,YAAY,CAAZ,EAAe/M,QAAf,EAAX;AACH,qBAFD,MAEO;AACHgN,mCAAWA,WAAW,GAAX,GAAiBD,YAAY1M,IAAZ,CAA5B;AACH;AACJ;AACD,qBAAKrB,cAAL,CAAoB2N,IAApB,EAA0BK,QAA1B,EAAoCrO,MAApC,EAA4CC,OAA5C;AACH,aAlBD,MAkBO;AACH,qBAAKI,cAAL,CAAoB2N,IAApB,EAA0BC,UAA1B,EAAsCjO,MAAtC,EAA8CC,OAA9C;AACH;AACJ;AACD;AACA,YAAI8N,OAAJ,EAAa;AACT,gBAAI,KAAK9B,UAAL,IAAmB,KAAKA,UAA5B,EAAwC;AACpC,oBAAI,KAAKhN,QAAT,EAAmB;AACf8N,6BAAS/M,MAAT,GAAkB,KAAKf,QAAL,CAAce,MAAhC;AACA+M,6BAAS/J,SAAT,GAAqB,KAAK/D,QAAL,CAAc+D,SAAnC;AACA,wBAAI,KAAK/D,QAAL,IAAiB,IAArB,EAA2B;AACvB,4BAAIiN,mBAAmB,CAAvB,EAA0B;AACtB,iCAAKhN,oBAAL,GAA4B,CAA5B;AACH,yBAFD,MAEO,IAAIgN,mBAAmB,CAAvB,EAA0B;AAC7B,gCAAIoC,WAAW,KAAKtQ,OAAL,CAAa,SAAb,EAAwB,CAAxB,EAA2B4D,cAA3B,CAA0C,aAA1C,EAAyDA,cAAzD,CAAwE,SAAxE,EAAmF1C,oBAAlG;AACA,gCAAIqP,OAAOnL,SAAS,KAAKpF,OAAL,CAAa,SAAb,EAAwB,CAAxB,EAA2B4D,cAA3B,CAA0C,SAA1C,EAAqDzD,YAArD,CAAkElC,GAAGuS,OAArE,EAA8EtJ,MAAvF,CAAX;AACA,gCAAIqJ,OAAO,CAAP,IAAYA,OAAOD,QAAvB,EAAiC;AAC7B,qCAAKpP,oBAAL,GAA4BqP,IAA5B;AACH,6BAFD,MAEO;AACH,qCAAKrP,oBAAL,GAA4BoP,QAA5B;AACH;AACJ,yBARM,MAQA,IAAIpC,mBAAmB,CAAvB,EAA0B;AAC7B,gCAAIuC,WAAW,KAAKzQ,OAAL,CAAa,SAAb,EAAwB,CAAxB,EAA2B4D,cAA3B,CAA0C,aAA1C,EAAyDA,cAAzD,CAAwE,SAAxE,EAAmF1C,oBAAlG;AACA,gCAAIwP,OAAOtL,SAAS,KAAKpF,OAAL,CAAa,SAAb,EAAwB,CAAxB,EAA2B4D,cAA3B,CAA0C,SAA1C,EAAqDzD,YAArD,CAAkElC,GAAGuS,OAArE,EAA8EtJ,MAAvF,CAAX;AACA,gCAAIwJ,OAAO,CAAP,IAAYA,OAAOD,QAAvB,EAAiC;AAC7B,qCAAKvP,oBAAL,GAA4BwP,IAA5B;AACH,6BAFD,MAEO;AACH,qCAAKxP,oBAAL,GAA4BuP,QAA5B;AACH;AACJ;AACJ,qBApBD,MAoBO;AACH,6BAAKvP,oBAAL,GAA4B,CAA5B;AACH;AACD6N,6BAAS7N,oBAAT,GAAgC,KAAKA,oBAArC;AACA,wBAAI,KAAKA,oBAAL,GAA4B,CAAhC,EAAmC;AAC/B6N,iCAAS4B,YAAT,GAAwB,CAAxB;AACH,qBAFD,MAEO;AACH5B,iCAAS4B,YAAT,GAAwB,CAAxB;AACH;AACD1C,iCAAa,CAAb;AACH;AACJ;AACDc,qBAASd,UAAT,GAAsBA,UAAtB;AACA8B,oBAAQa,cAAR,CAAuB7B,QAAvB;AACAhR,gBAAIA,IAAIK,WAAJ,GAAkB,QAAtB,EAAgCyS,WAAhC,CAA4C,KAAKhR,QAAjD;AACA,iBAAKT,gBAAL,CAAsB0R,iBAAtB,CAAwC,YAAxC,EAAsD,cAAtD,EAAsE,KAAKjR,QAA3E;AACH;AACJ,KAz5BI;AA05BLsO,iBAAa,qBAAStL,GAAT,EAAc;AACvB,YAAI,CAAC,KAAK7C,OAAL,CAAa6C,GAAb,CAAL,EACI,OAAO,CAAC,CAAR;AACJ,aAAK,IAAIa,IAAI,CAAb,EAAgBA,IAAI,KAAK1D,OAAL,CAAa6C,GAAb,EAAkBsC,MAAtC,EAA8CzB,GAA9C,EAAmD;AAC/C,gBAAIoE,OAAO,KAAK9H,OAAL,CAAa6C,GAAb,EAAkBa,CAAlB,EAAqBE,cAArB,CAAoC,WAApC,EAAiDM,MAA5D;AACA,gBAAI4D,IAAJ,EACI,OAAOpE,CAAP;AACP;AACJ,KAl6BI;AAm6BLiL,eAAW,mBAASoC,SAAT,EAAoBrE,KAApB,EAA2BsE,WAA3B,EAAwC;AAC/C,YAAID,aAAa,MAAjB,EAAyB;AACrB;AACH;AACD,YAAI,eAAerE,KAAnB,EAA0B;AACtB;AACA;AACA;AACA;AACH;AACJ;AA76BI,CAAT","file":"pdk_UICreatRoom.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\ui","sourcesContent":["var app = require(\"pdk_app\");\r\ncc.Class({\r\n    extends: require(app.subGameName + \"_BaseForm\"),\r\n\r\n    properties: {\r\n        prefab_Toggles: cc.Prefab,\r\n\r\n        node_RightLayout: cc.Node,\r\n\r\n        scroll_Right: cc.ScrollView,\r\n        scrollTip: cc.Node,\r\n\r\n        btnCreate: cc.Node,\r\n        btnSave: cc.Node,\r\n    },\r\n\r\n    //初始化\r\n    OnCreateInit: function() {\r\n        this.roomcostConfig = this.SysDataManager.GetTableDict(\"roomcost\");\r\n        this.gameCreateConfig = this.SysDataManager.GetTableDict(\"gameCreate\");\r\n        this.LocalDataManager = app.LocalDataManager();\r\n        this.FormManager = app[app.subGameName + \"_FormManager\"]();\r\n        this.ComTool = app[app.subGameName + \"_ComTool\"]();\r\n        this.Define = app[app.subGameName.toUpperCase() + \"Define\"]();\r\n\r\n        this.RedColor1 = new cc.Color(0, 155, 46);\r\n        this.RedColor2 = new cc.Color(158, 49, 16);\r\n        this.WhiteClolor = new cc.Color(79, 79, 79);\r\n\r\n        this.gameType = '';\r\n        this.lastParentBtnIcon = null;\r\n        this.lastChildBtnIcon = null;\r\n        this.Toggles = {};\r\n\r\n        this.addPrefabWidth = 320;\r\n        this.rightPrefabSpacing = this.node_RightLayout.getComponent(cc.Layout).spacingY;\r\n\r\n        cc.find('sp_room/rightFrame/mark', this.node).on(cc.Node.EventType.TOUCH_START, this.OnRightBgClick, this);\r\n\r\n        this.RegEvent(\"CodeError\", this.Event_CodeError, this);\r\n    },\r\n    //--------------显示函数-----------------\r\n    OnShow: function(serverPack, gamename = app.subGameName + '_zz', clubData = null) {\r\n        this.clubWinnerPayConsume = 0;\r\n        this.gdToggleIndex = -1;\r\n        this.gameType = gamename;\r\n        this.clubData = clubData;\r\n        this.FormManager.ShowForm(app.subGameName + \"_UITop\", app.subGameName + \"_UICreatRoom\", true, true, false);\r\n\r\n        if (clubData && '' != clubData.enableGameType)\r\n            this.gameType = clubData.enableGameType;\r\n\r\n        this.RefreshAllToggles();\r\n        this.FormManager.CloseForm(app.subGameName + \"_UIMessageTip\");\r\n        //设置按钮\r\n        this.ShowBtn();\r\n    },\r\n\r\n    Event_CodeError: function(event) {\r\n        let codeInfo = event;\r\n        if (codeInfo[\"Code\"] == this.ShareDefine.CLUB_CreateCfgMax) {\r\n            app[app.subGameName + \"_SysNotifyManager\"]().ShowSysMsg('MSG_CLUB_CreateCfgMax');\r\n            return;\r\n        } else if (codeInfo[\"Code\"] == 5111) {\r\n            app[app.subGameName + \"_SysNotifyManager\"]().ShowSysMsg(\"获取IP有误，无法创建房间\");\r\n            return;\r\n        } else if (codeInfo[\"Code\"] == 5112) {\r\n            app[app.subGameName + \"_SysNotifyManager\"]().ShowSysMsg(\"获取定位有误，无法创建房间\");\r\n            return;\r\n        }\r\n    },\r\n    //获取创建缓存\r\n    GetLocalConfig: function(configName, clubId, roomKey) {\r\n        return cc.sys.localStorage.getItem(this.gameType + '_' + clubId + '_' + roomKey + '_' + configName);\r\n    },\r\n    SetLocalConfig: function(configName, configInfo, clubId, roomKey) {\r\n        cc.sys.localStorage.setItem(this.gameType + '_' + clubId + '_' + roomKey + '_' + configName, configInfo);\r\n    },\r\n    RefreshAllToggles: function() {\r\n        this.Toggles = {};\r\n        this.scroll_Right.stopAutoScroll();\r\n        this.node_RightLayout.removeAllChildren();\r\n\r\n        let isHideZhadanfenshu = false;\r\n        let isWuZha = false;\r\n        let helpIndex = 1; //01是总帮助\r\n        for (let key in this.gameCreateConfig) {\r\n            if (this.gameType == this.gameCreateConfig[key].GameName) {\r\n                let node = null;\r\n                let dataKey = this.gameCreateConfig[key].Key;\r\n                let toggleCount = this.gameCreateConfig[key].ToggleCount;\r\n                let AtRows = this.gameCreateConfig[key].AtRow.toString().split(',');\r\n                if (this.clubData && 'fangfei' == dataKey) {\r\n                    toggleCount = 3; //一个管理付，一个大赢家付\r\n                    AtRows = [1, 2, 3];\r\n                }\r\n                node = cc.instantiate(this.prefab_Toggles);\r\n                //需要判断添更加多的Toggle\r\n                let addCount = toggleCount - 1;\r\n                if (addCount < 0)\r\n                    this.ErrLog('gameCreate Config ToggleCount error');\r\n                else {\r\n                    for (let i = 2; i <= toggleCount; i++) {\r\n                        let prefabNode = node.getChildByName('Toggle1');\r\n                        let newNode = cc.instantiate(prefabNode);\r\n                        newNode.name = 'Toggle' + i;\r\n                        node.addChild(newNode);\r\n                    }\r\n                }\r\n\r\n                node.name = 'Toggles_' + dataKey;\r\n                node.x = 10;\r\n                let nodeHelp = node.getChildByName('btn_help');\r\n                nodeHelp.active = false;\r\n                if (this.gameCreateConfig[key].IsShowHelp) {\r\n                    nodeHelp.name = 'btn_help0' + helpIndex;\r\n                    nodeHelp.on('click', this.OnHelpBtnClick, this);\r\n                    nodeHelp.active = true;\r\n                    helpIndex++;\r\n                }\r\n\r\n\r\n                if (!this.Toggles[dataKey])\r\n                    this.Toggles[dataKey] = [];\r\n\r\n                let fristPos = {\r\n                    x: 0,\r\n                    y: 0\r\n                };\r\n                let lastPos = {\r\n                    x: 0,\r\n                    y: 0\r\n                };\r\n                for (let i = 1; i <= toggleCount; i++) {\r\n                    let curNode = node.getChildByName('Toggle' + i);\r\n                    if (curNode) {\r\n                        //位置宽高设置下\r\n                        //记录下第一个的位置方便换行\r\n                        if (1 == i) {\r\n                            fristPos.x = curNode.x;\r\n                            fristPos.y = curNode.y;\r\n                            lastPos.x = curNode.x;\r\n                            lastPos.y = curNode.y;\r\n                        } else if (1 < i) { //第1个以后都是新增的\r\n                            if (AtRows[i - 2] != AtRows[i - 1]) {\r\n                                curNode.x = fristPos.x;\r\n                                curNode.y = lastPos.y - curNode.height - this.rightPrefabSpacing;\r\n                                node.height = node.height + curNode.height + this.rightPrefabSpacing;\r\n                            } else {\r\n                                curNode.x = lastPos.x + this.addPrefabWidth;\r\n                                curNode.y = lastPos.y;\r\n                            }\r\n                        }\r\n                        lastPos.x = curNode.x;\r\n                        lastPos.y = curNode.y;\r\n\r\n                        curNode.on(cc.Node.EventType.TOUCH_START, this.OnToggleClick, this);\r\n                        let checkNode = curNode.getChildByName('checkmark');\r\n                        let icon_selectBg = curNode.getChildByName('icon_selectBg');\r\n                        let showList = this.gameCreateConfig[key].ShowIndexs.toString().split(',');\r\n                        //尝试获取缓存\r\n                        let clubId = 0;\r\n                        let roomKey = '0';\r\n                        let linshi = null;\r\n                        if (this.clubData) {\r\n                            clubId = this.clubData.clubId;\r\n                            roomKey = this.clubData.gameIndex;\r\n                            linshi = this.GetLocalConfig(this.gameCreateConfig[key].Key, clubId, roomKey);\r\n                        }\r\n                        //第一次创建俱乐部房间没有roomKey为0\r\n                        if (!linshi)\r\n                            linshi = this.GetLocalConfig(this.gameCreateConfig[key].Key, clubId, '0');\r\n                        if (linshi) {\r\n                            let linshiList = linshi.split(',');\r\n                            for (let j = 0; j < linshiList.length; j++) { //缓存可能出BUG(配置删除了按钮数量)\r\n                                if (parseInt(linshiList[j]) > toggleCount) {\r\n                                    linshiList = ['1'];\r\n                                    break;\r\n                                }\r\n                            }\r\n                            showList = linshiList;\r\n                        }\r\n                        if (this.clubData && 'fangfei' == dataKey)\r\n                            showList = [3];\r\n                        if (dataKey == \"kexuanwanfa\") {\r\n                            if (showList.indexOf(\"12\") > -1) {\r\n                                isWuZha = true;\r\n                            }\r\n                        }\r\n                        if (dataKey == 'zhadansuanfa' && !isWuZha) {\r\n                            if (linshi == 3) {\r\n                                isHideZhadanfenshu = true;\r\n                            }\r\n                        }\r\n                        //尝试获取缓存\r\n                        if (0 == this.gameCreateConfig[key].ToggleType && 1 != showList.length)\r\n                            this.ErrLog('gameCreate Config ToggleType and ShowIndexs error');\r\n\r\n                        if (1 == this.gameCreateConfig[key].ToggleType) { //多选的图片设置下(不放上面是因为路径)\r\n                            let imgPath = 'texture/ui/' + app.subGameName + '_UICreateRoom/icon_checkin02';\r\n                            node.addComponent(cc.Toggle);\r\n                            this.SetNodeImageByFilePath(checkNode, imgPath);\r\n                            this.SetNodeImageByFilePath(icon_selectBg, 'texture/ui/' + app.subGameName + '_UICreateRoom/icon_check02');\r\n                        }\r\n\r\n                        for (let j = 0; j < showList.length; j++) {\r\n                            if (i == parseInt(showList[j])) {\r\n                                checkNode.active = true;\r\n                                break;\r\n                            } else {\r\n                                checkNode.active = false;\r\n                            }\r\n                        }\r\n                        this.Toggles[dataKey].push(curNode);\r\n\r\n                    }\r\n                }\r\n                this.UpdateTogglesLabel(node);\r\n                this.UpdateLabelColor(node);\r\n                this.node_RightLayout.addChild(node);\r\n                let line = this.scroll_Right.node.getChildByName('line');\r\n                let addline = cc.instantiate(line);\r\n                addline.active = true;\r\n                this.node_RightLayout.addChild(addline);\r\n            }\r\n        }\r\n        this.setHelpBtnPos();\r\n        this.scroll_Right.scrollToTop();\r\n        //如果可以滚动，显示滚动提示节点\r\n        if (this.node_RightLayout.height > this.scroll_Right.node.height) {\r\n            this.scrollTip.active = true;\r\n        } else {\r\n            this.scrollTip.active = false;\r\n        }\r\n        if (!isWuZha) {\r\n            this.Toggles['zhadanfenshu'][0].parent.active = !isHideZhadanfenshu;\r\n        } else {\r\n            this.Toggles['zhadansuanfa'][0].parent.active = false;\r\n            this.Toggles['zhadanfenshu'][0].parent.active = false;\r\n        }\r\n        this.UpdateOnClickToggle();\r\n\r\n    },\r\n\r\n    OnClose: function() {\r\n\r\n    },\r\n    ShowBtn: function() {\r\n        if (this.clubData) {\r\n            this.btnCreate.active = false;\r\n            this.btnSave.active = false;\r\n            if (0 == this.clubData.gameIndex)\r\n                this.btnCreate.active = true;\r\n            else\r\n                this.btnSave.active = true;\r\n        } else {\r\n            this.btnCreate.active = true;\r\n            this.btnSave.active = false;\r\n\r\n        }\r\n    },\r\n    UpdateTogglesLabel: function(TogglesNode) {\r\n        let curKey = TogglesNode.name.substring(('Toggles_').length, TogglesNode.name.length);\r\n        let reg = /\\/s/g;\r\n        for (let key in this.gameCreateConfig) {\r\n            if (this.gameType == this.gameCreateConfig[key].GameName) {\r\n                if (curKey == this.gameCreateConfig[key].Key) {\r\n                    let AAfangfeiDatas = [];\r\n                    let WinfangfeiDatas = [];\r\n                    let FangZhufangfeiDatas = [];\r\n                    let clubFangFeiDatas = [];\r\n                    let clubWinFangFeiDatas = [];\r\n                    let title = this.gameCreateConfig[key].Title.replace(reg, ' ');\r\n                    TogglesNode.getChildByName('title').getComponent(cc.Label).string = title;\r\n                    let descList = [];\r\n                    if ('jushu' != curKey) { //局数读roomcost\r\n                        descList = this.gameCreateConfig[key].ToggleDesc.split(',');\r\n                        if (this.clubData && 'fangfei' == curKey)\r\n                            descList = ['管理付', 'AA付', '胜家付'];\r\n                        if (descList.length != TogglesNode.children.length - 2) { //减去标题和帮助按钮\r\n                            this.ErrLog('gameCreate config ToggleDesc and Toggle count error');\r\n                            break;\r\n                        }\r\n                    }\r\n                    let jushuIndex = -1;\r\n                    let renshuIndex = -1;\r\n                    let renshu = []; //0表示读房主支付配置\r\n                    if ('renshu' == curKey || 'fangfei' == curKey || 'jushu' == curKey) {\r\n\r\n                        let publicCosts = this.getCostData(renshu);\r\n\r\n                        if (this.Toggles['renshu'])\r\n                            renshu = this.getCurSelectRenShu();\r\n\r\n                        let SpiltCosts = this.getCostData(renshu);\r\n                        let curCostData = null;\r\n                        if (0 == renshu.length) {\r\n                            curCostData = publicCosts;\r\n                        } else {\r\n                            curCostData = SpiltCosts;\r\n                        }\r\n                        if (this.Toggles['jushu']) {\r\n                            jushuIndex = 0;\r\n                            for (let i = 0; i < this.Toggles['jushu'].length; i++) {\r\n                                let mark = this.Toggles['jushu'][i].getChildByName('checkmark').active;\r\n                                if (mark) {\r\n                                    jushuIndex = i;\r\n                                    break;\r\n                                }\r\n                                jushuIndex++;\r\n                            }\r\n                            for (let i = 0; i < curCostData.length; i++) {\r\n                                this.Toggles['jushu'][i].getChildByName('label').getComponent(cc.Label).string = curCostData[i].SetCount + '局';\r\n                            }\r\n                        }\r\n                        if (this.Toggles['fangfei'] && -1 != jushuIndex) {\r\n                            if (jushuIndex < publicCosts.length) {\r\n                                AAfangfeiDatas.push(publicCosts[jushuIndex].AaCostCount);\r\n                                WinfangfeiDatas.push(publicCosts[jushuIndex].WinCostCount);\r\n                                FangZhufangfeiDatas.push(publicCosts[jushuIndex].CostCount);\r\n\r\n                                clubFangFeiDatas.push(publicCosts[jushuIndex].ClubCount);\r\n                                clubWinFangFeiDatas.push(publicCosts[jushuIndex].ClubWinCostCount);\r\n                            }\r\n                            if (jushuIndex < SpiltCosts.length) {\r\n                                AAfangfeiDatas.push(SpiltCosts[jushuIndex].AaCostCount);\r\n                                WinfangfeiDatas.push(SpiltCosts[jushuIndex].WinCostCount);\r\n                                FangZhufangfeiDatas.push(SpiltCosts[jushuIndex].CostCount);\r\n\r\n                                clubFangFeiDatas.push(SpiltCosts[jushuIndex].ClubCount);\r\n                                clubWinFangFeiDatas.push(SpiltCosts[jushuIndex].ClubWinCostCount);\r\n                            }\r\n                        }\r\n                    }\r\n                    if ('jushu' != curKey) {\r\n                        let descInde = 0;\r\n                        for (let i = 0; i < TogglesNode.children.length; i++) {\r\n                            if (TogglesNode.children[i].name.startsWith('Toggle')) {\r\n                                TogglesNode.children[i].getChildByName('label').getComponent(cc.Label).string = descList[descInde];\r\n                                descInde++;\r\n                            }\r\n                        }\r\n                    }\r\n                    if (\"kexuanwanfa\" == curKey) {\r\n                        this.Toggles['kexuanwanfa'][this.Define.PDKSHOWCARDNUM].serverIdx = this.Define.SEVER_SHOWCARDNUM;\r\n                        this.Toggles['kexuanwanfa'][this.Define.PDKBMUSTBOMB].serverIdx = this.Define.SEVER_BMUSTBOMB;\r\n                        this.Toggles['kexuanwanfa'][this.Define.PDKMAXAAA].serverIdx = this.Define.SEVER_MAXAAA;\r\n                        this.Toggles['kexuanwanfa'][this.Define.PDKHONGTAO10ZHANIAO].serverIdx = this.Define.SEVER_HONGTAO10ZHANIAO;\r\n                        this.Toggles['kexuanwanfa'][this.Define.PDKFIRST3NOCHU3].serverIdx = this.Define.SEVER_FIRST3NOCHU3;\r\n                        this.Toggles['kexuanwanfa'][this.Define.PDKSHOUDONGGUO].serverIdx = this.Define.SEVER_SHOUDONGGUO;\r\n                        this.Toggles['kexuanwanfa'][this.Define.PDKAUTOREADY].serverIdx = this.Define.SEVER_AUTOREADY;\r\n                        this.Toggles['kexuanwanfa'][this.Define.PDKWEIZHANGSUANFEN].serverIdx = this.Define.SEVER_WEIZHANGSUANFEN;\r\n                        this.Toggles['kexuanwanfa'][this.Define.PDKWUZHA].serverIdx = this.Define.SEVER_WUZHA;\r\n                        this.Toggles['kexuanwanfa'][this.Define.PDKAAA].serverIdx = this.Define.SEVER_AAA;\r\n                        this.Toggles['kexuanwanfa'][this.Define.PDKFANGZUOBI].serverIdx = this.Define.SEVER_FANGZUOBI;\r\n                        this.Toggles['kexuanwanfa'][this.Define.PDKBISAIFENBUDIYULING].serverIdx = this.Define.SEVER_BISAIFENBUDIYULING;\r\n                        this.Toggles['kexuanwanfa'][this.Define.PDKZHIYINGDANGQIANSHENSHANGFEN].serverIdx = this.Define.SEVER_ZHIYINGDANGQIANSHENSHANGFEN;\r\n                        if(this.Toggles['kexuanwanfa'][16]) this.Toggles['kexuanwanfa'][16].serverIdx = this.Define.SEVER_2A_22;\r\n                    }\r\n\r\n                    if (0 != AAfangfeiDatas.length) {\r\n                        let needCount = AAfangfeiDatas[AAfangfeiDatas.length - 1];\r\n                        let ffNodes = this.Toggles['fangfei'];\r\n                        let hasHideNode = false;\r\n                        for (let s = 0; s < ffNodes.length; s++) {\r\n                            let needNode = ffNodes[s].getChildByName('fangfeiNode');\r\n                            needNode.active = true;\r\n                            if (hasHideNode) {\r\n                                needNode.parent.x = needNode.parent.x - this.addPrefabWidth;\r\n                                hasHideNode = false;\r\n                            }\r\n                            //如果房费配的是0，则隐藏\r\n                            if (needCount <= 0 && 1 == s) {\r\n                                needNode.parent.active = false;\r\n                                hasHideNode = true;\r\n                                continue;\r\n                            }\r\n                            if (this.clubData == null) {\r\n                                if (0 == s)\r\n                                    needNode.getChildByName('needNum').getComponent(cc.Label).string = 'x' + FangZhufangfeiDatas[FangZhufangfeiDatas.length - 1];\r\n                                else if (1 == s)\r\n                                    needNode.getChildByName('needNum').getComponent(cc.Label).string = 'x' + AAfangfeiDatas[AAfangfeiDatas.length - 1];\r\n                                else {\r\n                                    needNode.getChildByName('needNum').getComponent(cc.Label).string = 'x' + WinfangfeiDatas[WinfangfeiDatas.length - 1];\r\n                                }\r\n                            } else {\r\n                                if (0 == s)\r\n                                    needNode.getChildByName('needNum').getComponent(cc.Label).string = 'x' + renshu[0] * AAfangfeiDatas[AAfangfeiDatas.length - 1];\r\n                                else if (1 == s) {\r\n                                    needNode.getChildByName('icon').active = false;\r\n                                    needNode.getChildByName('icon_qk').active = true;\r\n                                    needNode.getChildByName('needNum').getComponent(cc.Label).string = 'x' + clubFangFeiDatas[clubFangFeiDatas.length - 1];\r\n                                    needNode.getChildByName('needNum').clubWinnerPayConsume = clubFangFeiDatas[clubFangFeiDatas.length - 1];\r\n                                    ffNodes[s].getChildByName('editbox').active = true;\r\n                                } else {\r\n                                    needNode.getChildByName('icon').active = false;\r\n                                    needNode.getChildByName('icon_qk').active = true;\r\n                                    needNode.getChildByName('needNum').getComponent(cc.Label).string = 'x' + clubWinFangFeiDatas[clubWinFangFeiDatas.length - 1];\r\n                                    needNode.getChildByName('needNum').clubWinnerPayConsume = clubWinFangFeiDatas[clubWinFangFeiDatas.length - 1];\r\n                                    ffNodes[s].getChildByName('editbox').active = true;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    UpdateLabelColor: function(TogglesNode) {\r\n        for (let i = 0; i < TogglesNode.children.length; i++) {\r\n            let toggleNode = TogglesNode.children[i];\r\n            if (toggleNode.name.startsWith('Toggle')) {\r\n                let isChecked = toggleNode.getChildByName('checkmark').active;\r\n                for (let j = 0; j < toggleNode.children.length; j++) {\r\n                    let label = toggleNode.children[j].getComponent(cc.Label);\r\n                    if (null != label) {\r\n                        if (isChecked) {\r\n                            toggleNode.children[j].color = this.RedColor1;\r\n                        } else {\r\n                            toggleNode.children[j].color = this.RedColor2;\r\n                        }\r\n                    }\r\n                    let fangkaNode = toggleNode.getChildByName('fangfeiNode');\r\n                    if (fangkaNode.active) {\r\n                        label = null;\r\n                        for (let s = 0; s < fangkaNode.children.length; s++) {\r\n                            label = fangkaNode.children[s].getComponent(cc.Label);\r\n                            if (null != label) {\r\n                                if (isChecked) {\r\n                                    fangkaNode.children[s].color = this.RedColor1;\r\n                                } else {\r\n                                    fangkaNode.children[s].color = this.RedColor2;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    setHelpBtnPos: function() { //垃圾label控件自适应宽度有BUG草泥马\r\n        let helpNode = null;\r\n        let lastNode = null;\r\n        let Toggles = null;\r\n        for (let j = 0; j < this.node_RightLayout.children.length; j++) {\r\n            if (j % 2 == 1) {\r\n                continue;\r\n            }\r\n            Toggles = this.node_RightLayout.children[j];\r\n            helpNode = null;\r\n            lastNode = null;\r\n            for (let i = 0; i < Toggles.children.length; i++) {\r\n                if (Toggles.children[i].name.startsWith('Toggle'))\r\n                    lastNode = Toggles.children[i];\r\n                else if (Toggles.children[i].name.startsWith('btn_help'))\r\n                    helpNode = Toggles.children[i];\r\n\r\n                if (helpNode && helpNode.active && lastNode) {\r\n                    let labelNode = lastNode.getChildByName('label');\r\n                    let str = lastNode.getChildByName('label').getComponent(cc.Label);\r\n                    let maxWidth = 0;\r\n                    let label = lastNode.getChildByName('label');\r\n                    if (label) {\r\n                        maxWidth = label.x + label.width;\r\n                        label = null;\r\n                    }\r\n                    let fangfeiNode = lastNode.getChildByName('fangfeiNode');\r\n                    if (fangfeiNode.active) {\r\n                        for (let n = 0; n < fangfeiNode.children.length; n++) {\r\n                            let label = fangfeiNode.children[n].getComponent(cc.Label);\r\n                            if (label) {\r\n                                maxWidth = fangfeiNode.x + label.node.x + label.node.width;\r\n                                label = null;\r\n                            }\r\n                        }\r\n                    }\r\n                    helpNode.x = lastNode.x + maxWidth + 60;\r\n                    helpNode.y = lastNode.y;\r\n                }\r\n            }\r\n        }\r\n    },\r\n    getCostData: function(renshu) { //renshu =0 房主支付\r\n        let costs = [];\r\n        if (renshu.length != 2) {\r\n            return costs;\r\n        }\r\n        for (let key in this.roomcostConfig) {\r\n            if (this.gameType.toUpperCase() == this.roomcostConfig[key].GameType &&\r\n                parseInt(renshu[0]) == this.roomcostConfig[key].PeopleMin &&\r\n                parseInt(renshu[1]) == this.roomcostConfig[key].PeopleMax) {\r\n                costs.push(this.roomcostConfig[key]);\r\n            }\r\n\r\n        }\r\n        if (0 == costs.length)\r\n            this.ErrLog('roomcost Config error');\r\n        return costs;\r\n    },\r\n    OnClickForm: function() {\r\n        this.FormManager.CloseForm(app.subGameName + \"_UIMessageTip\");\r\n    },\r\n\r\n    //---------点击函数---------------------\r\n    OnHelpBtnClick: function(event) {\r\n        let btnNode = event.target;\r\n        let btnName = btnNode.name;\r\n        if (btnName.startsWith(\"btn_help\")) {\r\n            this.Click_btn_help(btnName, btnNode);\r\n        }\r\n    },\r\n    OnToggleClick: function(event) {\r\n        this.FormManager.CloseForm(app.subGameName + \"_UIMessageTip\");\r\n        let toggles = event.target.parent;\r\n        let toggle = event.target;\r\n        let key = toggles.name.substring(('Toggles_').length, toggles.name.length);\r\n        let toggleIndex = parseInt(toggle.name.substring(('Toggle').length, toggle.name.length)) - 1;\r\n        let needClearList = [];\r\n        let needShowIndexList = [];\r\n        needClearList = this.Toggles[key];\r\n        needShowIndexList.push(toggleIndex);\r\n        if ('jushu' == key || 'renshu' == key || 'fangfei' == key) {\r\n            this.ClearToggleCheck(needClearList, needShowIndexList);\r\n            this.UpdateLabelColor(toggles);\r\n            // this.UpdateTogglesLabel(toggles);\r\n            return;\r\n        } else if ('kexuanwanfa' == key) {\r\n            //每局先出黑桃3和首局先出黑桃3不能同时选择\r\n            if (this.Toggles['kexuanwanfa'][0].getChildByName('checkmark').active && toggleIndex == 1) {\r\n                this.Toggles['kexuanwanfa'][0].getChildByName('checkmark').active = false;\r\n                this.UpdateLabelColor(this.Toggles['kexuanwanfa'][0].parent);\r\n            } else if (this.Toggles['kexuanwanfa'][1].getChildByName('checkmark').active && toggleIndex == 0) {\r\n                this.Toggles['kexuanwanfa'][1].getChildByName('checkmark').active = false;\r\n                this.UpdateLabelColor(this.Toggles['kexuanwanfa'][1].parent);\r\n            }\r\n            //每局先出黑桃3和首局先出黑桃3必须选择一项\r\n            if (this.Toggles['kexuanwanfa'][0].getChildByName('checkmark').active && toggleIndex == 0) {\r\n                return;\r\n            }\r\n            if (this.Toggles['kexuanwanfa'][1].getChildByName('checkmark').active && toggleIndex == 1) {\r\n                return;\r\n            }\r\n            //3A不为炸不能选择3A为最大炸\r\n            if (!this.Toggles['kexuanwanfa'][12].getChildByName('checkmark').active && toggleIndex == 5) {\r\n                // app.SysNotifyManager().ShowSysMsg(\"未勾选3A为炸时，不可选择3A为最大炸\");\r\n                app[app.subGameName + \"_SysNotifyManager\"]().ShowSysMsg(\"3A不为炸\");\r\n                return;\r\n            }\r\n            if (toggleIndex == 12 && this.Toggles['kexuanwanfa'][toggleIndex].getChildByName('checkmark').active) {\r\n                this.Toggles['kexuanwanfa'][5].getChildByName('checkmark').active = false\r\n            }\r\n            if (toggleIndex == 5 || toggleIndex == 12) {\r\n                if (this.Toggles['shoupai'][0].getChildByName('checkmark').active) {\r\n                    app[app.subGameName + \"_SysNotifyManager\"]().ShowSysMsg(\"15张玩法下没有3张A\");\r\n                    return;\r\n                }\r\n            }\r\n            if (toggleIndex == 16) {\r\n                if (this.Toggles['shoupai'][0].getChildByName('checkmark').active) {\r\n                    app[app.subGameName + \"_SysNotifyManager\"]().ShowSysMsg(\"15张玩法下没有双A双2\");\r\n                    return;\r\n                }\r\n            }\r\n            //无炸\r\n            if (toggleIndex == 11) {\r\n                if (!this.Toggles['kexuanwanfa'][toggleIndex].getChildByName('checkmark').active) {\r\n                    this.Toggles['zhadansuanfa'][0].parent.active = false;\r\n                    this.Toggles['zhadanfenshu'][0].parent.active = false;\r\n                } else {\r\n                    this.Toggles['zhadansuanfa'][0].parent.active = true;\r\n                    if (!this.Toggles['zhadansuanfa'][2].getChildByName('checkmark').active) {\r\n                        this.Toggles['zhadanfenshu'][0].parent.active = true;\r\n                    }\r\n                }\r\n            }\r\n\r\n        } else if ('zhadansuanfa' == key) {\r\n            if (toggleIndex == 2) { //选择炸弹不算分后，下方炸弹分数不可见\r\n                this.Toggles['zhadanfenshu'][0].parent.active = false;\r\n            } else {\r\n                this.Toggles['zhadanfenshu'][0].parent.active = true;\r\n            }\r\n        } else if ('shoupai' == key) {\r\n            if (toggleIndex == 0) {\r\n                this.Toggles['kexuanwanfa'][5].getChildByName('checkmark').active = false;\r\n                this.Toggles['kexuanwanfa'][12].getChildByName('checkmark').active = false;\r\n                if(this.Toggles['kexuanwanfa'][16]) this.Toggles['kexuanwanfa'][16].getChildByName('checkmark').active = false;\r\n            }\r\n        } else {\r\n\r\n        }\r\n        if (toggles.getComponent(cc.Toggle)) { //复选框\r\n            needShowIndexList = [];\r\n            for (let i = 0; i < needClearList.length; i++) {\r\n                let mark = needClearList[i].getChildByName('checkmark').active;\r\n                //如果复选框为勾选状态并且点击的复选框不是该复选框，则继续保持勾选状态\r\n                if (mark && i != toggleIndex) {\r\n                    needShowIndexList.push(i);\r\n                }\r\n                //如果复选框为未勾选状态并且点击的复选框是该复选框，则切换为勾选状态\r\n                else if (!mark && i == toggleIndex) {\r\n                    needShowIndexList.push(i);\r\n                }\r\n            }\r\n        }\r\n        this.ClearToggleCheck(needClearList, needShowIndexList);\r\n        this.UpdateLabelColor(toggles, 'fangfei' == key ? true : false);\r\n        this.UpdateOnClickToggle();\r\n    },\r\n    UpdateOnClickToggle: function() {\r\n        if (this.Toggles[\"sidai\"]) {\r\n            if (this.Toggles[\"kexuanwanfa\"][4].getChildByName(\"checkmark\").active) {\r\n                this.Toggles['sidai'][0].parent.active = true;\r\n            } else {\r\n                this.Toggles['sidai'][0].parent.active = false;\r\n            }\r\n        }\r\n    },\r\n    ClearToggleCheck: function(toggles, showIndexList) {\r\n        for (let i = 0; i < toggles.length; i++)\r\n            toggles[i].getChildByName('checkmark').active = false;\r\n\r\n        if (showIndexList) {\r\n            for (let i = 0; i < toggles.length; i++) {\r\n                for (let j = 0; j < showIndexList.length; j++) {\r\n                    if (i == showIndexList[j])\r\n                        toggles[i].getChildByName('checkmark').active = true;\r\n                }\r\n            }\r\n        }\r\n    },\r\n    OnRightBgClick: function(event) {\r\n        this.FormManager.CloseForm(app.subGameName + \"_UIMessageTip\");\r\n    },\r\n    //滑动结束\r\n    OnScrollEnded: function() {\r\n        this.scrollTip.active = false;\r\n    },\r\n    OnClick: function(btnName, btnNode) {\r\n        if ('btn_create' == btnName) {\r\n            this.Click_btn_create(1);\r\n            this.FormManager.CloseForm(app.subGameName + \"_UIMessageTip\");\r\n        } else if ('btn_save' == btnName) {\r\n            this.Click_btn_create(3);\r\n            this.FormManager.CloseForm(app.subGameName + \"_UIMessageTip\");\r\n        } else if ('btn_close' == btnName) {\r\n            this.FormManager.CloseForm(app.subGameName + \"_UIMessageTip\");\r\n            this.CloseForm();\r\n        } else if ('rightFrame' == btnName)\r\n            this.FormManager.CloseForm(app.subGameName + \"_UIMessageTip\");\r\n        else if (btnName == \"btn_help01\") {\r\n            this.FormManager.ShowForm(app.subGameName + \"_UIGameHelp\");\r\n            // this.FormManager.CloseForm(app.subGameName + \"_UIMessageTip\");\r\n        } else if (btnName.startsWith(\"Toggle\")) {\r\n            this.FormManager.CloseForm(app.subGameName + \"_UIMessageTip\");\r\n        } else {\r\n            this.FormManager.CloseForm(app.subGameName + \"_UIMessageTip\");\r\n            this.ErrLog(\"OnClick(%s) not find\", btnName);\r\n        }\r\n\r\n    },\r\n\r\n    Click_btn_help: function(btnName, btnNode) {\r\n        let that = this;\r\n        let gameType = this.gameType;\r\n        let curIndex = btnName.substring(('btn_help0').length, btnName.length);\r\n        let msgID = 'UIMessageTip_Help' + curIndex + '_' + gameType\r\n        this.FormManager.ShowForm(app.subGameName + \"_UIMessageTip\", msgID)\r\n            .then(function(formComponent) {\r\n                let wndSize = formComponent.GetMsgWndSize();\r\n                let btnNodeParentPosition = btnNode.parent.convertToWorldSpaceAR(btnNode.getPosition());\r\n                let btnX = btnNodeParentPosition.x - that.node.width / 2 - wndSize.width / 2 - btnNode.width / 2;\r\n                let btnY = 0;\r\n                if (wndSize.height > that.node.height / 2)\r\n                    btnY = that.node.convertToWorldSpaceAR(that.node.getPosition()).y - that.node.height / 2;\r\n                else\r\n                    btnY = btnNodeParentPosition.y - that.node.height / 2; - wndSize.height / 2 + btnNode.height / 2;\r\n                formComponent.SetFormPosition(cc.v2(btnX, btnY));\r\n            })\r\n            .catch(function(error) {\r\n                that.ErrLog(\"error:%s\", error.stack);\r\n            })\r\n    },\r\n    close: function() {\r\n        this.FormManager.CloseForm(\"UICreatRoom\");\r\n    },\r\n    Click_btn_buy: function() {\r\n        let clientConfig = app[app.subGameName + \"Client\"].GetClientConfig();\r\n        if (app.PackDefine.APPLE_CHECK == clientConfig[\"appPackType\"]) return\r\n        this.FormManager.ShowForm(\"UIStore\");\r\n    },\r\n    getCurSelectRenShu: function() {\r\n        let renshu = 0;\r\n        let needIndex = -1;\r\n        if (this.Toggles['renshu']) {\r\n            for (let i = 0; i < this.Toggles['renshu'].length; i++) {\r\n                let toggle = this.Toggles['renshu'][i].getChildByName('checkmark');\r\n                if (toggle.active) {\r\n                    needIndex = i;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        for (let key in this.gameCreateConfig) {\r\n            if (this.gameType == this.gameCreateConfig[key].GameName && 'renshu' == this.gameCreateConfig[key].Key) {\r\n                let AtRows = this.gameCreateConfig[key].ToggleDesc.toString().split(',');\r\n                // return AtRows[needIndex].replace('人','').replace('2-','');\r\n                let AtRowArr = [];\r\n                AtRowArr = AtRows[needIndex].replace('人', '').split('-');\r\n                if (AtRowArr.length == 1) {\r\n                    //只是固定人数，没有配置浮动人数，最大最小都一样\r\n                    AtRowArr.push(AtRowArr[0]);\r\n                }\r\n                return AtRowArr;\r\n            }\r\n        }\r\n    },\r\n\r\n    //创建房间\r\n    Click_btn_create: function(createType) {\r\n        let isSpiltRoomCard = this.GetIdxByKey('fangfei');\r\n        let renshu = [];\r\n        if (isSpiltRoomCard) {\r\n            renshu = this.getCurSelectRenShu();\r\n        }\r\n        renshu = this.getCurSelectRenShu(); //发给服务器人数用选的\r\n        let needCostData = this.getCostData(renshu);\r\n        if (!needCostData) {\r\n            this.ErrLog('Click_btn_create Not CostData');\r\n            return;\r\n        }\r\n        let hasRoomCard = app[app.subGameName + \"_HeroManager\"]().GetHeroProperty(\"roomCard\");\r\n\r\n        let jushuIndex = this.GetIdxByKey('jushu');\r\n        if (-1 == jushuIndex || jushuIndex >= needCostData.length) {\r\n            this.ErrLog('Click_btn_create error -1 == jushuIndex || jushuIndex >= needCostData.length');\r\n            return;\r\n        }\r\n        let costCoun = needCostData[jushuIndex].CostCount;\r\n        if (this.clubData == null) {\r\n            if (hasRoomCard < costCoun) { //金币不足\r\n                let desc = app[app.subGameName + \"_SysNotifyManager\"]().GetSysMsgContentByMsgID(\"MSG_NotRoomCard\");\r\n                app[app.subGameName + \"_ConfirmManager\"]().SetWaitForConfirmForm(this.OnConFirm.bind(this), \"goBuyCard\", []);\r\n                app[app.subGameName + \"_FormManager\"]().ShowForm(app.subGameName + \"_UIMessage\", null, this.ShareDefine.ConfirmBuyGoTo, 0, 0, desc)\r\n                return;\r\n            }\r\n        }\r\n        let setCount = needCostData[jushuIndex].SetCount;\r\n        let sendPack = {};\r\n        let fangjianxianshi = this.GetIdxByKey('fangjianxianshi');\r\n        let shoupai = this.GetIdxByKey('shoupai');\r\n        let zhadansuanfa = this.GetIdxByKey('zhadansuanfa');\r\n        let zhadanfenshu = this.GetIdxByKey('zhadanfenshu');\r\n        let xianShi = this.GetIdxByKey('xianShi');\r\n        let jiesan = this.GetIdxByKey('jiesan');\r\n        let kexuanwanfa = [];\r\n        let fangjian = [];\r\n        let gaoji = [];\r\n        let sidai = [];\r\n        kexuanwanfa.push(this.Define.SEVER_ROBDOOR);\r\n        kexuanwanfa.push(this.Define.SEVER_DAI31);\r\n        kexuanwanfa.push(this.Define.SEVER_DAI32);\r\n        for (let i = 0; i < this.Toggles['kexuanwanfa'].length; i++) {\r\n            let isCheck = this.Toggles['kexuanwanfa'][i].getChildByName('checkmark').active;\r\n            if (isCheck) {\r\n                if (this.Toggles['kexuanwanfa'][i].serverIdx) {\r\n                    kexuanwanfa.push(this.Toggles['kexuanwanfa'][i].serverIdx);\r\n                } else {\r\n                    kexuanwanfa.push(i);\r\n                }\r\n            }\r\n        }\r\n        for (let i = 0; i < this.Toggles['fangjian'].length; i++) {\r\n            if (this.Toggles['fangjian'][i].getChildByName('checkmark').active) {\r\n                fangjian.push(i);\r\n            }\r\n        }\r\n\r\n        for (let i = 0; i < this.Toggles['gaoji'].length; i++) {\r\n            if (this.Toggles['gaoji'][i].getChildByName('checkmark').active) {\r\n                gaoji.push(i);\r\n            }\r\n        }\r\n        for (let i = 0; i < this.Toggles['sidai'].length; i++) {\r\n            //炸弹可拆\r\n            if (this.Toggles['sidai'][i].getChildByName('checkmark').active && this.Toggles['kexuanwanfa'][4].getChildByName('checkmark').active) {\r\n                sidai.push(i);\r\n            }\r\n        }\r\n        if(zhadansuanfa == 2){\r\n            zhadanfenshu = -1;\r\n        }\r\n        if (shoupai != 1 && kexuanwanfa.indexOf(this.Define.SEVER_2A_22) >= 0) {\r\n            kexuanwanfa.splice(kexuanwanfa.indexOf(this.Define.SEVER_2A_22),1)\r\n        }\r\n        if (kexuanwanfa.indexOf(this.Define.SEVER_2A_22) >= 0) {\r\n            if (kexuanwanfa.indexOf(this.Define.SEVER_MAXAAA) >= 0) {\r\n                kexuanwanfa.splice(kexuanwanfa.indexOf(this.Define.SEVER_MAXAAA),1)\r\n            }\r\n            if (kexuanwanfa.indexOf(this.Define.SEVER_AAA) >= 0) {\r\n                kexuanwanfa.splice(kexuanwanfa.indexOf(this.Define.SEVER_AAA),1)\r\n            }\r\n        }\r\n        sendPack = {\r\n            \"playerMinNum\": renshu[0],\r\n            \"playerNum\": renshu[1],\r\n            \"setCount\": setCount,\r\n            \"paymentRoomCardType\": isSpiltRoomCard,\r\n            \"shoupai\": shoupai, //跑得快牌型     0-15张牌  1-16张牌\r\n            \"fangjianxianshi\": fangjianxianshi,\r\n            \"zhadansuanfa\": zhadansuanfa,\r\n            \"zhadanfenshu\": zhadanfenshu,\r\n            \"jiesan\": jiesan,\r\n            \"xianShi\": xianShi,\r\n            \"kexuanwanfa\": kexuanwanfa,\r\n            \"fangjian\": fangjian,\r\n            \"gaoji\": gaoji,\r\n            \"sidai\": sidai,\r\n        };\r\n\r\n        let roomMgr = app[app.subGameName.toUpperCase() + \"RoomMgr\"]();\r\n        //记录到本地缓存\r\n        for (var item in sendPack) {\r\n            let configData = sendPack[item];\r\n            let dataType = typeof(configData);\r\n            if (dataType == 'object') {\r\n                let linshi2 = '0';\r\n                for (let i = 0; i < configData.length; i++) {\r\n                    if (i == 0) {\r\n                        linshi2 = configData[0] + 1;\r\n                    } else {\r\n                        linshi2 = linshi2 + ',' + (configData[i] + 1);\r\n                    }\r\n                }\r\n                configData = linshi2;\r\n            } else {\r\n                if (item == 'playerNum') {\r\n                    item = 'renshu';\r\n                } else if (item == 'setCount') {\r\n                    item = 'jushu';\r\n                } else if (item == 'paymentRoomCardType') {\r\n                    item = 'fangfei';\r\n                } else if (item == 'cardNum') {\r\n                    item = 'shoupai';\r\n                } else if (item == 'resultCalc') {\r\n                    item = 'jiesuan';\r\n                } else if (item == 'maxAddDouble') {\r\n                    item = 'fengdingbeishu';\r\n                }\r\n                configData = this.GetIdxByKey(item) + 1;\r\n            }\r\n            let clubId = 0;\r\n            let roomKey = '0';\r\n            if (this.clubData) {\r\n                clubId = this.clubData.clubId;\r\n                roomKey = this.clubData.gameIndex;\r\n            }\r\n            if (item == 'kexuanwanfa') {\r\n                let configData2 = [];\r\n                for (let i = 0; i < this.Toggles['kexuanwanfa'].length; i++) {\r\n                    let isCheck = this.Toggles['kexuanwanfa'][i].getChildByName('checkmark').active;\r\n                    if (isCheck) {\r\n                        configData2.push(i + 1);\r\n                    }\r\n                }\r\n                //本地保存必须是字符串（真机上不支持别的类型）\r\n                let localStr = '1';\r\n                for (let i = 0; i < configData2.length; i++) {\r\n                    if (i == 0) {\r\n                        localStr = configData2[0].toString();\r\n                    } else {\r\n                        localStr = localStr + ',' + configData2[i];\r\n                    }\r\n                }\r\n                this.SetLocalConfig(item, localStr, clubId, roomKey);\r\n            } else {\r\n                this.SetLocalConfig(item, configData, clubId, roomKey);\r\n            }\r\n        }\r\n        //记录到本地缓存\r\n        if (roomMgr) {\r\n            if (1 == createType || 3 == createType) {\r\n                if (this.clubData) {\r\n                    sendPack.clubId = this.clubData.clubId;\r\n                    sendPack.gameIndex = this.clubData.gameIndex;\r\n                    if (this.clubData != null) {\r\n                        if (isSpiltRoomCard == 0) {\r\n                            this.clubWinnerPayConsume = 0;\r\n                        } else if (isSpiltRoomCard == 1) {\r\n                            let default1 = this.Toggles['fangfei'][1].getChildByName('fangfeiNode').getChildByName('needNum').clubWinnerPayConsume;\r\n                            let new1 = parseInt(this.Toggles['fangfei'][1].getChildByName('editbox').getComponent(cc.EditBox).string);\r\n                            if (new1 > 0 && new1 > default1) {\r\n                                this.clubWinnerPayConsume = new1;\r\n                            } else {\r\n                                this.clubWinnerPayConsume = default1;\r\n                            }\r\n                        } else if (isSpiltRoomCard == 2) {\r\n                            let default2 = this.Toggles['fangfei'][2].getChildByName('fangfeiNode').getChildByName('needNum').clubWinnerPayConsume;\r\n                            let new2 = parseInt(this.Toggles['fangfei'][2].getChildByName('editbox').getComponent(cc.EditBox).string);\r\n                            if (new2 > 0 && new2 > default2) {\r\n                                this.clubWinnerPayConsume = new2;\r\n                            } else {\r\n                                this.clubWinnerPayConsume = default2;\r\n                            }\r\n                        }\r\n                    } else {\r\n                        this.clubWinnerPayConsume = 0;\r\n                    }\r\n                    sendPack.clubWinnerPayConsume = this.clubWinnerPayConsume;\r\n                    if (this.clubWinnerPayConsume > 0) {\r\n                        sendPack.clubCostType = 1;\r\n                    } else {\r\n                        sendPack.clubCostType = 0;\r\n                    }\r\n                    createType = 3;\r\n                }\r\n            }\r\n            sendPack.createType = createType;\r\n            roomMgr.SendCreateRoom(sendPack);\r\n            app[app.subGameName + \"Client\"].SetGameType(this.gameType);\r\n            this.LocalDataManager.SetConfigProperty(\"SysSetting\", \"LastGameType\", this.gameType);\r\n        }\r\n    },\r\n    GetIdxByKey: function(key) {\r\n        if (!this.Toggles[key])\r\n            return -1;\r\n        for (let i = 0; i < this.Toggles[key].length; i++) {\r\n            let mark = this.Toggles[key][i].getChildByName('checkmark').active;\r\n            if (mark)\r\n                return i;\r\n        }\r\n    },\r\n    OnConFirm: function(clickType, msgID, backArgList) {\r\n        if (clickType != \"Sure\") {\r\n            return\r\n        }\r\n        if (\"goBuyCard\" == msgID) {\r\n            // let clientConfig = app[app.subGameName + \"Client\"].GetClientConfig();\r\n            // if (app.PackDefine.APPLE_CHECK == clientConfig[\"appPackType\"]) return\r\n            // app[app.subGameName + \"_FormManager\"]().ShowForm(\"UIStore\");\r\n            return;\r\n        }\r\n    }\r\n});"]}
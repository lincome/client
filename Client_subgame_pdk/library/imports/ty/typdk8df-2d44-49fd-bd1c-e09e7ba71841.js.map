{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\script\\game\\PDK/assets\\script\\game\\PDK\\UIPDK_LPPlay.js"],"names":["app","require","cc","Class","extends","subGameName","properties","btn_ready","Node","btn_weixin","btn_cancel","btn_go","handCards","allCards","gameBtn","btn_tip","btn_pass","btn_outCard","gameMultiple","btn_robDoor","btn_notRobDoor","btn_openCard","lianDui_Ani","boom_Ani","plane_Ani","dragon_Ani","labelRoomId","Label","labeiWanfa","lb_jushu","roomInfo","lb_time","lb_dianLiang","pro_dianLiang","ProgressBar","headPrefab","Prefab","cardPrefab","bsPrefab","giftPrefabs","giftNode","btn_voice","btn_chat","btn_change","gameBg","SpriteFrame","gameLogo","logoNode","BgNode","UIInvitation","resVersion","OnCreateInit","RoomMgr","toUpperCase","Room","HeroManager","FormManager","SceneManager","UtilsWord","PokerCard","RoomPosMgr","RoomSet","LogicPDKGame","ShareDefine","Define","isFirstEnter","RegEvent","Event_PosContinueGame","Event_DissolveRoom","Event_StartVoteDissolve","Event_ChangePlayerNum","Event_PosLeave","Event_PosUpdate","Event_PosReadyChg","Event_SetStart","Event_SetEnd","Event_ExitRoomSuccess","Event_RoomEnd","OnPack_AutoStart","Event_ChatMessage","Event_ShowHandCard","Event_OpCard","Event_ChangeStatus","Event_AddDouble","Event_OpenCard","Event_RobClose","Event_CodeError","Event_GameGift","Event_StopTime","Event_SportsPointEnough","Event_SportsPointNotEnough","Event_SportsPointThresholdEnough","Event_SportsPointThresholdNotEnough","Left","cardSpcedX","on","Event_TouchStart","Event_TouchEnd","EventType","TOUCH_START","OnTouchStart","TOUCH_MOVE","OnTouchMove","TOUCH_END","OnTouchEnd","TOUCH_CANCEL","OnTouchCancel","getComponent","Animation","OnAniBoomFinished","OnAniPlaneFinished","OnAniDragonFinished","i","ShutDow_Ani","GetWndNode","OnAniShutDowFinished","InitData","AddCardPrefab","invitationNode","instantiate","node","addChild","game","EVENT_HIDE","OnEventHide","bind","EVENT_SHOW","OnEventShow","event","msg","SetWaitForConfirm","ConfirmOK","ShowSysMsg","HideClientUseTime","allCardIdx","hanCardIdx","player1Idx","player2Idx","player3Idx","card3Idx","firstTurn","tipCount","lastCircleEnd","openCardInfo","notUp","isBackGround","BackTime","that","active","ShowAllCard","MaxHandCard","card","name","toString","MaxPlayer","outCardList","getChildByName","typeNode","find","Sprite","spriteFrame","j","openCardList","downList","GetHandCard","children","length","cardValue","cardNode","y","bSelected","CheckSelected","MaxRisePosY","isLastCard","ShowCard","canOutCard","ChangeCardNum","dataPos","len","uiPos","GetUIPosByDataPos","cardNum","GetRoomWanfa","SEVER_SHOWCARDNUM","totalNum","string","ShowWarningByPos","GetClientPos","warning","play","stop","SetSeat01OutCardPos","posX","x","SetAniPos","setPosition","v2","PlayCardSound","pos","opCardType","cardList","circleEnd","sex","GetPlayerSex","value","GetCardValue","SoundManager","PlaySound","randomNum","Math","floor","random","self","argDict","sendPos","recivePos","productId","sendHead","GetComponentByPos","reciveHead","giftIdx","tempNode","ani","defaultClip","bMove","OnGiftAniEnd","vec1","convertToWorldSpaceAR","vec2","convertToNodeSpaceAR","action","sequence","moveTo","callFunc","GiftMoveEnd","runAction","sender","useData","nodes","aniState","getAnimationState","isPlaying","removeFromParent","CheckOpCardPosIsLeave","opPosInfo","GetPlayerInfoByPos","roomID","GetEnterRoomID","isShowLeave","SendPack","data","time","GetClockTime","runWaitSec","secTotal","SortCardByMax","SetHandCard","privateList","ClearPlayerTable","turnEnd","ClearCardData","SetRoomSetProperty","isFirstOp","HideClockByPos","SetCardData","ShowOutCard","DeleteOpenCardList","CheckDragon","isFlash","ShowForm","dataSecTotal","OutPokerCard","ClearForbiddenTouch","isSetEnd","nextPos","IsHaveBoom","GetCardType","console","log","isOut","tipArray","GetTipCard","myHangCard","serverPack","GetEnterRoom","GetRoomProperty","scheduleOnce","ClientOpCardByType","ShowBtnTipAndOutCard","array","isAutoPass","MinTickTime","ForbiddenTouch","ShowBtnPass","SEVER_BMUST","ShowAllGameBtn","Click_btn_tip","GetUICardComponentByPos","ShowUseTime","SetTimeOpen","StartTickTime","isCanChoose","pokerList","cardType","GetLastCardType","CheckOnlyBoom","lastValue","poker","touchTag","isHas","list","indexOf","ChangeSelectCard","SEVER_MINGCARD","splice","ShowOpenCard","opPos","GetRoomSetProperty","robSuccess","SEVER_ROBDOOR","StartGame","addDouble","ShowAddDouble","OpenCard","state","SetState_End","HideAllOpenCard","pass","includes","outCardNodeList","warn","getPosition","HideAllOutCard","outCard","HideAllPass","HideAllClock","clock","HideAllWarning","HideChild","child","HideAllHandCard","shoupai","GetRoomShouPai","HideAllCardNum","poker_back","ClearPlayerState","second","MaxTickTime","Click_btn_pass","clientCards","Click_btn_outCard","tick","unschedule","CallEverySecond","schedule","Button","interactable","HideAllGameBtn","HideAllBsNode","ShowBtnOutCard","CheckShouPai","firstOpCard","GetSecTotal","SEVER_FIRST3","fk3GoWhere","ChooseDouble","isFk3","roomSetID","SEVER_SHOUJUFIRST3","fk3Start","fk3","setScale","fk3MoveOver","playerNode","playerHead","movePos","moveAction","scaleAction","scaleTo","spawnAction","spawn","count","ReInRoom","FaPaiFinish","SendFaPaiFinish","pokers","sort","a","b","realPoker","FaPaiAction","baseTime","realValue","GetPokeCard","undefined","clientPos","setInfo","GetRoomSetInfo","SEVER_FANGZUOBI","room","kexuanwanfa","GetRoomConfigByProperty","AddCardAction","wndNode","isChoose","moveIndex","lastMoveIndex","moveX","target","touch","getLocation","startsWith","minX","width","maxX","startIndex","isEnd","endIndex","Click_card","cardArray","GetTipCardSlCard","GetSelectCard","checkCount","clickNode","cardIdx","substring","SetCardSelected","parseInt","DeleteCardSelected","AddHead","ClearHead","posList","playerCount","idx","path","head","headScript","Init","headNode","OnClose","seat","removeAllChildren","HideAll","unscheduleAllCallbacks","InitGameStateCommon","InitHandCard","playerAll","GetRoomAllPlayerInfo","playerAllList","Object","keys","player","posInfo","info","pid","InitCardNum","cards","openCard","OnShow","sys","isNative","getLocalVersion","isCoinRoom","IsShowVoice","CheckUpdateNotice","IsShowChat","roomCfg","GetRoomConfig","clubId","unionId","btn_look_wanfa","ExitGame","error","GameBg","LocalDataManager","GetConfigProperty","ChangeBg","SetConfigProperty","GameBackMusic","PlayMusic","StopSceneMusic","aw","ah","height","srcWH","curWH","destScale","unDestScale","spaceX","Layout","spacingX","cardNodeWidth","disslove","roomState","setID","current","fangjian","WanFa","dateE","Date","dian","getBatteryLevel","hours","getHours","minutes","getMinutes","progress","GetRoomPosMgr","joinPlayerCount","posAgreeList","RoomState_Init","isAuto","ShowAutoIcon","UpdatePlayerScore","SetState_Init","SetState_Playing","ShowUseTimeByInfo","opType","ScheduleTime","lastOpPos","clientPlayerInfo","RefreshRoomShow","setEnd","onShowGame1","color","onShowGame2","GameBgID","isZhaDanKeCai","SEVER_BMUSTBOMB","isAutoReady","gaoji","xianshi","GetRoomXianShi","SendGetRoomInfo","ShowPlayerReady","HideAllZhunBeiLabel","setReady","ShowOrHideZhunbei","isShow","HidePlayerAllBtn","HideAllMessage","messageLayer","childrenCount","showHideMessageOfChildrenName","childrenName","HideAllAni","OnClickForm","OnClick","btnName","btnNode","Click_btn_go","Click_btn_ready","Click_btn_cancel","Click_btn_weixin","SendAddDouble","SendRoobDoor","SendOpenCard","zIndex","Click_btn_jiesan","PlayerCount","GetRoomPlayerCount","IsFormShow","CloseForm","Click_btn_change","ErrLog","Msg","Code","OpCard_Error","SportsPointNotEnough","ApplyDissolve","NotAllow","roomPosMgr","RoomState_End","ClientPos","posName","RoomState_Playing","jiesan","SetWaitForConfirmForm","OnConFirm","ShowConfirm","Confirm","msgID","createType","IsClientIsCreater","success","SendOpCard","IsDownPosSingleCard","playerNum","GetPosCount","GetDownPosCardNum","posTag","GetClientDownPos","GetClientFacePos","GetClientUpPos","hideImg_ts_db","isSelectCard","handeCardList","aValue","bValue","SEVER_FIRST3NOCHU3","IsDismantleBoom","TransformValueToS","CheckSelCardListInHandCard","CheckSelCardListOrCardList","daiNum","GetDaiNum","outCardPackageVerification","SendReady","SendUnReady","OnEvent","cardsCount","SetRoomData","senderPid","quickID","content","playerList","playerListKey","initiatorPos","playerSex","InitHeroSex","soundName","i18n","t","join","CheckContentDirty","ShowFaceContent","ShowChatContent","OnEffectEnd","wndPath","effectName","Sex","HeroSex_Boy","HeroSex_Girl","beShutDowList","firstOpPos","UpdatePlayerSportsPoint","ownnerForce","IsClientIsOwner","dissolveNoticeType","UpDateLabJiFen","UpDateLabSportsPoint","ReadyState","SetPlayerReadyInfo","HidePlayerReady","HideClientReady","IsClientReady","isClientReady","JoinPlayerFinish","tempNum","ShowPlayerOk","ShowPlayerYaoQing","SetHandCardScale","scale","type","msgArg","cbArg","ConfirmManager","clickType","backArgList","SendDissolveRoom","SendExitRoom","startRecord","setTouchEnd","stopRecord","curTime","getTime","lostHearTime","LostHearTime","outGameTime","isConnectIng","Disconnect","bStartReConnect","StartReConnect","ReConnectByTipSureBtn","StartTimer","StopTimer","selCardList","handCardListTemp","handCardList","push","Remove","selHandCardsList"],"mappings":"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","file":"UIPDK_LPPlay.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\script\\game\\PDK","sourcesContent":["var app = require(\"pdk_app\");\r\ncc.Class({\r\n    extends: require(app.subGameName + \"_BaseForm\"),\r\n\r\n    properties: {\r\n        btn_ready: cc.Node,\r\n        btn_weixin: cc.Node,\r\n        btn_cancel: cc.Node,\r\n        btn_go: cc.Node,\r\n        handCards: cc.Node,\r\n        allCards: cc.Node,\r\n        gameBtn: cc.Node,\r\n        btn_tip: cc.Node,\r\n        btn_pass: cc.Node,\r\n        btn_outCard: cc.Node,\r\n        gameMultiple: cc.Node,\r\n        btn_robDoor: cc.Node,\r\n        btn_notRobDoor: cc.Node,\r\n        btn_openCard: cc.Node,\r\n        lianDui_Ani: cc.Node,\r\n        boom_Ani: cc.Node,\r\n        plane_Ani: cc.Node,\r\n        dragon_Ani: cc.Node,\r\n\r\n        labelRoomId: cc.Label, //特殊处理的房间信息显示\r\n        labeiWanfa: cc.Label,\r\n        lb_jushu: cc.Label,\r\n        roomInfo: cc.Node,\r\n        lb_time: cc.Label,\r\n        lb_dianLiang: cc.Label,\r\n        pro_dianLiang: cc.ProgressBar,\r\n\r\n        headPrefab: cc.Prefab,\r\n        cardPrefab: cc.Prefab,\r\n        bsPrefab: cc.Prefab,\r\n\r\n        giftPrefabs: [cc.Prefab],\r\n        giftNode: cc.Node,\r\n\r\n        btn_voice: cc.Node,\r\n        btn_chat: cc.Node,\r\n\r\n        btn_change: cc.Node,\r\n\r\n        gameBg: [cc.SpriteFrame],\r\n        gameLogo: [cc.SpriteFrame],\r\n        logoNode: cc.Node,\r\n        BgNode: cc.Node,\r\n\r\n        UIInvitation: cc.Prefab,\r\n        resVersion: cc.Label,\r\n    },\r\n\r\n    OnCreateInit: function() {\r\n        this.RoomMgr = app[app.subGameName.toUpperCase() + \"RoomMgr\"]();\r\n        this.Room = app[app.subGameName.toUpperCase() + \"Room\"]();\r\n        this.HeroManager = app[app.subGameName + \"_HeroManager\"]();\r\n        this.FormManager = app[app.subGameName + \"_FormManager\"]();\r\n        this.SceneManager = app[app.subGameName + \"_SceneManager\"]();\r\n        this.UtilsWord = app[app.subGameName + \"_UtilsWord\"]();\r\n        this.PokerCard = app[app.subGameName + \"_PokerCard\"]();\r\n        this.RoomPosMgr = app[app.subGameName.toUpperCase() + \"RoomPosMgr\"]();\r\n        this.RoomSet = app[app.subGameName.toUpperCase() + \"RoomSet\"]();\r\n        this.LogicPDKGame = app[\"Logic\" + app.subGameName.toUpperCase() + \"Game\"]();\r\n        this.ShareDefine = app[app.subGameName + \"_ShareDefine\"]();\r\n        this.Define = app[app.subGameName.toUpperCase() + \"Define\"]();\r\n\r\n        //是否第一次进入\r\n        this.isFirstEnter = true;\r\n\r\n        //公共消息\r\n        this.RegEvent(app.subGameName.toUpperCase() + \"_PosContinueGame\", this.Event_PosContinueGame);\r\n        this.RegEvent(app.subGameName.toUpperCase() + \"_DissolveRoom\", this.Event_DissolveRoom);\r\n        this.RegEvent(app.subGameName.toUpperCase() + \"_StartVoteDissolve\", this.Event_StartVoteDissolve); //发起房间结算投票\r\n        this.RegEvent(app.subGameName.toUpperCase() + \"_ChangePlayerNum\", this.Event_ChangePlayerNum); //发起房间修改人数\r\n        this.RegEvent(app.subGameName.toUpperCase() + \"_PosLeave\", this.Event_PosLeave);\r\n        this.RegEvent(app.subGameName.toUpperCase() + \"_PosUpdate\", this.Event_PosUpdate);\r\n        this.RegEvent(app.subGameName.toUpperCase() + \"_PosReadyChg\", this.Event_PosReadyChg);\r\n\r\n        //游戏消息\r\n        this.RegEvent(app.subGameName.toUpperCase() + \"SetStart\", this.Event_SetStart);\r\n        this.RegEvent(app.subGameName.toUpperCase() + \"SetEnd\", this.Event_SetEnd);\r\n        this.RegEvent('ExitRoomSuccess', this.Event_ExitRoomSuccess);\r\n        this.RegEvent(\"RoomEnd\", this.Event_RoomEnd);\r\n        this.RegEvent(\"SPlayer_Trusteeship\", this.OnPack_AutoStart);\r\n        this.RegEvent(\"ChatMessage\", this.Event_ChatMessage);\r\n        this.RegEvent(\"HandCard\", this.Event_ShowHandCard);\r\n        this.RegEvent(\"OpCard\", this.Event_OpCard);\r\n        this.RegEvent(\"ChangeStatus\", this.Event_ChangeStatus);\r\n        this.RegEvent(\"AddDouble\", this.Event_AddDouble);\r\n        this.RegEvent(\"OpenCard\", this.Event_OpenCard);\r\n        this.RegEvent(\"RobClose\", this.Event_RobClose);\r\n        this.RegEvent('CodeError', this.Event_CodeError);\r\n        this.RegEvent('GameGift', this.Event_GameGift, this);\r\n        this.RegEvent('StopTime', this.Event_StopTime, this);\r\n\r\n\r\n        //比赛分不足时通知\r\n        this.RegEvent(\"SportsPointEnough\", this.Event_SportsPointEnough);\r\n        this.RegEvent(\"SportsPointNotEnough\", this.Event_SportsPointNotEnough);\r\n\r\n        //比赛分门槛不足时通知\r\n        this.RegEvent(\"SportsPointThresholdEnough\", this.Event_SportsPointThresholdEnough);\r\n        this.RegEvent(\"SportsPointThresholdNotEnough\", this.Event_SportsPointThresholdNotEnough);\r\n\r\n        \r\n\r\n        this.Left = [false, true, false, false];\r\n\r\n        this.cardSpcedX = 0;\r\n\r\n        this.btn_voice.on(\"touchstart\", this.Event_TouchStart, this)\r\n        this.btn_voice.on(\"touchend\", this.Event_TouchEnd, this)\r\n        this.btn_voice.on(\"touchcancel\", this.Event_TouchEnd, this)\r\n\r\n        this.handCards.on(cc.Node.EventType.TOUCH_START, this.OnTouchStart, this);\r\n        this.handCards.on(cc.Node.EventType.TOUCH_MOVE, this.OnTouchMove, this);\r\n        this.handCards.on(cc.Node.EventType.TOUCH_END, this.OnTouchEnd, this);\r\n        this.handCards.on(cc.Node.EventType.TOUCH_CANCEL, this.OnTouchCancel, this);\r\n\r\n        this.boom_Ani.getComponent(cc.Animation).on('finished', this.OnAniBoomFinished, this);\r\n        this.plane_Ani.getComponent(cc.Animation).on('finished', this.OnAniPlaneFinished, this);\r\n        this.dragon_Ani.getComponent(cc.Animation).on('finished', this.OnAniDragonFinished, this);\r\n        for (var i = 0; i < 4; i++) {\r\n            let ShutDow_Ani = this.GetWndNode(\"sp_seat0\" + i + \"/ShutDow_Ani\");\r\n            ShutDow_Ani.getComponent(cc.Animation).on('finished', this.OnAniShutDowFinished, this);\r\n        }\r\n\r\n        this.InitData();\r\n        this.AddCardPrefab();\r\n\r\n        this.invitationNode = cc.instantiate(this.UIInvitation);\r\n        this.node.addChild(this.invitationNode);\r\n\r\n        cc.game.on(cc.game.EVENT_HIDE, this.OnEventHide.bind(this));\r\n        cc.game.on(cc.game.EVENT_SHOW, this.OnEventShow.bind(this));\r\n    },\r\n    Event_SportsPointEnough: function(event) {\r\n        let msg = event.msg;\r\n        this.SetWaitForConfirm(\"SportsPointEnough\", this.ShareDefine.ConfirmOK, [msg]);\r\n    },\r\n    Event_SportsPointNotEnough: function(event) {\r\n        let msg = event.msg;\r\n        this.ShowSysMsg(\"比赛分不足房间自动解散\");\r\n        // this.SetWaitForConfirm(\"SportsPointNotEnough\", this.ShareDefine.ConfirmYN, []);\r\n    },\r\n\r\n    Event_SportsPointThresholdEnough: function(event) {\r\n        let msg = event.msg;\r\n        this.SetWaitForConfirm(\"SportsPointThresholdEnough\", this.ShareDefine.ConfirmOK, [msg]);\r\n    },\r\n    Event_SportsPointThresholdNotEnough: function(event) {\r\n        let msg = event.msg;\r\n        // this.ShowSysMsg(\"您得比赛分门槛不足，请联系赛事管理\");\r\n        this.SetWaitForConfirm(\"SportsPointThresholdNotEnough\", this.ShareDefine.ConfirmOK, []);\r\n    },\r\n    //停止房间倒计时\r\n    Event_StopTime: function(event){\r\n        this.HideClientUseTime();\r\n    },\r\n\r\n    \r\n    InitData: function() {\r\n        //所有的牌索引\r\n        this.allCardIdx = 0;\r\n        //自己手牌索引\r\n        this.hanCardIdx = 0;\r\n        //其他玩家手牌索引\r\n        this.player1Idx = 0;\r\n        this.player2Idx = 0;\r\n        this.player3Idx = 0;\r\n        //黑桃3牌索引\r\n        this.card3Idx = 0;\r\n\r\n        this.firstTurn = false;\r\n\r\n        this.tipCount = 0;\r\n\r\n        this.lastCircleEnd = false;\r\n\r\n        this.openCardInfo = {};\r\n\r\n        this.notUp = false;\r\n\r\n        this.isBackGround = false;\r\n        this.BackTime = 5; //oncreate不捕获\r\n        let that = this;\r\n\r\n    },\r\n\r\n    OnAniBoomFinished: function(event) {\r\n        this.boom_Ani.active = false;\r\n    },\r\n    OnAniPlaneFinished: function(event) {\r\n        this.plane_Ani.active = false;\r\n    },\r\n    OnAniDragonFinished: function(event) {\r\n        this.dragon_Ani.active = false;\r\n    },\r\n    OnAniShutDowFinished: function(event) {\r\n        for (var i = 0; i < 4; i++) {\r\n            let ShutDow_Ani = this.GetWndNode(\"sp_seat0\" + i + \"/ShutDow_Ani\");\r\n            ShutDow_Ani.active = false;\r\n        }\r\n    },\r\n\r\n    ShowAllCard: function() {\r\n        return;\r\n        /*this.allCards.active = true;\r\n        let cardNum = this.Room.GetRoomConfigByProperty(\"shoupai\");\r\n        if (cardNum == 0) {\r\n            cardNum = this.Define.MidHandCard;\r\n        } else if (cardNum == 1) {\r\n            cardNum = this.Define.MidHandCardEx;\r\n        } else {\r\n            cardNum = this.Define.MaxHandCard;\r\n        }\r\n        let playerNum = this.Room.GetRoomConfigByProperty(\"playerNum\");\r\n        let allCardNum = playerNum * cardNum;\r\n        let xPos = -512;\r\n        let yPos = 0;\r\n        for (let i = 0; i < allCardNum; i++) {\r\n            let card = this.allCards.children[i];\r\n            card.getChildByName(\"poker_back\").active = true;\r\n            card.active = true;\r\n            if (i == 48) {\r\n                xPos = -512;\r\n            }\r\n            if (i > 47) {\r\n                card.y = -31.5;\r\n                card.x = xPos;\r\n            } else {\r\n                card.y = 0;\r\n                card.x = xPos;\r\n            }\r\n            xPos += 22;\r\n        }*/\r\n    },\r\n\r\n    AddCardPrefab: function() {\r\n        //发牌的牌墩\r\n        /*this.allCards.active = false;\r\n        for (let i = 0; i < this.Define.MaxTableCard; i++) {\r\n            let card = cc.instantiate(this.cardPrefab);\r\n            this.allCards.addChild(card);\r\n            card.active = false;\r\n            card.name = \"card_\" + (i + 1).toString();\r\n        }*/\r\n\r\n        //玩家手牌\r\n        this.handCards.active = false;\r\n        for (let i = 0; i < this.Define.MaxHandCard; i++) {\r\n            let card = cc.instantiate(this.cardPrefab);\r\n            card.active = false;\r\n            card.name = \"card_\" + (i + 1).toString();\r\n            this.handCards.addChild(card);\r\n        }\r\n\r\n        //玩家打出去的牌\r\n        for (let i = 0; i < this.Define.MaxPlayer; i++) {\r\n            let outCardList = this.node.getChildByName(\"outCardList\" + i);\r\n            outCardList.active = false;\r\n            let typeNode = cc.find(`outCardList${i}_cardType`, this.node);\r\n            typeNode.getComponent(cc.Sprite).spriteFrame = null;\r\n            for (let j = 0; j < this.Define.MaxHandCard; j++) {\r\n                let card = cc.instantiate(this.cardPrefab);\r\n                card.active = false;\r\n                card.name = \"card_\" + (i + 1).toString();\r\n                outCardList.addChild(card);\r\n            }\r\n        }\r\n\r\n        //玩家明牌的牌\r\n        for (let i = 1; i < this.Define.MaxPlayer; i++) {\r\n            let openCardList = this.node.getChildByName(\"openCardList\" + i);\r\n            openCardList.active = false;\r\n            for (let j = 0; j < this.Define.MaxHandCard; j++) {\r\n                let card = cc.instantiate(this.cardPrefab);\r\n                card.active = false;\r\n                card.name = \"card_\" + (i + 1).toString();\r\n                openCardList.addChild(card);\r\n            }\r\n        }\r\n    },\r\n\r\n    Event_ShowHandCard: function() {\r\n        this.handCards.active = true;\r\n        let downList = this.LogicPDKGame.GetHandCard();\r\n        for (let i = 0; i < this.handCards.children.length; i++) {\r\n            let cardValue = downList[i];\r\n            let cardNode = this.handCards.children[i];\r\n            cardNode.y = 0;\r\n            if (cardValue) {\r\n                let bSelected = this.LogicPDKGame.CheckSelected(cardValue);\r\n                if (bSelected) {\r\n                    cardNode.y += this.Define.MaxRisePosY;\r\n                }\r\n                let isLastCard = false;\r\n                if (i == downList.length - 1) {\r\n                    isLastCard = true;\r\n                }\r\n                this.ShowCard(cardValue, cardNode, isLastCard);\r\n            } else {\r\n                cardNode.active = false;\r\n            }\r\n        }\r\n        this.canOutCard();\r\n    },\r\n\r\n    ChangeCardNum: function(dataPos, len) {\r\n        let uiPos = this.RoomPosMgr.GetUIPosByDataPos(dataPos);\r\n        if (uiPos == 0) return;\r\n        let card = this.GetWndNode(\"sp_seat0\" + uiPos + \"/card\");\r\n        let cardNum = this.GetWndNode(\"sp_seat0\" + uiPos + \"/cardNum\");\r\n        if (!this.Room.GetRoomWanfa(this.Define.SEVER_SHOWCARDNUM)) {\r\n            // if(!true){//默认显示\r\n            cardNum.active = false;\r\n        } else {\r\n            cardNum.active = true;\r\n        }\r\n        let totalNum = len;\r\n        cardNum.getComponent(cc.Label).string = totalNum.toString() + '';\r\n        if (!card.getChildByName(\"poker_back\").active) {\r\n            card.getChildByName(\"poker_back\").active = true;\r\n        }\r\n        this.ShowWarningByPos(dataPos, totalNum);\r\n\r\n        return totalNum;\r\n    },\r\n\r\n    ShowWarningByPos: function(dataPos, len) {\r\n        if (this.RoomPosMgr.GetClientPos() == dataPos) return;\r\n        let uiPos = this.RoomPosMgr.GetUIPosByDataPos(dataPos);\r\n        let warning = this.GetWndNode(\"sp_seat0\" + uiPos + \"/warning\");\r\n        //只有剩一张牌才显示警告动画\r\n        if (len == 1) {\r\n            warning.active = true;\r\n            warning.getComponent(cc.Animation).play(\"warning\");\r\n        } else {\r\n            warning.active = false;\r\n            warning.getComponent(cc.Animation).stop(\"warning\");\r\n        }\r\n    },\r\n\r\n    SetSeat01OutCardPos: function(dataPos, len) {\r\n        let uiPos = this.RoomPosMgr.GetUIPosByDataPos(dataPos);\r\n        if (uiPos != 3) return;\r\n\r\n        let node = this.node.getChildByName(\"outCardList3\");\r\n        let posX = 575 - 25 * len;\r\n        node.x = posX;\r\n    },\r\n\r\n    SetAniPos: function(dataPos) {\r\n        let uiPos = this.RoomPosMgr.GetUIPosByDataPos(dataPos);\r\n        if (uiPos == 1) {\r\n            this.boom_Ani.setPosition(cc.v2(232, 64));\r\n        } else {\r\n            let outCardList = this.node.getChildByName(\"outCardList\" + uiPos);\r\n            this.boom_Ani.setPosition(cc.v2(outCardList.x, outCardList.y));\r\n        }\r\n    },\r\n\r\n    PlayCardSound: function(pos, opCardType, cardList, circleEnd) {\r\n        let sex = this.GetPlayerSex(pos);\r\n        if (this.lastCircleEnd) {\r\n            if (opCardType == 2) {\r\n                let value = this.LogicPDKGame.GetCardValue(cardList[0]);\r\n                this.SoundManager.PlaySound(sex + \"One_\" + value);\r\n            } else if (opCardType == 3) {\r\n                let value = this.LogicPDKGame.GetCardValue(cardList[0]);\r\n                this.SoundManager.PlaySound(sex + \"Double_\" + value);\r\n            } else if (opCardType == 4) {\r\n                this.SoundManager.PlaySound(sex + \"Series\");\r\n            } else if (opCardType == 5) {\r\n                this.SoundManager.PlaySound(sex + \"Three\");\r\n            } else if (opCardType == 6) {\r\n                this.SoundManager.PlaySound(sex + \"ThreeAndOne\");\r\n            } else if (opCardType == 7) {\r\n                this.SoundManager.PlaySound(sex + \"ThreeAndTwo\");\r\n            } else if (opCardType == 8) {\r\n                this.SoundManager.PlaySound(sex + \"FourAndOne\");\r\n            } else if (opCardType == 9) {\r\n                this.SoundManager.PlaySound(sex + \"FourAndTwo\");\r\n            } else if (opCardType == 10) {\r\n                this.SoundManager.PlaySound(sex + \"FourAndThree\");\r\n            } else if (opCardType == 12 || opCardType == 13) {\r\n                this.SoundManager.PlaySound(sex + \"Plane\");\r\n            } else if (opCardType == 14) {\r\n                this.SoundManager.PlaySound(sex + \"SeriesTwo\");\r\n            }\r\n        } else {\r\n            if (opCardType == 1) {\r\n                let randomNum = Math.floor(Math.random() * 3 + 1);\r\n                this.SoundManager.PlaySound(sex + \"Not_\" + randomNum);\r\n            } else if (opCardType == 11) {\r\n                this.SoundManager.PlaySound(sex + \"Boom\");\r\n            } else {\r\n                let randomNum = Math.floor(Math.random() * 3 + 1);\r\n                this.SoundManager.PlaySound(sex + \"Bigger_\" + randomNum);\r\n            }\r\n        }\r\n\r\n        this.lastCircleEnd = circleEnd;\r\n    },\r\n\r\n    Event_GameGift: function(event) {\r\n        let self = this;\r\n        let argDict = event;\r\n        let sendPos = argDict['sendPos'];\r\n        let recivePos = argDict['recivePos'];\r\n        let productId = argDict['productId'];\r\n        let sendHead = app[app.subGameName + \"_HeadManager\"]().GetComponentByPos(sendPos);\r\n        let reciveHead = app[app.subGameName + \"_HeadManager\"]().GetComponentByPos(recivePos);\r\n        let giftIdx = productId - 1;\r\n        let tempNode = cc.instantiate(this.giftPrefabs[giftIdx]);\r\n        let ani = tempNode.getComponent(cc.Animation);\r\n        // tempNode.tag = giftIdx;\r\n        tempNode.name = ani.defaultClip.name;\r\n        tempNode.bMove = true;\r\n        ani.on('finished', this.OnGiftAniEnd, this);\r\n        let vec1 = sendHead.node.convertToWorldSpaceAR(cc.v2(0, 0));\r\n        let vec2 = reciveHead.node.convertToWorldSpaceAR(cc.v2(0, 0));\r\n        vec1 = this.giftNode.convertToNodeSpaceAR(vec1);\r\n        vec2 = this.giftNode.convertToNodeSpaceAR(vec2);\r\n        tempNode.x = vec1.x;\r\n        tempNode.y = vec1.y;\r\n        this.giftNode.addChild(tempNode);\r\n        let action = cc.sequence(\r\n            cc.moveTo(0.3, vec2),\r\n            cc.callFunc(self.GiftMoveEnd, self)\r\n        );\r\n        tempNode.runAction(action);\r\n    },\r\n\r\n    GiftMoveEnd: function(sender, useData) {\r\n        sender.getComponent(cc.Animation).play();\r\n        sender.bMove = false;\r\n        //播放音效\r\n        app[app.subGameName + \"_SoundManager\"]().PlaySound('mofa_' + sender.name);\r\n    },\r\n\r\n    OnGiftAniEnd: function(event) {\r\n        let nodes = this.giftNode.children;\r\n        for (let i = nodes.length; i > 0; i--) {\r\n            if (event) {\r\n                let aniState = nodes[i - 1].getComponent(cc.Animation).getAnimationState(nodes[i - 1].name);\r\n                if (aniState.isPlaying)\r\n                    continue;\r\n                if (!nodes[i - 1].bMove)\r\n                    nodes[i - 1].removeFromParent();\r\n            } else\r\n                nodes[i - 1].removeFromParent();\r\n        }\r\n    },\r\n\r\n    //检测出牌玩家是否离开中\r\n    CheckOpCardPosIsLeave:function(pos){\r\n        let opPosInfo = this.RoomPosMgr.GetPlayerInfoByPos(pos);\r\n        let roomID = this.RoomMgr.GetEnterRoomID();\r\n        if(opPosInfo.isShowLeave){\r\n            app[app.subGameName + \"_NetManager\"]().SendPack(app.subGameName + \".C\" + app.subGameName.toUpperCase() + \"ShowLeave\", {\r\n                \"roomID\": roomID,\r\n                \"isShowLeave\": false\r\n            });\r\n        }\r\n    },\r\n\r\n    Event_OpCard: function(event) {\r\n        let data = event;\r\n        this.firstTurn = false;\r\n        this.notUp = false;\r\n        this.gameBtn.active = false;\r\n        this.tipCount = 0;\r\n        let time = this.GetClockTime();\r\n        let runWaitSec = data.runWaitSec;\r\n        let secTotal = data.secTotal;\r\n        this.HideClientUseTime();\r\n\r\n        this.LogicPDKGame.SortCardByMax(data.cardList);\r\n\r\n        //检测出牌玩家是否离开中\r\n        this.CheckOpCardPosIsLeave(data.pos);\r\n\r\n        //储存刷新玩家手牌\r\n        this.RoomSet.SetHandCard(data.pos, data.privateList);\r\n\r\n        //先清理之前打出去的牌或者玩家的状态\r\n        this.ClearPlayerTable(data.pos);\r\n\r\n        if (data.turnEnd) {\r\n            this.LogicPDKGame.ClearCardData();\r\n        }\r\n\r\n        //储存刷新Setinfo状态\r\n        this.RoomSet.SetRoomSetProperty(\"isFirstOp\", data.isFirstOp);\r\n        //刷新手牌\r\n        this.Event_ShowHandCard();\r\n\r\n        this.ChangeCardNum(data.pos, data.privateList.length);\r\n        this.HideClockByPos(data.pos);\r\n        this.LogicPDKGame.SetCardData(data.opCardType, data.cardList);\r\n        this.ShowOutCard(data.pos, data.cardList, data.opCardType);\r\n        this.SetSeat01OutCardPos(data.pos, data.cardList.length);\r\n        this.DeleteOpenCardList(data.pos, data.cardList);\r\n\r\n        //音效\r\n        this.PlayCardSound(data.pos, data.opCardType, data.cardList, data.turnEnd);\r\n\r\n\r\n        //显示动画特效\r\n        if (data.opCardType == 4) {\r\n            //一条龙\r\n            if (this.LogicPDKGame.CheckDragon()) {\r\n                this.dragon_Ani.active = true;\r\n                this.dragon_Ani.getComponent(cc.Animation).play(\"dragon\");\r\n            }\r\n        } else if (data.opCardType == 14) { //连对\r\n            // this.lianDui_Ani.active = true;\r\n            // this.lianDui_Ani.getComponent(cc.Animation).play(\"liandui\");\r\n        } else if (data.opCardType == 11) {\r\n            //炸弹\r\n            this.boom_Ani.active = true;\r\n            this.SetAniPos(data.pos);\r\n            this.boom_Ani.getComponent(cc.Animation).play(\"zhadan\");\r\n        } else if (data.opCardType == 12 || data.opCardType == 13) {\r\n            this.plane_Ani.active = true;\r\n            this.plane_Ani.getComponent(cc.Animation).play(\"feiji\");\r\n        }\r\n\r\n        if (data.pos == this.RoomPosMgr.GetClientPos()) {\r\n            //如果是自动出牌，判断一下是否打开UIAutoPlay\r\n            if (data.isFlash == true) {\r\n                app[app.subGameName + \"_FormManager\"]().ShowForm(app.subGameName + \"_UIAutoPlay\", data.dataSecTotal);\r\n            }\r\n            //如果是自动出牌，判断一下是否打开UIAutoPlay\r\n            this.LogicPDKGame.OutPokerCard(data.privateList);\r\n            this.ClearForbiddenTouch();\r\n        }\r\n        //检测是否是当前游戏已经结束\r\n        if (data.isSetEnd) {\r\n            return;\r\n        }\r\n\r\n        if (data.nextPos == this.RoomPosMgr.GetClientPos()) {\r\n            //判断剩余手牌是否能一次出完并且没有炸弹，如果可以，直接出\r\n            if (!this.LogicPDKGame.IsHaveBoom()) {\r\n                let opCardType = this.LogicPDKGame.GetCardType(false);\r\n                console.log(\"所有手牌组成一个牌型：\" + opCardType);\r\n                if (opCardType > 0) {\r\n                    let isOut = false;\r\n                    if (data.turnEnd) {\r\n                        isOut = true;\r\n                    } else {\r\n                        let tipArray = this.LogicPDKGame.GetTipCard();\r\n                        if (tipArray.length > 0) {\r\n                            let myHangCard = this.LogicPDKGame.GetHandCard();\r\n                            for (let i = 0; i < tipArray.length; i++) {\r\n                                //发给服务端的消息\r\n                                if (tipArray[i].length == myHangCard.length) {\r\n                                    isOut = true;\r\n                                    break;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    if (isOut == true) {\r\n                        let serverPack = {};\r\n                        let roomID = this.RoomMgr.GetEnterRoom().GetRoomProperty(\"roomID\");\r\n                        serverPack.roomID = roomID;\r\n                        let pos = this.RoomPosMgr.GetClientPos();\r\n                        serverPack.pos = pos;\r\n                        let self = this;\r\n                        this.scheduleOnce(function() {\r\n                            self.ClientOpCardByType(opCardType, serverPack, false);\r\n                        }, 1.0);\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n            if (data.turnEnd) {\r\n                this.ShowBtnTipAndOutCard();\r\n            } else {\r\n                let array = this.LogicPDKGame.GetTipCard();\r\n                if (!array.length) {\r\n                    if (this.isAutoPass()) {\r\n                        time = this.Define.MinTickTime;\r\n                    } else {\r\n                        this.ForbiddenTouch(array);\r\n                        this.ShowBtnPass();\r\n                    }\r\n                } else {\r\n                    //是否是必出玩法\r\n                    this.ForbiddenTouch(array);\r\n                    if (this.Room.GetRoomWanfa(this.Define.SEVER_BMUST)) {\r\n                        this.ShowAllGameBtn();\r\n                    } else {\r\n                        this.ShowBtnTipAndOutCard();\r\n                    }\r\n                    if (array.length == 1) {\r\n                        this.Click_btn_tip();\r\n                    }\r\n                }\r\n            }\r\n            //是否执行房间限时时间\r\n            this.GetUICardComponentByPos(data.nextPos).ShowUseTime(secTotal);\r\n            this.GetUICardComponentByPos(data.nextPos).SetTimeOpen(true);\r\n\r\n        }\r\n        this.StartTickTime(data.nextPos, runWaitSec, time);\r\n    },\r\n\r\n    isCanChoose: function() {\r\n        for (let i = 0; i < this.handCards.children.length; i++) {\r\n            if (this.handCards.children[i].y > 0) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    },\r\n    ForbiddenTouch: function(pokerList) {\r\n        this.ClearForbiddenTouch();\r\n\r\n        let downList = this.LogicPDKGame.GetHandCard();\r\n        if (pokerList.length >= 0) {\r\n            let cardType = this.LogicPDKGame.GetLastCardType();\r\n            if (cardType == 6 || cardType == 7 || cardType == 8 || cardType == 9 || cardType == 10 ||\r\n                cardType == 12 || cardType == 13) {\r\n                if (!this.LogicPDKGame.CheckOnlyBoom(pokerList)) {\r\n                    return;\r\n                }\r\n            }\r\n            let lastValue = 0;\r\n            for (let i = downList.length - 1; i >= 0; i--) {\r\n                let poker = downList[i];\r\n                let cardValue = this.LogicPDKGame.GetCardValue(poker);\r\n                this.handCards.children[i].y = 0;\r\n\r\n                if (lastValue == cardValue) {\r\n                    if (this.handCards.children[i + 1].touchTag) {\r\n                        this.handCards.children[i].touchTag = true;\r\n                        this.handCards.children[i].getChildByName('bg_black').active = true;\r\n                    } else {\r\n                        this.handCards.children[i].touchTag = false;\r\n                        this.handCards.children[i].getChildByName('bg_black').active = false;\r\n                    }\r\n                    continue;\r\n                }\r\n\r\n                let isHas = false;\r\n                for (let j = 0; j < pokerList.length; j++) {\r\n                    let list = pokerList[j];\r\n                    if (list.indexOf(poker) != -1) {\r\n                        isHas = true;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                if (isHas) {\r\n                    this.handCards.children[i].touchTag = false;\r\n                    this.handCards.children[i].getChildByName('bg_black').active = false;\r\n                } else {\r\n                    this.handCards.children[i].touchTag = true;\r\n                    this.handCards.children[i].getChildByName('bg_black').active = true;\r\n                    //                   this.handCards.children[i].addComponent(cc.Button);\r\n                }\r\n                lastValue = cardValue;\r\n            }\r\n        }\r\n        // else{\r\n        //     for(let i = 0; i < downList.length; i++){\r\n        //         this.handCards.children[i].y = 0;\r\n        //         this.handCards.children[i].touchTag = true;\r\n        //         this.handCards.children[i].getChildByName('bg_black').active = true;\r\n        //         this.handCards.children[i].addComponent(cc.Button);\r\n        //     }\r\n        // }\r\n    },\r\n\r\n    ClearForbiddenTouch: function() {\r\n        this.LogicPDKGame.ChangeSelectCard([]);\r\n        let downList = this.LogicPDKGame.GetHandCard();\r\n        for (let i = 0; i < downList.length; i++) {\r\n            this.handCards.children[i].y = 0;\r\n            this.handCards.children[i].touchTag = false;\r\n            this.handCards.children[i].getChildByName('bg_black').active = false;\r\n            //           this.handCards.children[i].removeComponent(cc.Button);\r\n        }\r\n    },\r\n\r\n    DeleteOpenCardList: function(dataPos, cardList) {\r\n        if (!this.Room.GetRoomWanfa(this.Define.SEVER_MINGCARD)) return;\r\n        if (dataPos == this.RoomPosMgr.GetClientPos()) return;\r\n\r\n        if (this.openCardInfo[dataPos]) {\r\n            let openCardList = this.openCardInfo[dataPos];\r\n            for (let i = 0; i < cardList.length; i++) {\r\n                let value = cardList[i];\r\n                let pos = openCardList.indexOf(value);\r\n                if (pos != -1) {\r\n                    openCardList.splice(pos, 1);\r\n                }\r\n            }\r\n\r\n            this.ShowOpenCard(dataPos, openCardList);\r\n        }\r\n    },\r\n\r\n    Event_ChangeStatus: function(event) {\r\n        let opPos = this.RoomSet.GetRoomSetProperty(\"opPos\");\r\n        this.robSuccess = false; //event.isRobCloseSuccess;s\r\n        if (this.Room.GetRoomWanfa(this.Define.SEVER_ROBDOOR)) {\r\n            // if(event.isRobCloseSuccess){\r\n            //     let player = this.RoomPosMgr.GetPlayerInfoByPos(opPos);\r\n            //     app[app.subGameName+\"_SysNotifyManager\"]().ShowSysMsg(app.subGameName.toUpperCase()+'_SEVER_ROBDOOR',[player.name]);\r\n            // }\r\n            this.btn_robDoor.active = false;\r\n            this.btn_notRobDoor.active = false;\r\n            this.HideClockByPos(this.RoomPosMgr.GetClientPos());\r\n        }\r\n        if (this.Room.GetRoomWanfa( /*this.Define.DOUBLE*/ -1)) {\r\n            this.gameMultiple.active = false;\r\n        }\r\n        this.StartGame(opPos);\r\n    },\r\n\r\n    Event_AddDouble: function(event) {\r\n        let data = event;\r\n        if (data.addDouble != 0) {\r\n            this.ShowAddDouble(data.pos, data.addDouble);\r\n        }\r\n\r\n        if (data.pos == this.RoomPosMgr.GetClientPos()) {\r\n            this.gameMultiple.active = false;\r\n            this.btn_robDoor.x = 0;\r\n            if (data.addDouble == 0) {\r\n                this.ShowSysMsg(app.subGameName.toUpperCase() + \"_NOTDOUBLE\");\r\n            } else {\r\n                this.ShowSysMsg(app.subGameName.toUpperCase() + \"_ADDDOUBLE\");\r\n            }\r\n        }\r\n    },\r\n\r\n    Event_OpenCard: function(event) {\r\n        let data = event;\r\n        let sex = this.GetPlayerSex(data.pos);\r\n        // this.SoundManager.PlaySound(sex + \"ShowCard\");//去除明牌音效\r\n        if (data.OpenCard == 0) return;\r\n        this.openCardInfo[data.pos] = data.cardList;\r\n        this.ShowOpenCard(data.pos, data.cardList);\r\n        if (data.pos == this.RoomPosMgr.GetClientPos()) {\r\n            this.btn_openCard.active = false;\r\n            let state = this.RoomSet.GetRoomSetProperty(\"state\");\r\n            if (state != this.ShareDefine.SetState_End) {\r\n                this.ShowSysMsg(app.subGameName.toUpperCase() + \"_OPENCARD\");\r\n            }\r\n        }\r\n    },\r\n\r\n    Event_RobClose: function(event) {\r\n        let data = event;\r\n        if (data.pos == this.RoomPosMgr.GetClientPos()) {\r\n            this.ShowSysMsg(app.subGameName.toUpperCase() + \"_ROOBCLOSE\");\r\n            this.btn_robDoor.active = false;\r\n            this.btn_notRobDoor.active = false;\r\n            this.gameMultiple.x = 0;\r\n        }\r\n    },\r\n\r\n    ShowOpenCard: function(dataPos, cardList) {\r\n        let uiPos = this.RoomPosMgr.GetUIPosByDataPos(dataPos);\r\n        if (uiPos == 0) return;\r\n        this.LogicPDKGame.SortCardByMax(cardList);\r\n        let openCardList = this.node.getChildByName(\"openCardList\" + uiPos);\r\n        openCardList.active = true;\r\n        for (let i = 0; i < openCardList.children.length; i++) {\r\n            let cardNode = openCardList.children[i];\r\n            let value = cardList[i];\r\n            let isLastCard = false;\r\n            if (i == cardList.length - 1) {\r\n                isLastCard = true;\r\n            }\r\n            if (value) {\r\n                this.ShowCard(value, cardNode, isLastCard);\r\n            } else {\r\n                cardNode.active = false;\r\n            }\r\n        }\r\n    },\r\n\r\n    HideAllOpenCard: function() {\r\n        for (let i = 1; i < this.Define.MaxPlayer; i++) {\r\n            let openCardList = this.node.getChildByName(\"openCardList\" + i);\r\n            openCardList.active = false;\r\n        }\r\n    },\r\n\r\n    ShowAddDouble: function(dataPos, addDouble) {},\r\n\r\n    ShowOutCard: function(dataPos, cardList, opCardType) {\r\n        let uiPos = this.RoomPosMgr.GetUIPosByDataPos(dataPos);\r\n        //\r\n        if (!cardList.length) {\r\n            let pass = this.GetWndNode(\"sp_seat0\" + uiPos + \"/pass\");\r\n            pass.active = true;\r\n            pass.getComponent(cc.Animation).play();\r\n            return;\r\n        }\r\n        if ([4, 6, 7, 8, 9, 10, 12, 14].includes(opCardType)) {\r\n            let typeNode = cc.find(`outCardList${uiPos}_cardType`, this.node);\r\n            typeNode.getComponent(cc.Animation).play(`card_type${opCardType}`);\r\n        }\r\n        let outCardNodeList = this.node.getChildByName(\"outCardList\" + uiPos);\r\n        console.warn(uiPos, '出牌节点位置', outCardNodeList.getPosition());\r\n        outCardNodeList.active = true;\r\n        for (let i = 0; i < outCardNodeList.children.length; i++) {\r\n            let cardNode = outCardNodeList.children[i];\r\n            let value = cardList[i];\r\n            let isLastCard = false;\r\n            if (i == cardList.length - 1) {\r\n                isLastCard = true;\r\n            }\r\n            if (value) {\r\n                this.ShowCard(value, cardNode, isLastCard);\r\n            } else {\r\n                cardNode.active = false;\r\n            }\r\n        }\r\n    },\r\n\r\n    HideAllOutCard: function() {\r\n        for (let i = 0; i < this.Define.MaxPlayer; i++) {\r\n            let outCard = this.node.getChildByName(\"outCardList\" + i);\r\n            let typeNode = cc.find(`outCardList${i}_cardType`, this.node);\r\n            typeNode.getComponent(cc.Sprite).spriteFrame = null;\r\n            outCard.active = false;\r\n        }\r\n    },\r\n\r\n    HideAllPass: function() {\r\n        for (let i = 0; i < this.Define.MaxPlayer; i++) {\r\n            let pass = this.GetWndNode(\"sp_seat0\" + i + \"/pass\");\r\n            pass.active = false;\r\n        }\r\n    },\r\n\r\n    HideAllClock: function() {\r\n        for (let i = 0; i < this.Define.MaxPlayer; i++) {\r\n            let clock = this.GetWndNode(\"sp_seat0\" + i + \"/clock\");\r\n            clock.active = false;\r\n        }\r\n    },\r\n\r\n    HideAllWarning: function() {\r\n        for (let i = 1; i < this.Define.MaxPlayer; i++) {\r\n            let warning = this.GetWndNode(\"sp_seat0\" + i + \"/warning\");\r\n            warning.getComponent(cc.Animation).stop(\"warning\");\r\n            warning.active = false;\r\n        }\r\n    },\r\n    HideChild: function(node) {\r\n        for (let i = 0; i < node.children.length; i++) {\r\n            let child = node.children[i];\r\n            child.active = false;\r\n        }\r\n    },\r\n    HideAllHandCard: function() {\r\n        //获取是16张玩法还是15张玩法\r\n        let shoupai = this.Room.GetRoomShouPai();\r\n        for (let i = 0; i < this.handCards.children.length; i++) {\r\n            let child = this.handCards.children[i];\r\n            if (i + 1 > shoupai) {\r\n                child.active = false;\r\n            } else {\r\n                this.HideChild(child);\r\n                child.active = true;\r\n            }\r\n\r\n        }\r\n        this.handCards.active = false;\r\n    },\r\n\r\n    /*HideAllHandCard:function(){\r\n        this.handCards.active = false;\r\n        for(let i = 0; i < this.handCards.children.length; i++){\r\n            let child = this.handCards.children[i];\r\n            child.active = false;\r\n        }\r\n    },*/\r\n\r\n    HideAllCardNum: function() {\r\n        for (let i = 1; i < this.Define.MaxPlayer; i++) {\r\n            let card = this.GetWndNode(\"sp_seat0\" + i + \"/card\");\r\n            card.active = false;\r\n            let cardNum = this.GetWndNode(\"sp_seat0\" + i + \"/cardNum\");\r\n            cardNum.active = false;\r\n            let poker_back = this.GetWndNode(\"sp_seat0\" + i + \"/card/poker_back\");\r\n            poker_back.active = true;\r\n        }\r\n    },\r\n\r\n    HideClockByPos: function(dataPos) {\r\n        let uiPos = this.RoomPosMgr.GetUIPosByDataPos(dataPos);\r\n        let clock = this.GetWndNode(\"sp_seat0\" + uiPos + \"/clock\");\r\n        clock.active = false;\r\n        //\r\n        if (uiPos == 0) {\r\n            cc.find('img_mask_pk', this.node).active = false;\r\n        }\r\n    },\r\n\r\n    ClearPlayerTable: function(dataPos) {\r\n        let uiPos = this.RoomPosMgr.GetUIPosByDataPos(dataPos);\r\n        let outCardList = this.GetWndNode(\"outCardList\" + uiPos);\r\n        for (let i = 0; i < outCardList.children.length; i++) {\r\n            let child = outCardList.children[i];\r\n            if (child.active) {\r\n                child.active = false;\r\n            }\r\n        }\r\n\r\n        // let pass = this.GetWndNode(\"sp_seat0\" + uiPos + \"/pass\");\r\n        // pass.active = false;\r\n        // let typeNode = cc.find(`outCardList${uiPos}_cardType`, this.node);\r\n        // typeNode.getComponent(cc.Sprite).spriteFrame = null;\r\n    },\r\n\r\n    ClearPlayerState: function(dataPos) {\r\n        let uiPos = this.RoomPosMgr.GetUIPosByDataPos(dataPos);\r\n\r\n        let pass = this.GetWndNode(\"sp_seat0\" + uiPos + \"/pass\");\r\n        pass.active = false;\r\n        let typeNode = cc.find(`outCardList${uiPos}_cardType`, this.node);\r\n        typeNode.getComponent(cc.Sprite).spriteFrame = null;\r\n    },\r\n    //开始倒计时\r\n    StartTickTime: function(dataPos, runWaitSec = 0, second = this.Define.MaxTickTime) {\r\n\r\n        //先清理之前打出去的牌或者玩家的状态 -- 重写一个不出状态\r\n        this.ClearPlayerState(dataPos);\r\n\r\n        //是不是自己要不起\r\n        if (second == this.Define.MinTickTime && dataPos == this.RoomPosMgr.GetClientPos()) {\r\n            this.notUp = true;\r\n            //淮滨跑得快，要不起速度加快，秒过 ----张泽新，2019.12.04修改\r\n            this.Click_btn_pass();\r\n            return;\r\n        }\r\n        //当客户端玩家只剩一张牌的时候，自动进入托管（能大直接出牌）\r\n        if (!this.notUp && dataPos == this.RoomPosMgr.GetClientPos()) {\r\n            let clientCards = this.LogicPDKGame.GetHandCard();\r\n            let opCardType = this.LogicPDKGame.GetLastCardType();\r\n            if (opCardType > 0 && clientCards.length == 1) {\r\n                let array = this.LogicPDKGame.GetTipCard();\r\n                if (array.length) {\r\n                    this.LogicPDKGame.ChangeSelectCard(clientCards);\r\n                    this.Event_ShowHandCard();\r\n                    this.Click_btn_outCard();\r\n                }\r\n                return;\r\n            } else if (opCardType == 0 && clientCards.length == 1) {\r\n                //剩下最后一根牌，并且轮到自己出牌\r\n                this.LogicPDKGame.ChangeSelectCard(clientCards);\r\n                this.Event_ShowHandCard();\r\n                this.scheduleOnce(function() {\r\n                    this.Click_btn_outCard();\r\n                }, 1);\r\n            }\r\n        }\r\n        this.tick = second - runWaitSec;\r\n        if(this.tick <= 0){\r\n            return\r\n        }\r\n        let uiPos = this.RoomPosMgr.GetUIPosByDataPos(dataPos);\r\n        this.clock = this.GetWndNode(\"sp_seat0\" + uiPos + \"/clock\");\r\n        if (dataPos == this.RoomPosMgr.GetClientPos() && second == 0) {\r\n            this.clock.active = false;\r\n        } else {\r\n            this.clock.active = true;\r\n        }\r\n        this.clock.getChildByName(\"num\").getComponent(cc.Label).string = this.tick;\r\n        this.unschedule(this.CallEverySecond);\r\n        this.schedule(this.CallEverySecond, 1);\r\n    },\r\n\r\n    //每一秒进入\r\n    CallEverySecond: function() {\r\n        //this.SoundManager.PlaySound(\"timeUp\");\r\n        this.tick--;\r\n        this.clock.getChildByName(\"num\").getComponent(cc.Label).string = this.tick;\r\n        if (this.tick <= 0) {\r\n            this.unschedule(this.CallEverySecond);\r\n            this.clock.active = false;\r\n            if (this.notUp) {\r\n                this.Click_btn_pass();\r\n            }\r\n        } else if (this.tick <= 3) {\r\n            this.clock.getComponent(cc.Animation).play();\r\n        }\r\n    },\r\n\r\n    //显示提示和出牌按钮\r\n    ShowBtnTipAndOutCard: function() {\r\n        this.ShowAllGameBtn();\r\n        this.btn_tip.getComponent(cc.Button).interactable = true;\r\n        this.btn_outCard.getComponent(cc.Button).interactable = false;\r\n        this.btn_pass.getComponent(cc.Button).interactable = false;\r\n        this.canOutCard();\r\n        return;\r\n        //old\r\n        this.gameBtn.active = true;\r\n        this.btn_tip.x = -120;\r\n        this.btn_tip.active = true;\r\n        // this.btn_pass.getChildByName(\"icon\").getComponent(cc.Label).string = '不要';\r\n        this.btn_outCard.x = 120;\r\n        this.btn_outCard.active = true;\r\n        this.btn_pass.active = false;\r\n        //\r\n    },\r\n    //显示所有按钮\r\n    ShowAllGameBtn: function() {\r\n        this.gameBtn.active = true;\r\n        this.btn_pass.x = -252;\r\n        this.btn_pass.active = true;\r\n        this.btn_tip.x = 0;\r\n        this.btn_tip.active = true;\r\n        // this.btn_pass.getChildByName(\"icon\").getComponent(cc.Label).string = '不要';\r\n        this.btn_outCard.x = 252;\r\n        this.btn_outCard.active = true;\r\n        //new\r\n        this.btn_tip.getComponent(cc.Button).interactable = true;\r\n        this.btn_outCard.getComponent(cc.Button).interactable = false;\r\n        this.btn_pass.getComponent(cc.Button).interactable = true;\r\n        //没有牌大过上家\r\n        cc.find('img_mask_pk', this.node).active = false;\r\n    },\r\n\r\n    HideAllGameBtn: function() {\r\n        this.gameBtn.active = false;\r\n        this.btn_pass.active = false;\r\n        this.btn_tip.active = false;\r\n        this.btn_outCard.active = false;\r\n        //没有牌大过上家\r\n        cc.find('img_mask_pk', this.node).active = false;\r\n    },\r\n\r\n    HideAllBsNode: function() {},\r\n\r\n    //只显示出牌按钮\r\n    ShowBtnOutCard: function() {\r\n        this.ShowAllGameBtn();\r\n        this.btn_tip.getComponent(cc.Button).interactable = false;\r\n        this.btn_outCard.getComponent(cc.Button).interactable = false;\r\n        this.btn_pass.getComponent(cc.Button).interactable = false;\r\n        this.canOutCard();\r\n        return;\r\n        //old\r\n        this.gameBtn.active = true;\r\n        this.btn_pass.active = false;\r\n        this.btn_tip.active = false;\r\n        this.btn_outCard.x = 0;\r\n        this.btn_outCard.active = true;\r\n    },\r\n    //只显示不要按钮\r\n    ShowBtnPass: function() {\r\n        this.ShowAllGameBtn();\r\n        this.btn_tip.getComponent(cc.Button).interactable = false;\r\n        this.btn_outCard.getComponent(cc.Button).interactable = false;\r\n        this.btn_pass.getComponent(cc.Button).interactable = true;\r\n        //没有牌大过上家\r\n        cc.find('img_mask_pk', this.node).active = true;\r\n        return;\r\n        //old\r\n        this.gameBtn.active = true;\r\n        this.btn_pass.x = 0;\r\n        this.btn_pass.active = true;\r\n        // this.btn_pass.getChildByName(\"icon\").getComponent(cc.Label).string = '要不起';\r\n        this.btn_tip.active = false;\r\n        this.btn_outCard.active = false;\r\n    },\r\n\r\n    StartGame: function(opPos) {\r\n        //检查玩家手牌start\r\n        this.CheckShouPai();\r\n        let firstOpCard = this.RoomSet.GetRoomSetProperty(\"firstOpCard\");\r\n        this.lastCircleEnd = this.RoomSet.GetRoomSetProperty(\"isFirstOp\");\r\n        //是否显示黑桃3\r\n        let uiPos = this.RoomPosMgr.GetUIPosByDataPos(opPos);\r\n        if (uiPos != 0 && !this.robSuccess) {\r\n            // let poker_back = this.GetWndNode(\"sp_seat0\" + uiPos + \"/card/poker_back\");\r\n            // poker_back.active = false;\r\n            // this.ShowCard(firstOpCard, poker_back.parent, true);\r\n        }\r\n\r\n        let secTotal= this.RoomSet.GetSecTotal();\r\n        if (opPos == this.RoomPosMgr.GetClientPos()) {\r\n            if (this.Room.GetRoomWanfa(this.Define.SEVER_FIRST3) && !this.robSuccess) {\r\n                this.ShowBtnTipAndOutCard();\r\n            } else {\r\n                this.ShowBtnTipAndOutCard();\r\n            }\r\n            \r\n             //是否执行房间限时时间\r\n            this.GetUICardComponentByPos(this.RoomPosMgr.GetClientPos()).ShowUseTime(secTotal);\r\n            this.GetUICardComponentByPos(this.RoomPosMgr.GetClientPos()).SetTimeOpen(true);\r\n        }else{\r\n            this.GetUICardComponentByPos(this.RoomPosMgr.GetClientPos()).ShowUseTime(secTotal);\r\n        }\r\n        let time = this.GetClockTime();\r\n        let runWaitSec = this.RoomSet.GetRoomSetProperty(\"runWaitSec\");\r\n        this.StartTickTime(opPos, runWaitSec, time);\r\n        //方块3去处\r\n        this.fk3GoWhere();\r\n    },\r\n\r\n    ChooseDouble: function() {\r\n        let runWaitSec = this.RoomSet.GetRoomSetProperty(\"runWaitSec\");\r\n        //this.allCards.active = false;\r\n        if (this.Room.GetRoomWanfa(this.Define.SEVER_MINGCARD)) {\r\n            this.btn_openCard.active = false;\r\n        }\r\n\r\n        //是否有加倍玩法\r\n        if (this.Room.GetRoomWanfa( /*this.Define.DOUBLE*/ -1)) {\r\n            this.gameMultiple.active = true;\r\n            this.gameMultiple.x = 0;\r\n        }\r\n        //是否有抢关门玩法\r\n        if (this.Room.GetRoomWanfa(this.Define.SEVER_ROBDOOR)) {\r\n            this.btn_robDoor.active = true;\r\n            this.btn_robDoor.x = 90;\r\n            this.btn_notRobDoor.active = true;\r\n            this.btn_notRobDoor.x = -90;\r\n        }\r\n\r\n        if (this.Room.GetRoomWanfa( /*this.Define.DOUBLE*/ -1) && this.Room.GetRoomWanfa(this.Define.SEVER_ROBDOOR)) {\r\n            this.gameMultiple.x = -75;\r\n            this.btn_robDoor.x = 385;\r\n        }\r\n\r\n        if (this.Room.GetRoomWanfa( /*this.Define.DOUBLE*/ -1) || this.Room.GetRoomWanfa(this.Define.SEVER_ROBDOOR)) {\r\n            this.StartTickTime(this.RoomPosMgr.GetClientPos(), runWaitSec, 15);\r\n        }\r\n    },\r\n\r\n    isFk3: function() {\r\n        //是否每局先出黑桃3\r\n        if (this.Room.GetRoomWanfa(this.Define.SEVER_FIRST3) && this.firstTurn) {\r\n            return true;\r\n        }\r\n        //是否首局先出黑桃3\r\n        let roomSetID = this.Room.GetRoomProperty(\"setID\");\r\n        if (this.Room.GetRoomWanfa(this.Define.SEVER_SHOUJUFIRST3) && this.firstTurn && roomSetID == 1) {\r\n            return true;\r\n        }\r\n        return false;\r\n    },\r\n\r\n    fk3Start: function() {\r\n        if (!this.isFk3()) return;\r\n        this.fk3.active = true;\r\n        this.fk3.setPosition(0, -60);\r\n        this.fk3.setScale(0.7);\r\n        this.fk3.getComponent(cc.Animation).play('fk3');\r\n    },\r\n\r\n    fk3MoveOver: function() {\r\n        if (!this.isFk3()) return;\r\n        let dataPos = this.RoomSet.GetRoomSetProperty(\"opPos\");\r\n        let uiPos = this.RoomPosMgr.GetUIPosByDataPos(dataPos);\r\n        cc.find(`sp_seat0${uiPos}/img_wxc`, this.node).getComponent(cc.Animation).play();\r\n        //\r\n        this.fk3.active = false;\r\n    },\r\n\r\n    fk3GoWhere: function() {\r\n        if (!this.isFk3()) return;\r\n        this.fk3.getComponent(cc.Animation).stop();\r\n        let dataPos = this.RoomSet.GetRoomSetProperty(\"opPos\");\r\n        let uiPos = this.RoomPosMgr.GetUIPosByDataPos(dataPos);\r\n        let playerNode = cc.find(`sp_seat0${uiPos}`, this.node);\r\n        let playerHead = cc.find('head', playerNode);\r\n        let movePos = cc.v2(playerNode.x + playerHead.x, playerNode.y + playerHead.y);\r\n        let moveAction = cc.moveTo(0.15, movePos);\r\n        let scaleAction = cc.scaleTo(0.15, 0.2);\r\n        let spawnAction = cc.spawn(moveAction, scaleAction);\r\n        let self = this;\r\n        let action = cc.sequence(\r\n            spawnAction,\r\n            cc.callFunc(self.fk3MoveOver, self)\r\n        );\r\n        this.fk3.runAction(action);\r\n    },\r\n    CheckShouPai: function() {\r\n        let clientCards = this.LogicPDKGame.GetHandCard();\r\n        let count = 0;\r\n        for (let i = 0; i < clientCards.length; i++) {\r\n            if (clientCards[i] > 0) {\r\n                count++;\r\n            }\r\n        }\r\n        if (count < 15) {\r\n            //手牌不可能小于15张\r\n            this.ReInRoom();\r\n            return;\r\n        }\r\n    },\r\n    FaPaiFinish: function() {\r\n        this.RoomMgr.SendFaPaiFinish(this.RoomPosMgr.GetClientPos());\r\n        //检查手牌长度\r\n        this.CheckShouPai();\r\n    },\r\n    SortCardByMax: function(pokers) {\r\n        let self = this;\r\n        pokers.sort(function(a, b) {\r\n            //return (b&0x0F) - (a&0x0F);\r\n            return self.GetCardValue(b) - self.GetCardValue(a);\r\n        });\r\n    },\r\n    //获取牌值\r\n    GetCardValue: function(poker) {\r\n        let realPoker = 0;\r\n        if (poker > 500) {\r\n            realPoker = poker - 500;\r\n        } else {\r\n            realPoker = poker;\r\n        }\r\n        return realPoker & 0x0F;\r\n    },\r\n    //发牌动作\r\n    FaPaiAction: function(dataPos) {\r\n        let handCards = this.RoomSet.GetHandCard();\r\n        this.SortCardByMax(handCards);\r\n        let uiPos = this.RoomPosMgr.GetUIPosByDataPos(dataPos);\r\n        this.handCards.active = true;\r\n        let baseTime = 0;\r\n        for (let i = 0; i < handCards.length; i++) {\r\n            let cardValue = handCards[i];\r\n            let cardNode = this.handCards.getChildByName(\"card_\" + (i + 1).toString());\r\n            baseTime = baseTime + 0.03;\r\n            this.scheduleOnce(function() {\r\n                cardNode.active = true;\r\n                this.ShowCard(cardValue, cardNode, true);\r\n            }, baseTime);\r\n            if (i == handCards.length - 1) {\r\n                baseTime = baseTime + 0.3; //发牌结束事件\r\n                this.scheduleOnce(function() {\r\n                    this.FaPaiFinish();\r\n                }, baseTime);\r\n            }\r\n        }\r\n    },\r\n    //显示poker牌\r\n    ShowCard: function(cardType, cardNode, isLastCard) {\r\n        let realValue = 0;\r\n        if (cardType > 500) {\r\n            realValue = cardType - 500;\r\n        } else {\r\n            realValue = cardType;\r\n        }\r\n        this.PokerCard.GetPokeCard(realValue, cardNode, isLastCard, undefined, undefined, undefined, undefined, true);\r\n        cardNode.active = true;\r\n        cardNode.getChildByName(\"poker_back\").active = false;\r\n        let clientPos = this.RoomPosMgr.GetClientPos();\r\n        let setInfo = this.RoomSet.GetRoomSetInfo();\r\n        if (this.Room.GetRoomWanfa(this.Define.SEVER_FANGZUOBI)) {\r\n            if (setInfo.isFirstOp) {\r\n                if (setInfo.opPos != clientPos) {\r\n                    cardNode.getChildByName(\"poker_back\").active = true;\r\n                }\r\n            }\r\n        }\r\n        cardNode.getChildByName(\"bg_poker\").active = true;\r\n        cardNode.getChildByName(\"num\").active = true;\r\n        cardNode.getChildByName(\"icon\").active = true;\r\n        let room = this.RoomMgr.GetEnterRoom();\r\n        if(!room || !cardNode.getChildByName(\"tag\")) return\r\n        let kexuanwanfa = room.GetRoomConfigByProperty('kexuanwanfa');\r\n        if(!kexuanwanfa || !kexuanwanfa.length) return\r\n        cardNode.getChildByName(\"tag\").active = (realValue == 0x2A && kexuanwanfa.indexOf(24) > -1)\r\n    },\r\n\r\n    AddCardAction: function(dataPos) {\r\n        let uiPos = this.RoomPosMgr.GetUIPosByDataPos(dataPos);\r\n        let wndNode = this.GetWndNode(\"sp_seat0\" + uiPos + \"/cardNum\");\r\n        if (uiPos == 1) {\r\n            this.player1Idx++;\r\n            wndNode.getComponent(cc.Label).string = this.player1Idx + '';\r\n        } else if (uiPos == 2) {\r\n            this.player2Idx++;\r\n            wndNode.getComponent(cc.Label).string = this.player2Idx + '';\r\n        } else if (uiPos == 3) {\r\n            this.player3Idx++;\r\n            wndNode.getComponent(cc.Label).string = this.player3Idx + '';\r\n        }\r\n    },\r\n\r\n    ///////////////////////////////////////////////////////////////////////////////////////\r\n    ////////////////////////////牌触摸\r\n    OnTouchStart: function(event) {\r\n        this.isChoose = this.isCanChoose();\r\n        this.moveIndex = -1;\r\n        this.lastMoveIndex = -1;\r\n        let moveX = event.target.convertToNodeSpaceAR(event.touch.getLocation()).x;\r\n        let downList = this.LogicPDKGame.GetHandCard();\r\n        for (let i = 0; i < this.handCards.children.length; i++) {\r\n            if (this.handCards.children[i].name.startsWith(\"card\")) {\r\n                let minX = this.handCards.children[i].x - this.handCards.children[i].width / 2;\r\n                let maxX = minX + this.cardSpcedX;\r\n                if (i == downList.length - 1)\r\n                    maxX = minX + this.handCards.children[i].width;\r\n                if (moveX >= minX && moveX < maxX) {\r\n                    this.startIndex = i;\r\n                    this.handCards.children[i].getChildByName(\"bg_black\").active = true;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    OnTouchMove: function(event) {\r\n        let moveX = event.target.convertToNodeSpaceAR(event.touch.getLocation()).x;\r\n        for (let i = 0; i < this.handCards.children.length; i++) {\r\n            if (this.handCards.children[i].name.startsWith(\"card\")) {\r\n                if (this.handCards.children[i].touchTag == false || typeof(this.handCards.children[i].touchTag) == \"undefined\") {\r\n                    this.handCards.children[i].getChildByName(\"bg_black\").active = false;\r\n                }\r\n\r\n                let minX = this.handCards.children[i].x - this.handCards.children[i].width / 2;\r\n                let maxX = minX + this.cardSpcedX;\r\n                if (moveX >= minX && moveX < maxX) {\r\n                    if (this.moveIndex >= 0 && this.moveIndex != i) {\r\n                        this.lastMoveIndex = this.moveIndex;\r\n                    }\r\n                    this.moveIndex = i;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        if (this.lastMoveIndex == -1 || this.moveIndex == -1) {\r\n            return;\r\n        }\r\n        if (this.startIndex > this.moveIndex) { //从右往左\r\n            console.log(\"从右往左\");\r\n            for (let i = this.startIndex; i >= this.moveIndex; i--) {\r\n                if (this.handCards.children[i].name.startsWith(\"card\")) {\r\n                    if (this.handCards.children[i].touchTag) {\r\n                        continue;\r\n                    }\r\n                    this.handCards.children[i].getChildByName(\"bg_black\").active = true;\r\n                }\r\n            }\r\n        } else { //从左往右\r\n            if (this.lastMoveIndex > this.moveIndex) {\r\n                if (this.handCards.children[this.lastMoveIndex].name.startsWith(\"card\")) {\r\n                    if (!this.handCards.children[this.lastMoveIndex].touchTag) {\r\n                        this.handCards.children[this.lastMoveIndex].getChildByName(\"bg_black\").active = false;\r\n                    }\r\n                }\r\n            }\r\n            for (let i = this.startIndex; i <= this.moveIndex; i++) {\r\n                if (this.handCards.children[i].name.startsWith(\"card\")) {\r\n                    if (this.handCards.children[i].touchTag) {\r\n                        continue;\r\n                    }\r\n                    this.handCards.children[i].getChildByName(\"bg_black\").active = true;\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    OnTouchEnd: function(event) {\r\n\r\n        let moveX = event.target.convertToNodeSpaceAR(event.touch.getLocation()).x;\r\n        let downList = this.LogicPDKGame.GetHandCard();\r\n        for (let i = 0; i < this.handCards.children.length; i++) {\r\n            if (this.handCards.children[i].name.startsWith(\"card\")) {\r\n                if (this.handCards.children[i].touchTag) {\r\n                    this.handCards.children[i].getChildByName(\"bg_black\").active = true;\r\n                } else {\r\n                    this.handCards.children[i].getChildByName(\"bg_black\").active = false;\r\n                }\r\n                if (isEnd) continue;\r\n                let isEnd = false;\r\n                let minX = this.handCards.children[i].x - this.handCards.children[i].width / 2;\r\n                let maxX = minX + this.cardSpcedX;\r\n                if (i == downList.length - 1)\r\n                    maxX = minX + this.handCards.children[i].width;\r\n                if (moveX >= minX && moveX < maxX) {\r\n                    this.endIndex = i;\r\n                    isEnd = true;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (this.startIndex == this.endIndex) {\r\n            if (this.handCards.children[this.endIndex].active && !this.handCards.children[this.endIndex].touchTag) {\r\n                this.Click_card(this.handCards.children[this.endIndex]);\r\n            }\r\n        } else {\r\n            if (this.startIndex > this.endIndex) { //从右往左\r\n                for (let i = this.startIndex; i >= this.endIndex; i--) {\r\n                    if (this.handCards.children[i].touchTag)\r\n                        continue\r\n                    if (this.handCards.children[i].active)\r\n                        this.Click_card(this.handCards.children[i]);\r\n                }\r\n            } else { //从左往右\r\n                for (let i = this.startIndex; i <= this.endIndex; i++) {\r\n                    if (this.handCards.children[i].touchTag)\r\n                        continue\r\n                    if (this.handCards.children[i].active)\r\n                        this.Click_card(this.handCards.children[i]);\r\n                }\r\n            }\r\n        }\r\n        if (this.isChoose == true) {\r\n            let cardArray = this.LogicPDKGame.GetTipCardSlCard();\r\n            if (cardArray.length > 0) {\r\n                this.LogicPDKGame.ChangeSelectCard(cardArray[0]);\r\n                this.Event_ShowHandCard();\r\n            }\r\n        }\r\n        this.canOutCard();\r\n    },\r\n\r\n    OnTouchCancel: function(event) {\r\n        // for (let i = 0; i < this.handCards.children.length; i++) {\r\n        //     if (this.handCards.children[i].name.startsWith(\"card\")) {\r\n        //         if (this.handCards.children[i].touchTag)\r\n        //             continue\r\n        //         this.handCards.children[i].getChildByName(\"bg_black\").active = false;\r\n        //     }\r\n        // }\r\n        this.endIndex = -1;\r\n        let moveX = event.target.convertToNodeSpaceAR(event.touch.getLocation()).x;\r\n        let downList = this.LogicPDKGame.GetHandCard();\r\n        for (let i = 0; i < this.handCards.children.length; i++) {\r\n            if (this.handCards.children[i].name.startsWith(\"card\")) {\r\n                if (this.handCards.children[i].touchTag) {\r\n                    this.handCards.children[i].getChildByName(\"bg_black\").active = true;\r\n                } else {\r\n                    this.handCards.children[i].getChildByName(\"bg_black\").active = false;\r\n                }\r\n                if (isEnd) continue;\r\n                let isEnd = false;\r\n                let minX = this.handCards.children[i].x - this.handCards.children[i].width / 2;\r\n                let maxX = minX + this.cardSpcedX;\r\n                if (i == downList.length - 1)\r\n                    maxX = minX + this.handCards.children[i].width;\r\n                if (moveX >= minX && moveX < maxX) {\r\n                    this.endIndex = i;\r\n                    isEnd = true;\r\n                }\r\n            }\r\n        }\r\n        if (this.endIndex == -1) {\r\n            if (moveX < 0) {\r\n                this.endIndex = 0;\r\n            } else {\r\n                this.endIndex = this.handCards.children.length - 1;\r\n            }\r\n        }\r\n        if (this.startIndex == this.endIndex) {\r\n            if (this.handCards.children[this.endIndex].active && !this.handCards.children[this.endIndex].touchTag) {\r\n                this.Click_card(this.handCards.children[this.endIndex]);\r\n            }\r\n        } else {\r\n            if (this.startIndex > this.endIndex) { //从右往左\r\n                for (let i = this.startIndex; i >= this.endIndex; i--) {\r\n                    if (this.handCards.children[i].touchTag)\r\n                        continue\r\n                    if (this.handCards.children[i].active)\r\n                        this.Click_card(this.handCards.children[i]);\r\n                }\r\n            } else { //从左往右\r\n                for (let i = this.startIndex; i <= this.endIndex; i++) {\r\n                    if (this.handCards.children[i].touchTag)\r\n                        continue\r\n                    if (this.handCards.children[i].active)\r\n                        this.Click_card(this.handCards.children[i]);\r\n                }\r\n            }\r\n        }\r\n        if (this.isChoose == true) {\r\n            let cardArray = this.LogicPDKGame.GetTipCardSlCard();\r\n            if (cardArray.length > 0) {\r\n                this.LogicPDKGame.ChangeSelectCard(cardArray[0]);\r\n                this.Event_ShowHandCard();\r\n            }\r\n        }\r\n        this.canOutCard();\r\n    },\r\n\r\n    canOutCard: function() {\r\n        let cardList = this.LogicPDKGame.GetSelectCard();\r\n        let checkCount = 0;\r\n        for (let i = 0; i < this.handCards.children.length; i++) {\r\n            let cardNode = this.handCards.children[i];\r\n            if (cardNode.active == true && cardNode.y == this.Define.MaxRisePosY) {\r\n                checkCount++;\r\n            }\r\n        }\r\n\r\n        if (cardList.length != checkCount) {\r\n            //选中的牌跟存储的牌不一样，\r\n            this.ReInRoom();\r\n            return;\r\n        }\r\n\r\n        let opCardType = this.LogicPDKGame.GetCardType();\r\n        console.log('选择的牌型为', opCardType);\r\n        if (opCardType > 0) {\r\n            //TODO:此处判断待优化\r\n            if (!cc.find('img_mask_pk', this.node).active) {\r\n                this.btn_outCard.getComponent(cc.Button).interactable = true;\r\n                return;\r\n            } else {\r\n                console.log('没有大过上家的牌标志');\r\n            }\r\n        }\r\n        this.btn_outCard.getComponent(cc.Button).interactable = false;\r\n    },\r\n\r\n    Click_card: function(clickNode) {\r\n        let name = \"\";\r\n        name = clickNode.name;\r\n        let cardIdx = name.substring(5, name.length);\r\n        if (clickNode.y == 0) {\r\n            clickNode.y = this.Define.MaxRisePosY;\r\n            this.LogicPDKGame.SetCardSelected(parseInt(cardIdx));\r\n        } else {\r\n            clickNode.y = 0;\r\n            this.LogicPDKGame.DeleteCardSelected(parseInt(cardIdx));\r\n        }\r\n\r\n    },\r\n\r\n    ///////////////////////////////////////////////////////////////////////////////////////////////////\r\n    /////////////////////////\r\n\r\n    //添加头像\r\n    AddHead: function() {\r\n        this.ClearHead();\r\n        //初始化加入头像 如果已经有加入了头像 显示出来\r\n        let posList = this.RoomMgr.GetEnterRoom().GetRoomProperty(\"posList\");\r\n        let playerCount = posList.length;\r\n        for (let idx = 0; idx < posList.length; idx++) {\r\n            let uiPos = this.RoomPosMgr.GetUIPosByDataPos(posList[idx].pos);\r\n            let path = \"sp_seat0\" + uiPos.toString() + \"/head\";\r\n            let node = this.GetWndNode(path);\r\n            if (!node.getChildByName(\"LPUIPublicHead\" + uiPos)) {\r\n                let head = cc.instantiate(this.headPrefab);\r\n                node.addChild(head);\r\n                let headScript = head.getComponent(app.subGameName + \"_LPUIPublicHead\");\r\n                headScript.Init(uiPos, posList[idx].pos, cc.v2(0, 0), this.Left[uiPos]);\r\n            } else {\r\n                let headNode = node.getChildByName(\"LPUIPublicHead\" + uiPos);\r\n                let headScript = headNode.getComponent(app.subGameName + \"_LPUIPublicHead\");\r\n                headScript.Init(uiPos, posList[idx].pos, cc.v2(0, 0), this.Left[uiPos]);\r\n            }\r\n        }\r\n    },\r\n\r\n    ClearHead: function() {\r\n        for (let idx = 0; idx < this.Define.MaxPlayer; idx++) {\r\n            let path = \"sp_seat0\" + idx + \"/head\" + \"/LPUIPublicHead\" + idx;\r\n            let node = this.GetWndNode(path);\r\n            if (node) {\r\n                let headScript = node.getComponent(app.subGameName + \"_LPUIPublicHead\");\r\n                headScript.OnClose();\r\n            }\r\n            if (idx > 0) {\r\n                let seat = cc.find(`sp_seat0${idx}`, this.node);\r\n                seat.getChildByName('card').active = false;\r\n                seat.getChildByName('cardNum').active = false;\r\n                seat.getChildByName('clock').active = false;\r\n                seat.getChildByName('pass').active = false;\r\n                let head = cc.find(`sp_seat0${idx}/head`, this.node);\r\n                head.removeAllChildren();\r\n            }\r\n        }\r\n    },\r\n\r\n    OnClose: function() {\r\n        this.HideAll();\r\n        this.ClearHead();\r\n        this.unscheduleAllCallbacks();\r\n    },\r\n\r\n    InitGameStateCommon: function() {\r\n        let setInfo = this.RoomSet.GetRoomSetInfo();\r\n        //得到玩家自己的手牌\r\n        this.handCards.active = true;\r\n        this.LogicPDKGame.InitHandCard();\r\n        this.Event_ShowHandCard();\r\n        let playerAll = this.RoomPosMgr.GetRoomAllPlayerInfo();\r\n        let playerAllList = Object.keys(playerAll);\r\n        for (var i = 0; i < playerAllList.length; i++) {\r\n            let player = playerAll[playerAllList[i]];\r\n            for (let j = 0; j < setInfo.posInfo.length; j++) {\r\n                let info = setInfo.posInfo[j];\r\n                if (player.pid == info.pid) {\r\n                    this.InitCardNum(player.pos, info.cards.length);\r\n                    this.ShowWarningByPos(player.pos, info.cards.length);\r\n                    if (info.addDouble > 0) {\r\n                        this.ShowAddDouble(player.pos, info.addDouble - 1);\r\n                    }\r\n                    if (info.openCard == 1) {\r\n                        this.openCardInfo[player.pos] = info.cards;\r\n                        this.ShowOpenCard(player.pos, info.cards);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    OnShow: function() {\r\n        this.node.getChildByName(\"tip_exit_node\").active = false;\r\n        if (cc.sys.isNative) {\r\n            this.resVersion.string = \"resV\" + app[app.subGameName + \"_HotUpdateMgr\"]().getLocalVersion();\r\n        } else {\r\n            this.resVersion.string = '';\r\n        }\r\n        if (app[app.subGameName + \"_ShareDefine\"]().isCoinRoom || !cc.sys.isNative) {\r\n            this.btn_voice.active = false;\r\n        } else {\r\n            if (this.IsShowVoice()) {\r\n                this.btn_voice.active = true;\r\n            } else {\r\n                this.btn_voice.active = false;\r\n            }\r\n        }\r\n        this.CheckUpdateNotice();\r\n        this.btn_chat.active = this.IsShowChat();\r\n        //初始化邀请在线好友的数据\r\n        let roomID = this.RoomMgr.GetEnterRoomID();\r\n        this.roomCfg = this.Room.GetRoomConfig();\r\n        if (this.roomCfg.clubId > 0 || this.roomCfg.unionId > 0) {\r\n            this.invitationNode.active = true;\r\n            this.invitationNode.getComponent(this.invitationNode.name).InitData(this.roomCfg.clubId, this.roomCfg.unionId, roomID);\r\n        } else {\r\n            this.invitationNode.active = false;\r\n        }\r\n\r\n        this.btn_look_wanfa = cc.find('btn_look_wanfa', this.node);\r\n        this.fk3 = cc.find('fk3', this.node);\r\n        this.fk3.active = false;\r\n        app[app.subGameName + \"_NetManager\"]().SendPack(app.subGameName + \".C\" + app.subGameName.toUpperCase() + \"GetRoomID\", {}, function(event) {\r\n            if (event.roomID <= 0 || event.roomID != roomID) {\r\n                app[app.subGameName + \"Client\"].ExitGame();\r\n            }\r\n        }, function(error) {\r\n            app[app.subGameName + \"Client\"].ExitGame();\r\n        });\r\n        let GameBg = this.LocalDataManager.GetConfigProperty(\"SysSetting\", app.subGameName + \"_GameBg\");\r\n        this.ChangeBg(GameBg);\r\n        this.AddHead();\r\n        this.HideAll();\r\n        this.unscheduleAllCallbacks();\r\n        this.LocalDataManager.SetConfigProperty(\"SysSetting\",\"GameBackMusic\",\"gameBackGround\");\r\n        let GameBackMusic=this.LocalDataManager.GetConfigProperty(\"SysSetting\",\"GameBackMusic\");\r\n        this.SceneManager.PlayMusic(GameBackMusic);\r\n        this.SceneManager.StopSceneMusic();\r\n        this.InitData();\r\n        this.ClearForbiddenTouch();\r\n        //设置牌间距\r\n        let aw = cc.find('Canvas').width;\r\n        let ah = cc.find('Canvas').height;\r\n        const srcWH = 1360 / 760;\r\n        let curWH = aw / ah;\r\n        let destScale = curWH / srcWH;\r\n        let unDestScale = srcWH / curWH;\r\n        //\r\n        let spaceX = -85 * unDestScale;\r\n        this.handCards.getComponent(cc.Layout).spacingX = spaceX;\r\n\r\n        let cardNodeWidth = this.cardPrefab.data.width;\r\n        this.cardSpcedX = cardNodeWidth + spaceX;\r\n\r\n        let state = this.RoomSet.GetRoomSetProperty(\"state\");\r\n        let disslove = this.Room.GetRoomProperty(\"dissolve\");\r\n        let roomState = this.Room.GetRoomProperty(\"state\");\r\n        let setID = this.Room.GetRoomProperty(\"setID\");\r\n        let current = this.Room.GetRoomConfigByProperty(\"setCount\");\r\n        let fangjian = this.Room.GetRoomConfigByProperty(\"fangjian\");\r\n\r\n        //显示房间信息\r\n        this.labeiWanfa.string = this.WanFa(undefined, 1);\r\n        if (app[app.subGameName + \"_ShareDefine\"]().isCoinRoom) {\r\n            this.roomInfo.active = false;\r\n        } else {\r\n            this.roomInfo.active = true;\r\n            this.labelRoomId.string = \"房号：\" + this.Room.GetRoomProperty(\"key\");\r\n            this.lb_jushu.string = \"局数：\" + setID + \"/\" + current;\r\n        }\r\n\r\n        //显示时间和电量\r\n        this.schedule(() => {\r\n            const dateE = new Date();\r\n            const dian = cc.sys.getBatteryLevel();\r\n            let hours = dateE.getHours();\r\n            let minutes = dateE.getMinutes();\r\n            this.lb_time.string = `${hours < 10 ? ('0' + hours) : hours}:${minutes < 10 ? ('0' + minutes) : minutes}`;\r\n            this.lb_dianLiang.string = Math.floor(dian * 100) + '%';\r\n            this.pro_dianLiang.progress = dian;\r\n        }, 1);\r\n\r\n        let playerAll = this.Room.GetRoomPosMgr().GetRoomAllPlayerInfo();\r\n        let playerAllList = Object.keys(playerAll);\r\n        let joinPlayerCount = playerAllList.length;\r\n        if (fangjian.length == 0) {\r\n            this.btn_change.active = false;\r\n        } else {\r\n            if (setID == 0 && joinPlayerCount == 3) {\r\n                this.btn_change.active = true;\r\n            } else {\r\n                this.btn_change.active = false;\r\n            }\r\n        }\r\n        if (typeof(disslove) != \"undefined\") {\r\n            if (disslove) {\r\n                let posAgreeList = disslove.posAgreeList;\r\n                if (0 != posAgreeList.length) {\r\n                    this.FormManager.ShowForm(app.subGameName + \"_UIMessage02\");\r\n                }\r\n            }\r\n        }\r\n\r\n        if (roomState != this.ShareDefine.RoomState_Init) {\r\n            this.btn_look_wanfa.active = false;\r\n            let setInfo = this.RoomSet.GetRoomSetInfo();\r\n            //如果有玩家托管  显示托管图标\r\n            let posList = this.Room.GetRoomProperty(\"posList\");\r\n\r\n            for (let i = 0; i < posList.length; i++) {\r\n                let data = posList[i];\r\n                let pos = data['pos'];\r\n                let isAuto = data['trusteeship'];\r\n                if (isAuto) {\r\n                    let headScript = this.GetUICardComponentByPos(pos);\r\n                    headScript.ShowAutoIcon(isAuto);\r\n                }\r\n                if (pos == this.RoomPosMgr.GetClientPos() && isAuto) {\r\n                    let secTotal= this.RoomSet.GetSecTotal()\r\n                    this.FormManager.ShowForm(app.subGameName + \"_UIAutoPlay\", secTotal);\r\n                }\r\n            }\r\n            //分数\r\n            // this.RoomPosMgr.OnPoint(setInfo.posInfo, true);\r\n            this.UpdatePlayerScore();\r\n            //发牌阶段\r\n            if (state == this.ShareDefine.SetState_Init) {\r\n                this.InitGameStateCommon();\r\n                this.ChooseDouble();\r\n            } else if (state == this.ShareDefine.SetState_Playing) {\r\n                this.InitGameStateCommon();\r\n                this.HideClientUseTime();\r\n                //显示已用房间限时时间\r\n                this.ShowUseTimeByInfo();\r\n                this.LogicPDKGame.SetCardData(setInfo.opType, setInfo.cardList);\r\n                //显示当前操作位和上家出的牌\r\n                let time = this.GetClockTime();\r\n                let runWaitSec = setInfo.runWaitSec;\r\n                this.lastCircleEnd = setInfo.isFirstOp;\r\n                this.firstTurn = setInfo.isFirstOp;\r\n                if (setInfo.opPos == this.RoomPosMgr.GetClientPos()) {\r\n                    //是否执行房间限时时间\r\n                     this.ScheduleTime(setInfo.opPos);\r\n                    if (setInfo.isFirstOp) {\r\n                        if (this.Room.GetRoomWanfa(this.Define.SEVER_FIRST3)) {\r\n                            this.ShowBtnTipAndOutCard();\r\n                        } else {\r\n                            this.ShowBtnTipAndOutCard();\r\n                        }\r\n                    } else {\r\n                        if (setInfo.opType == 0) {\r\n                            this.ShowBtnTipAndOutCard();\r\n                        } else {\r\n                            let array = this.LogicPDKGame.GetTipCard();\r\n                            this.ForbiddenTouch(array);\r\n                            if (!array.length) {\r\n                                if (this.isAutoPass()) {\r\n                                    // this.ShowSysMsg(app.subGameName.toUpperCase() + \"_PASS\");\r\n                                    time = this.Define.MinTickTime;\r\n                                } else {\r\n                                    this.ShowBtnPass();\r\n                                }\r\n                            } else {\r\n                                //是否是必出玩法\r\n                                if (this.Room.GetRoomWanfa(this.Define.SEVER_BMUST)) {\r\n                                    this.ShowAllGameBtn();\r\n                                } else {\r\n                                    this.ShowBtnTipAndOutCard();\r\n                                }\r\n                                if (array.length == 1) {\r\n                                    this.Click_btn_tip();\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                } else {\r\n                    let firstOpCard = this.RoomSet.GetRoomSetProperty(\"firstOpCard\");\r\n                    //是否显示黑桃3\r\n                    let uiPos = this.RoomPosMgr.GetUIPosByDataPos(setInfo.opPos);\r\n                    if (setInfo.isFirstOp) { //&& setInfo.robCloseVic.pos == -1\r\n                        // let poker_back = this.GetWndNode(\"sp_seat0\" + uiPos + \"/card/poker_back\");\r\n                        // poker_back.active = false;\r\n                        // this.ShowCard(firstOpCard, poker_back.parent, true);\r\n                    }\r\n                }\r\n                this.ShowOutCard(setInfo.lastOpPos, setInfo.cardList, setInfo.opType);\r\n                this.SetSeat01OutCardPos(setInfo.lastOpPos, setInfo.cardList.length);\r\n                this.StartTickTime(setInfo.opPos, runWaitSec, time);\r\n            } else if (state == this.ShareDefine.SetState_End) {\r\n                //如果玩家已经准备则不显示结算界面\r\n                let clientPos = this.RoomPosMgr.GetClientPos();\r\n                let clientPlayerInfo = this.RoomPosMgr.GetPlayerInfoByPos(clientPos);\r\n                if (clientPlayerInfo[\"gameReady\"]) {\r\n                    this.RefreshRoomShow();\r\n                    return;\r\n                }\r\n                let setEnd = this.RoomSet.GetRoomSetProperty(\"setEnd\");\r\n                this.FormManager.ShowForm(\"game/\" + app.subGameName.toUpperCase() + \"/UI\" + app.subGameName.toUpperCase() + \"_ResultXY\", setEnd);\r\n            }\r\n        } else {\r\n            this.RefreshRoomShow();\r\n        }\r\n        /* //显示房间信息\r\n         if(app[app.subGameName+\"_ShareDefine\"]().isCoinRoom){\r\n             this.roomInfo.active = false;\r\n         }else{\r\n             this.roomInfo.active = true;\r\n             this.labelRoomId.string = \"房号：\"+room.GetRoomProperty(\"key\");\r\n             this.labeiWanfa.string = this.WanFa();\r\n         }*/\r\n\r\n    },\r\n\r\n    //老版皮肤\r\n    onShowGame1: function() {\r\n        this.labeiWanfa.node.color = cc.color(40, 82, 109);\r\n    },\r\n\r\n    //新增皮肤\r\n    onShowGame2: function() {\r\n\r\n    },\r\n\r\n    ChangeBg: function(GameBgID) {\r\n        GameBgID = parseInt(GameBgID) - 1;\r\n        this.GameBg = GameBgID;\r\n        if (GameBgID) {\r\n            this.onShowGame2();\r\n        } else {\r\n            this.onShowGame1();\r\n        }\r\n    },\r\n    isZhaDanKeCai: function() {\r\n        if (this.Room.GetRoomWanfa(this.Define.SEVER_BMUSTBOMB)) {\r\n            return true;\r\n        }\r\n        return false;\r\n    },\r\n    isAutoPass: function() {\r\n        let room = this.RoomMgr.GetEnterRoom();\r\n        let kexuanwanfa = room.GetRoomConfigByProperty('kexuanwanfa');\r\n        if (kexuanwanfa.length > 0) {\r\n            if (kexuanwanfa.indexOf(26) > -1) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    },\r\n    isAutoReady: function() {\r\n        let room = this.RoomMgr.GetEnterRoom();\r\n        let kexuanwanfa = room.GetRoomConfigByProperty('kexuanwanfa');\r\n        if (kexuanwanfa.length > 0) {\r\n            if (kexuanwanfa.indexOf(27) > -1) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    },\r\n    IsShowVoice: function() {\r\n        let room = this.RoomMgr.GetEnterRoom();\r\n        let gaoji = room.GetRoomConfigByProperty('gaoji');\r\n        if (gaoji.length > 0) {\r\n            if (gaoji.indexOf(5) > -1) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    },\r\n    IsShowChat: function() {\r\n        let room = this.RoomMgr.GetEnterRoom();\r\n        let gaoji = room.GetRoomConfigByProperty('gaoji');\r\n        if (gaoji.length > 0) {\r\n            if (gaoji.indexOf(6) > -1) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    },\r\n    InitCardNum: function(pos, count) {\r\n        if (this.RoomPosMgr.GetClientPos() == pos) return;\r\n        let uiPos = this.RoomPosMgr.GetUIPosByDataPos(pos);\r\n        let card = this.GetWndNode(\"sp_seat0\" + uiPos + \"/card\");\r\n        card.active = true;\r\n        let cardNum = this.GetWndNode(\"sp_seat0\" + uiPos + \"/cardNum\");\r\n        cardNum.active = true;\r\n        cardNum.active = false;\r\n        cardNum.getComponent(cc.Label).string = count.toString() + '';\r\n        if (this.Room.GetRoomWanfa(this.Define.SEVER_SHOWCARDNUM)) {\r\n            // if(true){//默认显示\r\n            cardNum.active = true;\r\n        }\r\n    },\r\n    GetClockTime: function() {\r\n        let second = 0;\r\n        let xianshi = this.Room.GetRoomXianShi();\r\n        if (xianshi == 0) {\r\n            second = 60;\r\n        } else if (xianshi == 1) {\r\n            second = 180;\r\n        } else if (xianshi == 2) {\r\n            second = 300;\r\n        } else if (xianshi == 3) {\r\n            second = 60;\r\n        } else if (xianshi == 4) {\r\n            second = 30;\r\n        } else if (xianshi == 5) {\r\n            second = 15;\r\n        }\r\n        return second;\r\n    },\r\n    ReInRoom: function(room) {\r\n        let roomID = this.RoomMgr.GetEnterRoomID();\r\n        this.RoomMgr.SendGetRoomInfo(roomID);\r\n    },\r\n    ////////////////////////////////show///////////////////////////////////////////\r\n    RefreshRoomShow: function() {\r\n        let room = this.RoomMgr.GetEnterRoom();\r\n        this.ShowPlayerReady(room);\r\n    },\r\n\r\n    HideAllZhunBeiLabel: function() {\r\n        let playerAll = this.RoomPosMgr.GetRoomAllPlayerInfo();\r\n        let playerAllList = Object.keys(playerAll);\r\n        for (var i = 0; i < playerAllList.length; i++) {\r\n            let player = playerAll[playerAllList[i]];\r\n            let uiPos = this.RoomPosMgr.GetUIPosByDataPos(player.pos);\r\n            let path = \"sp_seat0\" + uiPos + \"/head\" + \"/LPUIPublicHead\" + uiPos;\r\n            let headNode = this.GetWndNode(path);\r\n            if (!headNode || typeof(headNode) == \"undefined\") continue;\r\n            let headScript = headNode.getComponent(app.subGameName + \"_LPUIPublicHead\");\r\n            headScript.setReady(false);\r\n        }\r\n    },\r\n\r\n    ShowOrHideZhunbei: function(pos, isShow) {\r\n        let headScript = this.GetUICardComponentByPos(pos);\r\n        headScript.setReady(isShow);\r\n    },\r\n\r\n    HidePlayerAllBtn: function() {\r\n        this.btn_ready.active = false;\r\n        this.btn_weixin.active = false;\r\n        this.btn_cancel.active = false;\r\n        this.btn_go.active = false;\r\n        this.invitationNode.active = false;\r\n    },\r\n\r\n    HideAllMessage: function() {\r\n        if (this.messageLayer == null) {\r\n            this.messageLayer = cc.find('messageLayer', this.node);\r\n        }\r\n        for (let i = 0; i < this.messageLayer.childrenCount; i++) {\r\n            this.messageLayer.children[i].active = false;\r\n        }\r\n    },\r\n\r\n    showHideMessageOfChildrenName: function(childrenName, isShow) {\r\n        if (this.messageLayer == null) {\r\n            this.messageLayer = cc.find('messageLayer', this.node);\r\n        }\r\n        cc.find(childrenName, this.messageLayer).active = isShow;\r\n        if (isShow) {\r\n            cc.find(childrenName, this.messageLayer).getComponent(cc.Animation).stop();\r\n            cc.find(childrenName, this.messageLayer).getComponent(cc.Animation).play();\r\n        }\r\n    },\r\n\r\n    HideAll: function() {\r\n        this.HideAllZhunBeiLabel();\r\n        this.HidePlayerAllBtn();\r\n        this.HideAllClock();\r\n        this.HideAllHandCard();\r\n        this.HideAllPass();\r\n        this.HideAllWarning();\r\n        this.HideAllCardNum();\r\n        this.HideAllOutCard();\r\n        this.HideAllGameBtn();\r\n        this.HideAllBsNode();\r\n        this.HideAllOpenCard();\r\n        this.HideAllMessage();\r\n        this.btn_robDoor.active = false;\r\n        this.btn_notRobDoor.active = false;\r\n        this.btn_openCard.active = false;\r\n    },\r\n\r\n    HideAllAni: function() {\r\n        this.plane_Ani.active = false;\r\n        this.boom_Ani.active = false;\r\n        this.dragon_Ani.active = false;\r\n    },\r\n\r\n    OnClickForm: function() {\r\n        //        this.FormManager.CloseForm(app.subGameName+\"_UIChat\");\r\n    },\r\n\r\n    OnClick: function(btnName, btnNode) {\r\n        console.log('btnName', btnName, btnNode);\r\n        let roomID = this.Room.GetRoomProperty(\"roomID\");\r\n        let pos = this.RoomPosMgr.GetClientPos();\r\n        let state = this.RoomSet.GetRoomSetProperty(\"state\");\r\n        if (btnName == \"btn_go\") {\r\n            this.Click_btn_go();\r\n        } else if (btnName == 'btn_look_wanfa' || btnName == 'btn_wanfa_looked' || btnName == 'imgRoomIdDi') {\r\n            cc.find('btn_wanfa_looked', this.node).active = !cc.find('btn_wanfa_looked', this.node).active;\r\n        } else if (btnName == \"btn_ready\") {\r\n            this.Click_btn_ready();\r\n        } else if (btnName == \"btn_cancel\") {\r\n            this.Click_btn_cancel();\r\n        } else if (btnName == \"btn_weixin\") {\r\n            this.Click_btn_weixin();\r\n        } else if (btnName == \"bg\") {\r\n            //            this.FormManager.CloseForm(app.subGameName+\"_UIChat\");\r\n        } else if (btnName == \"btn_pass\") {\r\n            this.Click_btn_pass();\r\n        } else if (btnName == \"btn_tip\") {\r\n            this.Click_btn_tip();\r\n        } else if (btnName == \"btn_outCard\") {\r\n            this.Click_btn_outCard();\r\n        } else if (btnName == \"btn_1\") {\r\n            this.RoomMgr.SendAddDouble(roomID, pos, 0);\r\n        } else if (btnName == \"btn_2\") {\r\n            this.RoomMgr.SendAddDouble(roomID, pos, 1);\r\n        } else if (btnName == \"btn_3\") {\r\n            this.RoomMgr.SendAddDouble(roomID, pos, 2);\r\n        } else if (btnName == \"btn_5\") {\r\n            this.RoomMgr.SendAddDouble(roomID, pos, 5);\r\n        } else if (btnName == \"btn_robDoor\") {\r\n            this.RoomMgr.SendRoobDoor(roomID, pos, 1);\r\n        } else if (btnName == \"btn_notRobDoor\") {\r\n            this.RoomMgr.SendRoobDoor(roomID, pos, 0);\r\n        } else if (btnName == \"btn_openCard\") {\r\n            this.RoomMgr.SendOpenCard(roomID, pos, 1);\r\n        } else if (btnName == \"btn_jsfj\" || btnName == \"btn_exit\") {\r\n            //提示退出房间还是查看大厅\r\n            let room = this.RoomMgr.GetEnterRoom();\r\n            let roomCfg = room.GetRoomConfig();\r\n            if (roomCfg.clubId != 0) {\r\n                this.node.getChildByName(\"tip_exit_node\").zIndex = 100;\r\n                this.node.getChildByName(\"tip_exit_node\").active = true;\r\n            } else {\r\n                this.Click_btn_jiesan();\r\n            }\r\n        } else if (btnName == \"btn_close_tip\") {\r\n            this.node.getChildByName(\"tip_exit_node\").active = false;\r\n        } else if (btnName == \"btn_exit_room\") {\r\n            this.Click_btn_jiesan();\r\n        } else if (btnName == \"btn_go_hall\") {\r\n            app[app.subGameName + \"Client\"].ExitGame(null, '0');\r\n        } else if (btnName == \"btn_shuaxin\") {\r\n            this.ReInRoom();\r\n        } else if (btnName == \"btn_gps\") {\r\n            let PlayerCount = this.RoomPosMgr.GetRoomPlayerCount();\r\n            if (PlayerCount <= 2) {\r\n                app[app.subGameName + \"_SysNotifyManager\"]().ShowSysMsg('MSG_GPS_LOST_PLAYER');\r\n                return;\r\n            }\r\n            if (this.FormManager.IsFormShow(app.subGameName + \"_UIGPSLoation\")) {\r\n                this.FormManager.CloseForm(app.subGameName + \"_UIGPSLoation\");\r\n            } else {\r\n                this.FormManager.ShowForm(app.subGameName + \"_UIGPSLoation\");\r\n            }\r\n        } else if (btnName == \"btn_voice\") {} else if (btnName == \"btn_chat\") {\r\n            this.FormManager.ShowForm(app.subGameName + \"_UIChat\");\r\n        } else if (btnName == \"btn_setting\") {\r\n            this.FormManager.ShowForm(app.subGameName + \"_UISetting02\");\r\n        } else if (btnName == \"btn_change\") {\r\n            this.Click_btn_change();\r\n        } else if (btnName == \"touming\") {\r\n            if (state == this.ShareDefine.SetState_Playing) {\r\n                //手牌回落\r\n                this.LogicPDKGame.ChangeSelectCard([]);\r\n                this.Event_ShowHandCard();\r\n            }\r\n        } else {\r\n            this.ErrLog(\"OnClick(%s) not find\", btnName);\r\n        }\r\n    },\r\n    Event_CodeError: function(event) {\r\n        let argDict = event;\r\n        let data = argDict[\"Result\"];\r\n        if (data.Msg == \"hei tao san bi chu\") {\r\n            this.ShowSysMsg(\"黑桃三先出\");\r\n        } else if(argDict.Code == this.ShareDefine.OpCard_Error){\r\n            //出牌后手牌出错\r\n            this.ReInRoom();\r\n        } else if (argDict.Code == this.ShareDefine.SportsPointNotEnough) {\r\n            this.ShowSysMsg(\"比赛分不足房间自动解散\");\r\n            // this.SetWaitForConfirm(\"SportsPointNotEnough\", this.ShareDefine.ConfirmYN, []);\r\n        } else if (argDict.Code == this.ShareDefine.ApplyDissolve) {\r\n            this.ShowSysMsg(\"申请解散次数已达上限\");\r\n        } else if (argDict.Code == this.ShareDefine.NotAllow) {\r\n            if (this.FormManager.IsFormShow(\"game/\" + app.subGameName.toUpperCase() + \"/UI\" + app.subGameName.toUpperCase() + \"_ResultXY\")) {\r\n                this.FormManager.CloseForm(\"game/\" + app.subGameName.toUpperCase() + \"/UI\" + app.subGameName.toUpperCase() + \"_ResultXY\");\r\n            }\r\n        }\r\n    },\r\n    Click_btn_jiesan: function() {\r\n        let room = this.RoomMgr.GetEnterRoom();\r\n        if (!room) {\r\n            this.ErrLog(\"Click_btn_jiesan not enter room\");\r\n            return\r\n        }\r\n        let roomPosMgr = this.RoomMgr.GetEnterRoom().GetRoomPosMgr();\r\n        if (app[app.subGameName + \"_ShareDefine\"]().isCoinRoom) {\r\n            //Event_ExitRoomSuccess 都有做退出处理\r\n            //Event_CodeError\r\n            // let needArg = roomPosMgr.GetClientPos();\r\n            // let roomID = this.RoomMgr.GetEnterRoomID();\r\n            // app[app.subGameName + \"_GameManager\"]().SendExitRoom(roomID, needArg);\r\n            // app[app.subGameName + \"_FormManager\"]().AddDefaultFormName(app.subGameName+\"UIPractice\");\r\n            app[app.subGameName + \"Client\"].ExitGame();\r\n            return;\r\n        }\r\n\r\n        let state = room.GetRoomProperty(\"state\");\r\n        if (state == this.ShareDefine.RoomState_End) {\r\n            //直接退出到大厅\r\n            app[app.subGameName + \"Client\"].ExitGame();\r\n            return\r\n        }\r\n        let ClientPos = roomPosMgr.GetClientPos();\r\n        let player = roomPosMgr.GetPlayerInfoByPos(ClientPos);\r\n        if (!player)\r\n            return;\r\n        let posName = player.name;\r\n        let roomID = this.RoomMgr.GetEnterRoomID();\r\n        if (state == this.ShareDefine.RoomState_Playing) {\r\n            let jiesan = room.GetRoomConfigByProperty('jiesan');\r\n            if (jiesan == 4) {\r\n                this.ShowSysMsg(\"房间不可以解散\");\r\n                return;\r\n            }\r\n            // app[app.subGameName + \"_GameManager\"]().SendDissolveRoom(roomID, posName);\r\n            app[app.subGameName + \"_ConfirmManager\"]().SetWaitForConfirmForm(this.OnConFirm.bind(this), 'MSG_GAME_DissolveRoom', []);\r\n            app[app.subGameName + \"_ConfirmManager\"]().ShowConfirm(this.ShareDefine.Confirm, 'MSG_GAME_DissolveRoom', []);\r\n            return\r\n        }\r\n\r\n        let msgID = '';\r\n\r\n        let roomCfg = room.GetRoomConfig();\r\n        if (roomCfg.createType == 2 || roomCfg.clubId != 0) {\r\n            msgID = 'UIMoreTuiChuFangJian';\r\n        } else {\r\n            if (room.IsClientIsCreater()) {\r\n                msgID = 'PlayerLeaveRoom';\r\n            } else {\r\n                msgID = 'UIMoreTuiChuFangJian';\r\n            }\r\n        }\r\n\r\n        app[app.subGameName + \"_ConfirmManager\"]().SetWaitForConfirmForm(this.OnConFirm.bind(this), msgID, []);\r\n        app[app.subGameName + \"_ConfirmManager\"]().ShowConfirm(this.ShareDefine.Confirm, msgID, []);\r\n    },\r\n    //切换人数\r\n    Click_btn_change: function() {\r\n        let roomID = this.RoomMgr.GetEnterRoomID();\r\n        let that = this;\r\n        app[app.subGameName + \"_NetManager\"]().SendPack(app.subGameName + \".C\" + app.subGameName.toUpperCase() + \"ChangePlayerNum\", {\r\n                \"roomID\": roomID\r\n            }, function(success) {\r\n\r\n            },\r\n            function(error) {\r\n                let msg = error.Msg;\r\n                that.ShowSysMsg(msg);\r\n            });\r\n    },\r\n\r\n    Click_btn_tip: function() {\r\n        //是否要先出黑桃3\r\n        let array = this.LogicPDKGame.GetTipCard();\r\n        if (this.firstTurn && this.Room.GetRoomWanfa(this.Define.SEVER_FIRST3) && !this.robSuccess) {\r\n            let firstOpCard = this.RoomSet.GetRoomSetProperty(\"firstOpCard\");\r\n            let value = this.LogicPDKGame.GetCardValue(firstOpCard);\r\n            this.ShowSysMsg(app.subGameName.toUpperCase() + \"_3FIRST\", [value]);\r\n        }\r\n\r\n        if (array.length) {\r\n            if (this.tipCount >= array.length) {\r\n                this.tipCount = 0;\r\n            }\r\n            this.LogicPDKGame.ChangeSelectCard(array[this.tipCount]);\r\n            this.Event_ShowHandCard();\r\n            this.tipCount++;\r\n        }\r\n\r\n        this.canOutCard();\r\n    },\r\n\r\n    Click_btn_pass: function() {\r\n        let serverPack = {};\r\n        let roomID = this.RoomMgr.GetEnterRoom().GetRoomProperty(\"roomID\");\r\n        serverPack.roomID = roomID;\r\n        let pos = this.RoomPosMgr.GetClientPos();\r\n        serverPack.pos = pos;\r\n        serverPack.opCardType = 1;\r\n        serverPack.cardList = [];\r\n        this.RoomMgr.SendOpCard(serverPack);\r\n    },\r\n\r\n    IsDownPosSingleCard: function() {\r\n        let totalNum = -1;\r\n        let playerNum = this.RoomPosMgr.GetPosCount();\r\n        if (playerNum == 2) {\r\n            totalNum = this.GetDownPosCardNum('downPos');\r\n            if (totalNum == 1) {\r\n                return true;\r\n            }\r\n        } else if (playerNum == 3) {\r\n            totalNum = this.GetDownPosCardNum('downPos');\r\n            if (totalNum == 1) {\r\n                return true;\r\n            } else if (totalNum == 0) {\r\n                totalNum = this.GetDownPosCardNum('upPos');\r\n                if (totalNum == 1) {\r\n                    return true;\r\n                }\r\n            }\r\n        } else if (playerNum == 4) {\r\n            totalNum = this.GetDownPosCardNum('downPos');\r\n            if (totalNum == 1) {\r\n                return true;\r\n            } else if (totalNum == 0) {\r\n                totalNum = this.GetDownPosCardNum('facePos');\r\n                if (totalNum == 1) {\r\n                    return true;\r\n                } else if (totalNum == 0) {\r\n                    totalNum = this.GetDownPosCardNum('upPos');\r\n                    if (totalNum == 1) {\r\n                        return true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    },\r\n\r\n    GetDownPosCardNum: function(posTag) {\r\n        let clientPos = -1;\r\n        let uiPos = -1;\r\n        if (posTag == 'downPos') {\r\n            clientPos = this.RoomPosMgr.GetClientDownPos();\r\n        } else if (posTag == 'facePos') {\r\n            clientPos = this.RoomPosMgr.GetClientFacePos();\r\n        } else if (posTag == 'upPos') {\r\n            clientPos = this.RoomPosMgr.GetClientUpPos();\r\n        }\r\n        uiPos = this.RoomPosMgr.GetUIPosByDataPos(clientPos);\r\n        let cardNode = this.GetWndNode(\"sp_seat0\" + uiPos + \"/cardNum\");\r\n        return parseInt(cardNode.getComponent(cc.Label).string);\r\n    },\r\n\r\n    Click_btn_outCard: function() {\r\n        console.log(\"点击打牌按钮\");\r\n        //发给服务端的消息\r\n        let serverPack = {};\r\n        let roomID = this.RoomMgr.GetEnterRoom().GetRoomProperty(\"roomID\");\r\n        serverPack.roomID = roomID;\r\n        let pos = this.RoomPosMgr.GetClientPos();\r\n        serverPack.pos = pos;\r\n        let opCardType = this.LogicPDKGame.GetCardType();\r\n        console.log(\"获取打牌的牌型：\" + opCardType, serverPack);\r\n        this.ClientOpCardByType(opCardType, serverPack);\r\n    },\r\n\r\n    hideImg_ts_db: function() {\r\n        this.showHideMessageOfChildrenName('img_ts_bd', false);\r\n    },\r\n\r\n    ClientOpCardByType: function(opCardType, serverPack, isSelectCard = true) {\r\n        if (opCardType > 0) {\r\n            serverPack.opCardType = opCardType;\r\n            let cardList = [];\r\n            if (isSelectCard) {\r\n                cardList = this.LogicPDKGame.GetSelectCard();\r\n            } else {\r\n                cardList = this.LogicPDKGame.GetHandCard();\r\n            }\r\n            //下家如果只有一张单牌 必须从最大牌出\r\n            if (this.IsDownPosSingleCard()) {\r\n                if (opCardType == 2) {\r\n                    let handeCardList = this.LogicPDKGame.GetHandCard();\r\n                    let aValue = this.LogicPDKGame.GetCardValue(handeCardList[0]);\r\n                    let bValue = this.LogicPDKGame.GetCardValue(cardList[0]);\r\n                    if (bValue != aValue) {\r\n                        // this.ShowSysMsg(app.subGameName.toUpperCase() + \"_BAODAN\");\r\n                        this.showHideMessageOfChildrenName('img_ts_bd', true);\r\n                        this.unschedule(this.hideImg_ts_db);\r\n                        this.scheduleOnce(this.hideImg_ts_db.bind(this), 2);\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n            let firstOpCard = this.RoomSet.GetRoomSetProperty(\"firstOpCard\");\r\n            //获取当前局数\r\n            let setID = this.RoomMgr.GetEnterRoom().GetRoomProperty(\"setID\");\r\n            //如果抢关门成功首轮可以不出黑桃3\r\n            if (!this.robSuccess) {\r\n                //是否每局先出黑桃3\r\n                if (this.Room.GetRoomWanfa(this.Define.SEVER_FIRST3) && this.firstTurn) {\r\n                    if (cardList.indexOf(firstOpCard) == -1 && !this.Room.GetRoomWanfa(this.Define.SEVER_FIRST3NOCHU3)) {\r\n                        this.ShowSysMsg(\"MSG_CANT_OUT\");\r\n                        this.ReInRoom();\r\n                        return;\r\n                    }\r\n                }\r\n                //是否首局先出黑桃3\r\n                else if (this.Room.GetRoomWanfa(this.Define.SEVER_SHOUJUFIRST3) && this.firstTurn && setID == 1) {\r\n                    if (cardList.indexOf(firstOpCard) == -1 && !this.Room.GetRoomWanfa(this.Define.SEVER_FIRST3NOCHU3)) {\r\n                        this.ShowSysMsg(\"MSG_CANT_OUT\");\r\n                        this.ReInRoom();\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (!this.Room.GetRoomWanfa(this.Define.SEVER_BMUSTBOMB)) {\r\n                //检测出的牌是否有包含炸弹拆开的\r\n                if (this.LogicPDKGame.IsDismantleBoom()) {\r\n                    this.ShowSysMsg(app.subGameName.toUpperCase() + \"_ZDBUCHAI_ERROR\");\r\n                    return;\r\n                }\r\n            }\r\n            this.LogicPDKGame.TransformValueToS(cardList);\r\n\r\n            if (!this.CheckSelCardListInHandCard(cardList)) {\r\n                app[app.subGameName + \"_SysNotifyManager\"]().ShowSysMsg(\"请重新选牌\", [], 3);\r\n                this.ReInRoom();\r\n                return;\r\n            }\r\n            if (!this.CheckSelCardListOrCardList(cardList) && isSelectCard == true) {\r\n                console.log(\"CheckSelCardListOrCardList ==\", cardList);\r\n                app[app.subGameName + \"_SysNotifyManager\"]().ShowSysMsg(\"选牌有误，请重新选择\", [], 3);\r\n                //手牌回落\r\n                this.LogicPDKGame.ChangeSelectCard([]);\r\n                this.Event_ShowHandCard();\r\n                return;\r\n            }\r\n            serverPack.cardList = cardList;\r\n            serverPack.daiNum = this.LogicPDKGame.GetDaiNum();\r\n            console.log(\"打出去的牌类型 ==\" + serverPack.opCardType, serverPack);\r\n            if (this.outCardPackageVerification(serverPack)) {\r\n                this.RoomMgr.SendOpCard(serverPack);\r\n            } else {\r\n                this.ShowSysMsg('MSG_CANT_OUT');\r\n                this.ReInRoom();\r\n            }\r\n        } else {\r\n            this.ShowSysMsg(\"MSG_CANT_OUT\");\r\n            this.ReInRoom();\r\n        }\r\n    },\r\n\r\n    Click_btn_ready: function() {\r\n        let room = this.RoomMgr.GetEnterRoom();\r\n        if (!room) {\r\n            this.ErrLog(\"Click_btn_ready not enter room\");\r\n            return\r\n        }\r\n        let roomID = room.GetRoomProperty(\"roomID\");\r\n        let clientPos = room.GetRoomPosMgr().GetClientPos();\r\n        console.log('roomID', roomID, clientPos);\r\n        app[app.subGameName + \"_GameManager\"]().SendReady(roomID, clientPos);\r\n    },\r\n\r\n    Click_btn_cancel: function() {\r\n        let room = this.RoomMgr.GetEnterRoom();\r\n        if (!room) {\r\n            this.ErrLog(\"Click_btn_cancel not enter room\");\r\n            return\r\n        }\r\n        let roomID = room.GetRoomProperty(\"roomID\");\r\n        let clientPos = room.GetRoomPosMgr().GetClientPos();\r\n        app[app.subGameName + \"_GameManager\"]().SendUnReady(roomID, clientPos);\r\n    },\r\n\r\n    Click_btn_go: function() {\r\n        // let roomID = this.RoomMgr.GetEnterRoomID();\r\n        // this.RoomMgr.SendStartRoomGame(roomID);\r\n    },\r\n\r\n    //////////////////////////////////////////////////////////////////////////\r\n    Event_PosReadyChg: function(event) {\r\n        this.RefreshRoomShow();\r\n        let serverPack = event;\r\n        app[app.subGameName + \"Client\"].OnEvent(\"Head_PosReadyChg\", serverPack);\r\n    },\r\n\r\n    Event_RoomEnd: function(event) {\r\n        // this.HideAll();\r\n    },\r\n\r\n    OnPack_AutoStart: function(event) {\r\n\r\n    },\r\n\r\n    //一局开始event\r\n    Event_SetStart: function(event) {\r\n        this.FormManager.CloseForm(app.subGameName + \"_UILPPublic_Record\");\r\n        this.FormManager.CloseForm(app.subGameName + \"_UIPublic_Record\");\r\n        this.FormManager.CloseForm(\"game/\" + app.subGameName.toUpperCase() + \"/UI\" + app.subGameName.toUpperCase() + \"_ResultXY\");\r\n        app[app.subGameName + \"Client\"].OnEvent(\"SetStart\");\r\n        this.firstTurn = true;\r\n        this.LogicPDKGame.InitHandCard();\r\n        this.ClearForbiddenTouch();\r\n        this.allCardIdx = 0;\r\n        this.hanCardIdx = 0;\r\n        this.player1Idx = 0;\r\n        this.player2Idx = 0;\r\n        this.player3Idx = 0;\r\n        this.openCardInfo = {};\r\n        this.HideAll();\r\n        //隐藏切换人数\r\n        this.btn_change.active = false;\r\n        //显示需要发的牌\r\n        this.ShowAllCard();\r\n        //从房主开始发牌\r\n        this.fk3Start();\r\n        this.btn_look_wanfa.active = false;\r\n        // let ownerID = this.RoomMgr.GetEnterRoom().GetRoomProperty(\"ownerID\");\r\n        let posInfo = event[\"setInfo\"].posInfo;\r\n        let playerAll = this.RoomPosMgr.GetRoomAllPlayerInfo();\r\n        let playerAllList = Object.keys(playerAll);\r\n        for (var i = 0; i < playerAllList.length; i++) {\r\n            let player = playerAll[playerAllList[i]];\r\n            // if(ownerID == player.pid){\r\n            //     owner = player;\r\n            // }\r\n            let cardsCount = posInfo[i].cards.length;\r\n            this.InitCardNum(player.pos, cardsCount);\r\n        }\r\n        if (this.Room.GetRoomWanfa(this.Define.SEVER_MINGCARD)) {\r\n            this.btn_openCard.active = true;\r\n        }\r\n\r\n        let ClientPos = this.RoomPosMgr.GetClientPos();\r\n        this.FaPaiAction(ClientPos);\r\n        this.SetRoomData();\r\n    },\r\n    //更新局数\r\n    SetRoomData: function() {\r\n        let setID = this.Room.GetRoomProperty(\"setID\");\r\n        let current = this.Room.GetRoomConfigByProperty(\"setCount\");\r\n        this.lb_jushu.string = \"局数：\" + setID + \"/\" + current;\r\n    },\r\n    //-----------------回调函数------------------------\r\n    Event_ChatMessage: function(event) {\r\n        let argDict = event;\r\n        let senderPid = argDict[\"senderPid\"];\r\n        let quickID = parseInt(argDict[\"quickID\"]);\r\n        let content = argDict[\"content\"];\r\n\r\n        let playerList = this.RoomMgr.GetEnterRoom().GetRoomPosMgr().GetRoomAllPlayerInfo();\r\n        let playerListKey = Object.keys(playerList);\r\n        let initiatorPos = \"\";\r\n        for (let i = 0; i < playerListKey.length; i++) {\r\n            let player = playerList[playerListKey[i]];\r\n            let pid = player[\"pid\"];\r\n            if (senderPid == pid) {\r\n                initiatorPos = parseInt(i);\r\n            }\r\n        }\r\n        let playerSex = this.InitHeroSex(initiatorPos);\r\n        let soundName = \"\";\r\n        let path = \"\";\r\n        if (quickID < 101) {\r\n            switch (quickID) {\r\n                case 1:\r\n                    content = app.i18n.t(\"UIVoiceStringBieChao\");\r\n                    soundName = [playerSex, \"_FastVoice_1\"].join(\"\");\r\n                    break;\r\n                case 2:\r\n                    content = app.i18n.t(\"UIVoiceStringBieZou\");\r\n                    soundName = [playerSex, \"_FastVoice_2\"].join(\"\");\r\n                    break;\r\n                case 3:\r\n                    content = app.i18n.t(\"UIVoiceStringZhaoHu\");\r\n                    soundName = [playerSex, \"_FastVoice_3\"].join(\"\");\r\n                    break;\r\n                case 4:\r\n                    content = app.i18n.t(\"UIVoiceStringZanLi\");\r\n                    soundName = [playerSex, \"_FastVoice_4\"].join(\"\");\r\n                    break;\r\n                case 5:\r\n                    content = app.i18n.t(\"UIVoiceStringZanShang\");\r\n                    soundName = [playerSex, \"_FastVoice_5\"].join(\"\");\r\n                    break;\r\n                case 6:\r\n                    content = app.i18n.t(\"UIVoiceStringCuiCu\");\r\n                    soundName = [playerSex, \"_FastVoice_6\"].join(\"\");\r\n                    break;\r\n                case 7:\r\n                    content = app.i18n.t(\"UIVoiceStringKuaJiang\");\r\n                    soundName = [playerSex, \"_FastVoice_7\"].join(\"\");\r\n                    break;\r\n                case 8:\r\n                    content = app.i18n.t(\"UIVoiceStringDaShang\");\r\n                    soundName = [playerSex, \"_FastVoice_8\"].join(\"\");\r\n                    break;\r\n                case 9:\r\n                    content = app.i18n.t(\"UIVoiceStringLiKai\");\r\n                    soundName = [playerSex, \"_FastVoice_9\"].join(\"\");\r\n                    break;\r\n                case 10:\r\n                    content = app.i18n.t(\"UIVoiceStringYanChi\");\r\n                    soundName = [playerSex, \"_FastVoice_10\"].join(\"\");\r\n                    break;\r\n                default:\r\n                    this.ErrLog(\"Event_chatmessage not find(%s)\", quickID);\r\n            }\r\n        } else {\r\n            switch (quickID) {\r\n                case 101:\r\n                    path = \"face1Action\";\r\n                    break;\r\n                case 102:\r\n                    path = \"face2Action\";\r\n                    break;\r\n                case 103:\r\n                    path = \"face3Action\";\r\n                    break;\r\n                case 104:\r\n                    path = \"face4Action\";\r\n                    break;\r\n                case 105:\r\n                    path = \"face5Action\";\r\n                    break;\r\n                case 106:\r\n                    path = \"face6Action\";\r\n                    break;\r\n                case 107:\r\n                    path = \"face7Action\";\r\n                    break;\r\n                case 108:\r\n                    path = \"face8Action\";\r\n                    break;\r\n                case 109:\r\n                    path = \"face9Action\";\r\n                    break;\r\n                case 110:\r\n                    path = \"face10Action\";\r\n                    break;\r\n                case 111:\r\n                    path = \"face11Action\";\r\n                    break;\r\n                case 112:\r\n                    path = \"face12Action\";\r\n                    break;\r\n                case 113:\r\n                    path = \"face13Action\";\r\n                    break;\r\n                case 114:\r\n                    path = \"face14Action\";\r\n                    break;\r\n                case 115:\r\n                    path = \"face15Action\";\r\n                    break;\r\n                case 116:\r\n                    path = \"face16Action\";\r\n                    break;\r\n                case 117:\r\n                    path = \"face17Action\";\r\n                    break;\r\n                case 118:\r\n                    path = \"face18Action\";\r\n                    break;\r\n                case 119:\r\n                    path = \"face19Action\";\r\n                    break;\r\n                case 120:\r\n                    path = \"face20Action\";\r\n                    break;\r\n                default:\r\n                    this.ErrLog(\"Event_chatmessage not find(%s)\", quickID);\r\n            }\r\n        }\r\n        this.SoundManager.PlaySound(soundName);\r\n\r\n        let roomPosMgr = this.RoomMgr.GetEnterRoom().GetRoomPosMgr();\r\n\r\n        //敏感词汇替换\r\n        content = this.UtilsWord.CheckContentDirty(content);\r\n        let headScript = this.GetUICardComponentByPos(initiatorPos);\r\n        if (content == \"\") {\r\n            headScript.ShowFaceContent(path);\r\n        } else {\r\n            headScript.ShowChatContent(content);\r\n        }\r\n    },\r\n\r\n    //特效播放结束\r\n    OnEffectEnd: function(wndPath, effectName) {\r\n\r\n\r\n    },\r\n\r\n    InitHeroSex: function(pos) {\r\n        let RoomPosMgr = this.RoomMgr.GetEnterRoom().GetRoomPosMgr();\r\n        let player = RoomPosMgr.GetPlayerInfoByPos(pos);\r\n        let Sex = player[\"sex\"];\r\n        let playerSex = \"\";\r\n        if (Sex == this.ShareDefine.HeroSex_Boy) {\r\n            playerSex = \"boy\";\r\n        } else if (Sex == this.ShareDefine.HeroSex_Girl) {\r\n            playerSex = \"girl\";\r\n        }\r\n        return playerSex;\r\n    },\r\n    //继续游戏\r\n    Event_PosContinueGame: function(event) {\r\n        // this.HideAll();\r\n        this.HideAllWarning();\r\n        let argDict = event;\r\n        let room = this.RoomMgr.GetEnterRoom();\r\n        if (!room) {\r\n            this.ErrLog(\"Event_PosContinueGame not enter room\");\r\n            return\r\n        }\r\n        let RoomPosMgr = room.GetRoomPosMgr();\r\n        let clientPos = RoomPosMgr.GetClientPos();\r\n        if (argDict[\"pos\"] != clientPos) {\r\n            let clientPlayerInfo = RoomPosMgr.GetPlayerInfoByPos(clientPos);\r\n            // //如果玩家已经继续了,需要渲染其他人的状态\r\n            if (!clientPlayerInfo[\"gameReady\"]) {\r\n                return;\r\n            }\r\n        } else { //如果是自己准备就清理界面\r\n            this.FormManager.CloseForm(\"game/\" + app.subGameName.toUpperCase() + \"/UI\" + app.subGameName.toUpperCase() + \"_ResultXY\");\r\n        }\r\n        this.RefreshRoomShow();\r\n    },\r\n\r\n    //位置更新\r\n    Event_PosUpdate: function(event) {\r\n        let serverPack = event;\r\n        app[app.subGameName + \"Client\"].OnEvent('Head_PosUpdate', serverPack);\r\n        this.RefreshRoomShow();\r\n    },\r\n\r\n    //位置离开\r\n    Event_PosLeave: function(event) {\r\n        let room = this.RoomMgr.GetEnterRoom();\r\n        if (!room) {\r\n            this.ErrLog(\"Event_PosLeave not enter room\");\r\n            return\r\n        }\r\n\r\n        let serverPack = event;\r\n        let pos = serverPack[\"pos\"];\r\n\r\n        app[app.subGameName + \"Client\"].OnEvent('Head_PosLeave', serverPack);\r\n\r\n        let clientPos = room.GetRoomPosMgr().GetClientPos();\r\n        //如果是客户端玩家并且是被T了\r\n        if (serverPack[\"beKick\"] && clientPos == pos) {\r\n            if (serverPack[\"kickOutTYpe\"] == 2) {\r\n                this.SetWaitForConfirm('MSG_BeKick', this.ShareDefine.ConfirmOK, [serverPack.msg]);\r\n            } else if (serverPack[\"kickOutTYpe\"] == 3) {\r\n                this.SetWaitForConfirm('MSG_BeKick', this.ShareDefine.ConfirmOK, [\"由于长时间未准备，您已被请出房间\"]);\r\n            } else {\r\n                this.SetWaitForConfirm('UIPlay_BeKick', this.ShareDefine.ConfirmOK);\r\n            }\r\n        }\r\n        //如果是客户端自己，返回大厅\r\n        if (!serverPack[\"beKick\"] && clientPos == pos) {\r\n            app[app.subGameName + \"Client\"].ExitGame();\r\n        }\r\n        this.RefreshRoomShow();\r\n    },\r\n    Event_ExitRoomSuccess: function(event) {\r\n        app[app.subGameName + \"Client\"].ExitGame();\r\n    },\r\n\r\n    HideClientUseTime: function(){\r\n        let clientPos = this.RoomPosMgr.GetClientPos();\r\n        let headScript = this.GetUICardComponentByPos(clientPos);\r\n        headScript.SetTimeOpen(false);\r\n    },\r\n    //限时已用房间限时时间(显示静态)\r\n    ShowUseTime: function(room){\r\n        let clientPos = this.RoomPosMgr.GetClientPos();\r\n        let secTotal = this.RoomSet.GetSecTotal();\r\n        let headScript = this.GetUICardComponentByPos(clientPos);\r\n        headScript.ShowUseTime(secTotal);\r\n    },\r\n    //重新渲染界面后找服务端要实时时间\r\n    ShowUseTimeByInfo: function(room){\r\n        let self = this;\r\n        let roomID = this.RoomMgr.GetEnterRoomID();\r\n        let clientPos = this.RoomPosMgr.GetClientPos();\r\n        app[app.subGameName + \"_NetManager\"]().SendPack(app.subGameName + \".C\" + app.subGameName.toUpperCase() + \"GetTime\", {\"roomID\": roomID, \"pos\": clientPos}, function (event) {\r\n            let headScript = self.GetUICardComponentByPos(clientPos);\r\n            headScript.ShowUseTime(event.secTotal);\r\n        }, function (event) {});\r\n    },\r\n    ScheduleTime: function(pos){\r\n        let self = this;\r\n        let roomID = this.RoomMgr.GetEnterRoomID();\r\n        let clientPos = this.RoomPosMgr.GetClientPos();\r\n        app[app.subGameName + \"_NetManager\"]().SendPack(app.subGameName + \".C\" + app.subGameName.toUpperCase() + \"GetTime\", {\"roomID\": roomID, \"pos\": clientPos}, function (event) {\r\n            let headScript = self.GetUICardComponentByPos(pos);\r\n            headScript.ShowUseTime(event.secTotal);\r\n            headScript.SetTimeOpen(true);\r\n        }, function (event) {});\r\n    },\r\n\r\n    //一局结束\r\n    Event_SetEnd: function(event) {\r\n        this.unschedule(this.CallEverySecond);\r\n        this.HideClientUseTime();\r\n        //判断是否被关门\r\n        let setEnd = this.RoomSet.GetRoomSetProperty(\"setEnd\");\r\n        for (let i = 0; i < setEnd.beShutDowList.length; i++) {\r\n            //龙岩伏击没有反关门\r\n            if (setEnd.beShutDowList[i] && i != setEnd.firstOpPos) {\r\n                let uiPos = this.RoomPosMgr.GetUIPosByDataPos(i);\r\n                let ShutDow_Ani = this.GetWndNode(\"sp_seat0\" + uiPos + \"/ShutDow_Ani\");\r\n                ShutDow_Ani.active = true;\r\n                ShutDow_Ani.getComponent(cc.Animation).play(\"guanmen\");\r\n            }\r\n        }\r\n\r\n        this.UpdatePlayerScore();\r\n        //刷新比赛分\r\n        this.UpdatePlayerSportsPoint(event);\r\n        //发送明牌消息\r\n        let roomID = this.Room.GetRoomProperty(\"roomID\");\r\n        let clientPos = this.RoomPosMgr.GetClientPos();\r\n        this.RoomMgr.SendOpenCard(roomID, clientPos, 1);\r\n\r\n        let self = this;\r\n        this.scheduleOnce(function() {\r\n            self.FormManager.ShowForm(\"game/\" + app.subGameName.toUpperCase() + \"/UI\" + app.subGameName.toUpperCase() + \"_ResultXY\", setEnd);\r\n        }, 2.0);\r\n    },\r\n\r\n    //房间解散\r\n    Event_DissolveRoom: function(event) {\r\n\r\n        let argDict = event;\r\n        let ownnerForce = argDict[\"ownnerForce\"];\r\n\r\n        //未开启房间游戏时才会触发\r\n        if (ownnerForce) {\r\n            let room = this.RoomMgr.GetEnterRoom();\r\n            //如果是房主主动接撒直接退出\r\n            if (room && room.IsClientIsOwner()) {\r\n                app[app.subGameName + \"Client\"].ExitGame();\r\n            } else {\r\n                this.SetWaitForConfirm('OwnnerForceRoom', this.ShareDefine.ConfirmOK);\r\n            }\r\n        } else if (event.dissolveNoticeType == 1) {\r\n            this.SetWaitForConfirm('SportsPointDissolveRoom', this.ShareDefine.ConfirmOK, [event.msg]);\r\n        } else if (event.dissolveNoticeType == 3) {\r\n            this.SetWaitForConfirm('MSG_BeDissolve', this.ShareDefine.ConfirmOK, [event.msg]);\r\n        } else {\r\n            let state = this.RoomMgr.GetEnterRoom().GetRoomProperty(\"state\");\r\n            //如果没有打完一局不会下发roomend,直接显示2次弹框\r\n            if (state != this.ShareDefine.RoomState_End) {\r\n                this.SetWaitForConfirm('DissolveRoom', this.ShareDefine.ConfirmOK);\r\n                this.FormManager.CloseForm(app.subGameName + \"_UIMessage02\");\r\n            }\r\n            //如果有roomend数据显示 结果界面\r\n            else {\r\n                this.FormManager.CloseForm(app.subGameName + \"_UIMessage02\");\r\n                this.FormManager.ShowForm(app.subGameName + \"_UILPPublic_Record\");\r\n            }\r\n\r\n        }\r\n    },\r\n\r\n    //收到解散房间\r\n    Event_StartVoteDissolve: function(event) {\r\n        this.FormManager.ShowForm(app.subGameName + \"_UIMessage02\");\r\n    },\r\n    //收到切换人数房间\r\n    Event_ChangePlayerNum: function(event) {\r\n        this.FormManager.ShowForm(app.subGameName + \"_UIMessage03\");\r\n    },\r\n\r\n    UpdatePlayerScore: function() {\r\n        let room = this.RoomMgr.GetEnterRoom();\r\n        let posList = room.GetRoomProperty(\"posList\");\r\n        for (let idx = 0; idx < posList.length; idx++) {\r\n            let uiPos = this.RoomPosMgr.GetUIPosByDataPos(posList[idx].pos);\r\n            let path = \"sp_seat0\" + uiPos + \"/head\" + \"/LPUIPublicHead\" + uiPos;\r\n            let headNode = this.GetWndNode(path);\r\n            if (headNode == null) continue;\r\n            let headScript = headNode.getComponent(app.subGameName + \"_LPUIPublicHead\");\r\n            headScript.UpDateLabJiFen();\r\n        }\r\n    },\r\n    UpdatePlayerSportsPoint: function(event) {\r\n        let room = this.RoomMgr.GetEnterRoom();\r\n        let posList = room.GetRoomProperty(\"posList\");\r\n        for (let idx = 0; idx < posList.length; idx++) {\r\n            let uiPos = this.RoomPosMgr.GetUIPosByDataPos(posList[idx].pos);\r\n            let path = \"sp_seat0\" + uiPos + \"/head\" + \"/LPUIPublicHead\" + uiPos;\r\n            let headNode = this.GetWndNode(path);\r\n            let headScript = headNode.getComponent(app.subGameName + \"_LPUIPublicHead\");\r\n            headScript.UpDateLabSportsPoint();\r\n        }\r\n    },\r\n\r\n    GetUICardComponentByPos: function(pos) {\r\n        let room = this.RoomMgr.GetEnterRoom();\r\n        if (!room) {\r\n            this.ErrLog(\"GetUICardComponentByPos not enter room\");\r\n            return\r\n        }\r\n\r\n        let posList = room.GetRoomProperty(\"posList\");\r\n        for (let idx = 0; idx < posList.length; idx++) {\r\n            if (pos == posList[idx].pos) {\r\n                let uiPos = this.RoomPosMgr.GetUIPosByDataPos(posList[idx].pos);\r\n                let path = \"sp_seat0\" + uiPos + \"/head\" + \"/LPUIPublicHead\" + uiPos;\r\n                let headNode = this.GetWndNode(path);\r\n                if (headNode == null) continue;\r\n                let headScript = headNode.getComponent(app.subGameName + \"_LPUIPublicHead\");\r\n                return headScript;\r\n            }\r\n        }\r\n    },\r\n    //显示玩家准备状态\r\n    ShowPlayerReady: function(room) {\r\n        if (!room) {\r\n            this.ErrLog(\"Event_ShowReadyOrNoReady not enter room\");\r\n            return\r\n        }\r\n        let roomSetID = room.GetRoomProperty(\"setID\");\r\n        let ReadyState = \"\";\r\n        if (roomSetID > 0) {\r\n            ReadyState = \"gameReady\";\r\n        } else {\r\n            ReadyState = \"roomReady\";\r\n        }\r\n\r\n        this.SetPlayerReadyInfo(ReadyState);\r\n    },\r\n    //隐藏玩家准备按钮\r\n    HidePlayerReady: function() {\r\n        this.btn_ready.active = 0;\r\n        this.btn_weixin.active = 0;\r\n        this.btn_go.active = 0;\r\n        this.invitationNode.active = false;\r\n    },\r\n    HideClientReady: function() {\r\n        this.btn_ready.active = false;\r\n        this.btn_weixin.active = false;\r\n        this.btn_go.active = false;\r\n        this.invitationNode.active = false;\r\n\r\n    },\r\n    IsClientReady: function(ReadyState) {\r\n        let roomPosMgr = this.RoomMgr.GetEnterRoom().GetRoomPosMgr();\r\n        let clientPos = roomPosMgr.GetClientPos();\r\n        let playerAll = roomPosMgr.GetRoomAllPlayerInfo();\r\n        let playerAllList = Object.keys(playerAll);\r\n        for (let i = 0; i < playerAllList.length; i++) {\r\n            let player = playerAll[playerAllList[i]];\r\n            let isClientReady = player[ReadyState];\r\n            if (player[\"pos\"] == clientPos) {\r\n                return isClientReady;\r\n                break;\r\n            }\r\n        }\r\n\r\n    },\r\n    JoinPlayerFinish: function() {\r\n        let roomPosMgr = this.RoomMgr.GetEnterRoom().GetRoomPosMgr();\r\n        let playerAll = roomPosMgr.GetRoomAllPlayerInfo();\r\n        let playerAllList = Object.keys(playerAll);\r\n        var tempNum = 0;\r\n        for (let j = 0; j < playerAllList.length; j++) {\r\n            let player = playerAll[playerAllList[j]];\r\n            if (player.pid > 0) {\r\n                tempNum++;\r\n            }\r\n        }\r\n        if (tempNum == playerAllList.length) {\r\n            return true;\r\n        }\r\n        return false;\r\n    },\r\n    SetPlayerReadyInfo: function(ReadyState) {\r\n        if (ReadyState == \"gameReady\") {\r\n            //第二局\r\n            this.HideClientReady();\r\n        } else if (ReadyState == \"roomReady\") {\r\n            //第一局\r\n            if (this.JoinPlayerFinish() && this.IsClientReady(ReadyState) == false) {\r\n                //人数加满，本家没准备\r\n                this.ShowPlayerOk();\r\n            } else if (this.JoinPlayerFinish() && this.IsClientReady(ReadyState) == true) {\r\n                //人数加满，本家准备\r\n                this.HideClientReady();\r\n            } else {\r\n                //人数未满\r\n                this.ShowPlayerYaoQing();\r\n            }\r\n        }\r\n    },\r\n    ShowPlayerYaoQing: function() {\r\n        this.btn_ready.active = 0;\r\n        this.btn_weixin.active = 1;\r\n        this.btn_go.active = 0;\r\n        if (this.roomCfg.clubId > 0 || this.roomCfg.unionId > 0) {\r\n            this.invitationNode.active = true;\r\n        } else {\r\n            this.invitationNode.active = false;\r\n        }\r\n    },\r\n    ShowPlayerOk: function() {\r\n        if (this.isAutoReady() == true) {\r\n            this.btn_ready.active = 0;\r\n            this.Click_btn_ready();\r\n        } else {\r\n            this.btn_ready.active = 1;\r\n        }\r\n\r\n        this.btn_weixin.active = 0;\r\n        this.btn_go.active = 0;\r\n        this.invitationNode.active = false;\r\n    },\r\n    GetPlayerSex: function(pos) {\r\n        let playerSex = \"\";\r\n        let player = this.RoomPosMgr.GetPlayerInfoByPos(pos);\r\n        let Sex = player[\"sex\"];\r\n        if (Sex == this.ShareDefine.HeroSex_Boy) {\r\n            playerSex = \"b\";\r\n        } else if (Sex == this.ShareDefine.HeroSex_Girl) {\r\n            playerSex = \"g\";\r\n        }\r\n        return playerSex;\r\n    },\r\n\r\n    //设置手牌缩放大小\r\n    SetHandCardScale: function(scale) {\r\n        this.handCards.scale = scale;\r\n    },\r\n\r\n    /**\r\n     * 2次确认点击回调\r\n     */\r\n    SetWaitForConfirm: function(msgID, type, msgArg = [], cbArg = []) {\r\n        let ConfirmManager = app[app.subGameName + \"_ConfirmManager\"]();\r\n        ConfirmManager.SetWaitForConfirmForm(this.OnConFirm.bind(this), msgID, cbArg);\r\n        ConfirmManager.ShowConfirm(type, msgID, msgArg);\r\n    },\r\n    OnConFirm: function(clickType, msgID, backArgList) {\r\n        let ClientPos = this.RoomPosMgr.GetClientPos();\r\n        let player = this.RoomPosMgr.GetPlayerInfoByPos(ClientPos);\r\n        let posName = player.name;\r\n        let roomID = this.RoomMgr.GetEnterRoomID();\r\n        if (clickType != \"Sure\") {\r\n            if (msgID == \"SportsPointNotEnough\") {\r\n                let roomID = this.RoomMgr.GetEnterRoomID();\r\n                app[app.subGameName + \"_GameManager\"]().SendDissolveRoom(roomID);\r\n            }\r\n            return\r\n        }\r\n        if (msgID == \"UIPlay_BeKick\") {\r\n            app[app.subGameName + \"Client\"].ExitGame();\r\n        } else if ('MSG_Room_Change' == msgID) {\r\n            let roomID = this.RoomMgr.GetEnterRoomID();\r\n            let that = this;\r\n            app[app.subGameName + \"_NetManager\"]().SendPack(app.subGameName + \".C\" + app.subGameName.toUpperCase() + \"ChangePlayerNum\", {\r\n                    \"roomID\": roomID\r\n                }, function(success) {\r\n\r\n                },\r\n                function(error) {\r\n                    let msg = error.Msg;\r\n                    that.ShowSysMsg(msg);\r\n                });\r\n        } else if (msgID == \"MSG_BeKick\" || msgID == \"MSG_BeDissolve\") {\r\n            app[app.subGameName + \"Client\"].ExitGame();\r\n        } else if (msgID == \"OwnnerForceRoom\") {\r\n            app[app.subGameName + \"Client\"].ExitGame();\r\n        } else if (msgID == \"SportsPointThresholdEnough\" || msgID == \"SportsPointThresholdNotEnough\") {\r\n            app[app.subGameName + \"Client\"].ExitGame();\r\n        } else if (msgID == \"MSG_Room_EXIT\") {\r\n            this.Click_btn_jiesan();\r\n        } else if (msgID == \"DissolveRoom\") {\r\n            app[app.subGameName + \"Client\"].ExitGame();\r\n        } else if (msgID == \"SportsPointDissolveRoom\") {\r\n            this.FormManager.ShowForm(app.subGameName + \"_UILPPublic_Record\");\r\n        } else if (msgID == \"PlayerLeaveRoom\") {\r\n            let roomID = this.RoomMgr.GetEnterRoomID();\r\n            app[app.subGameName + \"_GameManager\"]().SendDissolveRoom(roomID);\r\n        } else if (msgID == \"UIMoreTuiChuFangJian\") {\r\n            let roomPosMgr = this.RoomMgr.GetEnterRoom().GetRoomPosMgr();\r\n            let ClientPos = roomPosMgr.GetClientPos();\r\n            let player = roomPosMgr.GetPlayerInfoByPos(ClientPos);\r\n            if (!player)\r\n                return;\r\n            let posName = player.name;\r\n            let roomID = this.RoomMgr.GetEnterRoomID();\r\n            let state = this.Room.GetRoomProperty(\"state\");\r\n            if (state == this.ShareDefine.RoomState_Playing && player.isPlaying) {\r\n                app[app.subGameName + \"_GameManager\"]().SendDissolveRoom(roomID, posName);\r\n                return\r\n            }\r\n            //房主不能退出房间，只能解散\r\n            if (this.RoomMgr.GetEnterRoom().IsClientIsOwner()) {\r\n                app[app.subGameName + \"_GameManager\"]().SendDissolveRoom(roomID, posName);\r\n                return\r\n            }\r\n            app[app.subGameName + \"_GameManager\"]().SendExitRoom(roomID, ClientPos);\r\n        } else if (msgID == \"MSG_GAME_DissolveRoom\") {\r\n            app[app.subGameName + \"_GameManager\"]().SendDissolveRoom(roomID, posName);\r\n        } else {\r\n            this.ErrLog(\"OnConFirm msgID:%s error\", msgID);\r\n        }\r\n    },\r\n\r\n    Event_TouchStart: function(event) {\r\n        // this.SysLog(\"Event_TouchStart\");\r\n        if (!this.IsShowVoice()) {\r\n            this.ShowSysMsg(\"禁止语音\");\r\n            return;\r\n        }\r\n        app[app.subGameName + \"_AudioManager\"]().startRecord();\r\n\r\n    },\r\n    Event_TouchEnd: function(event) {\r\n        // this.SysLog(\"Event_TouchEnd\"); \r\n        this.FormManager.CloseForm(app.subGameName + \"_UIAudio\");\r\n        app[app.subGameName + \"_AudioManager\"]().setTouchEnd(true);\r\n        app[app.subGameName + \"_AudioManager\"]().stopRecord();\r\n    },\r\n\r\n    OnEventShow: function() {\r\n        let curTime = new Date().getTime();\r\n        let lostHearTime = app[app.subGameName + \"Client\"].LostHearTime;\r\n        if (this.outGameTime && curTime > this.outGameTime + 30000) {\r\n            // app[app.subGameName + \"Client\"].lastHearTime = 0;\r\n            this.outGameTime = 0;\r\n            if (app[app.subGameName + \"_NetWork\"]().isConnectIng) { //ios的可能websoket不会主动断开\r\n                console.log(\"后台切回来，先断开连接\");\r\n                app[app.subGameName + \"_NetManager\"]().Disconnect();\r\n            }\r\n            if (!app[app.subGameName + \"Client\"].bStartReConnect) {\r\n                console.log(\"后台切回来，发起断线重连\");\r\n                app[app.subGameName + \"Client\"].StartReConnect();\r\n                app[app.subGameName + \"_NetWork\"]().ReConnectByTipSureBtn();\r\n            }\r\n        } else {\r\n            let roomID = this.RoomMgr.GetEnterRoomID();\r\n            app[app.subGameName + \"_NetManager\"]().SendPack(app.subGameName + \".C\" + app.subGameName.toUpperCase() + \"ShowLeave\", {\r\n                \"roomID\": roomID,\r\n                \"isShowLeave\": false\r\n            });\r\n\r\n        }\r\n        app[app.subGameName + \"Client\"].scheduleOnce(function() {\r\n            app[app.subGameName + \"Client\"].StartTimer();\r\n        }, 2);\r\n    },\r\n\r\n    OnEventHide: function() {\r\n        console.log(\"从游戏内切换后台\");\r\n        this.outGameTime = new Date().getTime();\r\n        let roomID = this.RoomMgr.GetEnterRoomID();\r\n        app[app.subGameName + \"_NetManager\"]().SendPack(app.subGameName + \".C\" + app.subGameName.toUpperCase() + \"ShowLeave\", {\r\n            \"roomID\": roomID,\r\n            \"isShowLeave\": true\r\n        });\r\n        app[app.subGameName + \"Client\"].StopTimer();\r\n    },\r\n    //判断选择的牌是否玩家手里的牌\r\n    CheckSelCardListInHandCard: function(selCardList) {\r\n        let handCardListTemp = [];\r\n        for (let i = 0; i < this.LogicPDKGame.handCardList.length; i++) {\r\n            handCardListTemp.push(this.LogicPDKGame.handCardList[i]);\r\n        }\r\n        for (let i = 0; i < selCardList.length; i++) {\r\n            if (handCardListTemp.indexOf(selCardList[i]) >= 0) {\r\n                handCardListTemp.Remove(selCardList[i]);\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    },\r\n    // 判断弹起的牌是否跟发送服务端的出牌list一致\r\n    CheckSelCardListOrCardList: function(selCardList) {\r\n        let selHandCardsList = [];\r\n        for (let i = 0; i < this.handCards.children.length; i++) {\r\n            if (this.handCards.children[i].y > 0) {\r\n                let name = this.handCards.children[i].name;\r\n                let cardIdx = name.substring(5, name.length);\r\n                selHandCardsList.push(this.LogicPDKGame.handCardList[cardIdx - 1]);\r\n            }\r\n        }\r\n        for (let i = 0; i < selCardList.length; i++) {\r\n            if (selHandCardsList.indexOf(selCardList[i]) >= 0) {\r\n                selHandCardsList.Remove(selCardList[i]);\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n        if (selHandCardsList.length == 0) {\r\n            return true;\r\n        }\r\n        return false;\r\n    },\r\n\r\n});"]}
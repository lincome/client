{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\script\\game\\PDK/assets\\script\\game\\PDK\\PDKRoomMgr.js"],"names":["app","require","PDKRoomMgr","BaseClass","extend","Init","JS_Name","subGameName","toUpperCase","ComTool","ShareDefine","NetManager","SysNotifyManager","Room","RegNetPack","OnPack_CreateRoom","OnPack_GetRoomInfo","OnPack_RoomRecord","OnPack_SetStart","OnPack_SetEnd","OnPack_RoomEnd","OnPack_RoomStart","OnPack_OpCard","OnPack_ChangeStatus","OnPack_AddDouble","OnPack_OpenCard","OnPack_RobClose","OnPack_ChatMessage","OnPack_StopTime","OnPack_SportsPointNotEnough","OnPack_SportsPointEnough","OnPack_SportsPointThresholdNotEnough","OnPack_SportsPointThresholdEnough","OnPack_SportsPointChange","HeroManager","OnReload","Log","enterRoomID","loginEnterRoomKey","OnSwithSceneEnd","sceneType","serverPack","agrs","Object","keys","length","createType","ShowForm","CloseForm","SendGetRoomInfo","roomID","ShowSysMsg","ExitGame","clubId","unionId","OnInitRoomData","GetSceneType","console","warn","LoadScene","gameScene","LocalDataManager","GetConfigProperty","SendPackPosShowLeave","GetEnterRoomID","SendPack","setInfo","OnSetStart","OnEvent","OnSetEnd","ErrLog","log","OnPlaying","OnSportsPointChange","OnRoomEnd","records","RoomRecord","GetEnterRoom","SendGetCurRoomID","SendCreateRoom","sendPack","callback","errorCb","success","error","SendDissolveRoom","SendReady","posIndex","SendUnReady","SendKickPosIndex","SendStartRoomGame","SendTimeOutContinue","SendContinueGame","SendDissolveRoomAgree","SendDissolveRoomRefuse","SendExitRoom","pos","SendRoomRecord","sendEveryGameRecord","SendEndRoom","SendOpCard","data","SendAddDouble","addDouble","SendRoobDoor","isRob","SendFaPaiFinish","SendOpenCard","isOpen","g_PDKRoomMgr","exports","GetModel"],"mappings":"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","file":"PDKRoomMgr.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\script\\game\\PDK","sourcesContent":["/*\r\n *  ----------------------------------------------------------------------------------------------------\r\n *  @copyright: Copyright (c) 2004, 2010 Xiamen DDM Network Technology Co.,Ltd., All rights reserved.\r\n *  ----------------------------------------------------------------------------------------------------\r\n *  @package SSSRoomMgr.js\r\n *  @todo: 拼罗松麻将\r\n *\r\n *  @date 2014-10-30 16:04\r\n *  @version 1.0\r\n *\r\n *  修改时间 修改人 修改内容\r\n *  -------------------------------------------------------------------------------\r\n *\r\n */\r\nvar app = require('pdk_app');\r\n\r\n/**\r\n * 类构造\r\n */\r\nvar PDKRoomMgr = app.BaseClass.extend({\r\n\r\n    /**\r\n     * 初始化\r\n     */\r\n    Init: function () {\r\n\r\n        this.JS_Name = app.subGameName.toUpperCase() + \"RoomMgr\";\r\n\r\n        this.ComTool = app[app.subGameName + \"_ComTool\"]();\r\n        this.ShareDefine = app[app.subGameName + \"_ShareDefine\"]();\r\n        this.NetManager = app[app.subGameName + \"_NetManager\"]();\r\n        this.SysNotifyManager = app[app.subGameName + \"_SysNotifyManager\"]();\r\n\r\n        this.Room = app[app.subGameName.toUpperCase() + \"Room\"]();\r\n\r\n        this.NetManager.RegNetPack(app.subGameName + \".C\" + app.subGameName.toUpperCase() + \"CreateRoom\", this.OnPack_CreateRoom, this);\r\n        this.NetManager.RegNetPack(app.subGameName + \".C\" + app.subGameName.toUpperCase() + \"GetRoomInfo\", this.OnPack_GetRoomInfo, this);\r\n        this.NetManager.RegNetPack(app.subGameName + \".C\" + app.subGameName.toUpperCase() + \"RoomRecord\", this.OnPack_RoomRecord, this);\r\n\r\n        //notify\r\n        this.NetManager.RegNetPack(\"S\" + app.subGameName.toUpperCase() + \"_SetStart\", this.OnPack_SetStart, this);\r\n        this.NetManager.RegNetPack(\"S\" + app.subGameName.toUpperCase() + \"_SetEnd\", this.OnPack_SetEnd, this);\r\n\r\n        this.NetManager.RegNetPack(\"S\" + app.subGameName.toUpperCase() + \"_RoomEnd\", this.OnPack_RoomEnd, this);\r\n        this.NetManager.RegNetPack(\"S\" + app.subGameName.toUpperCase() + \"_RoomStart\", this.OnPack_RoomStart, this);\r\n        this.NetManager.RegNetPack(\"S\" + app.subGameName.toUpperCase() + \"_OpCard\", this.OnPack_OpCard, this);\r\n        this.NetManager.RegNetPack(\"S\" + app.subGameName.toUpperCase() + \"_ChangeStatus\", this.OnPack_ChangeStatus, this);\r\n        this.NetManager.RegNetPack(\"S\" + app.subGameName.toUpperCase() + \"_AddDouble\", this.OnPack_AddDouble, this);\r\n        this.NetManager.RegNetPack(\"S\" + app.subGameName.toUpperCase() + \"_OpenCard\", this.OnPack_OpenCard, this);\r\n        this.NetManager.RegNetPack(\"S\" + app.subGameName.toUpperCase() + \"_RobClose\", this.OnPack_RobClose, this);\r\n        this.NetManager.RegNetPack(\"S\" + app.subGameName.toUpperCase() + \"_Chatmessage\", this.OnPack_ChatMessage, this);\r\n        this.NetManager.RegNetPack(\"S\" + app.subGameName.toUpperCase() + \"_StopTime\", this.OnPack_StopTime, this);\r\n\r\n        //比赛分通知\r\n        this.NetManager.RegNetPack(\"S\" + app.subGameName.toUpperCase() + \"_SportsPointNotEnough\", this.OnPack_SportsPointNotEnough, this);\r\n        this.NetManager.RegNetPack(\"S\" + app.subGameName.toUpperCase() + \"_SportsPointEnough\", this.OnPack_SportsPointEnough, this);\r\n\r\n        //比赛分门槛通知\r\n        this.NetManager.RegNetPack(\"S\" + app.subGameName.toUpperCase() + \"_SportsPointThresholdNotEnough\", this.OnPack_SportsPointThresholdNotEnough, this);\r\n        this.NetManager.RegNetPack(\"S\" + app.subGameName.toUpperCase() + \"_SportsPointThresholdEnough\", this.OnPack_SportsPointThresholdEnough, this);\r\n        \r\n        this.NetManager.RegNetPack(\"SRoom_SportsPointChange\", this.OnPack_SportsPointChange, this);\r\n\r\n\r\n        this.HeroManager = app[app.subGameName + \"_HeroManager\"]();\r\n\r\n        this.OnReload();\r\n\r\n        this.Log(\"Init\");\r\n    },\r\n\r\n    /**\r\n     * 重登\r\n     */\r\n    OnReload: function () {\r\n        this.enterRoomID = 0;\r\n        //获取启动客户端进入的房间KEY\r\n        this.loginEnterRoomKey = 0;\r\n\r\n        this.Room.OnReload();\r\n    },\r\n\r\n    OnSwithSceneEnd: function (sceneType) {\r\n\r\n        //如果退出房间场景了,清除数据\r\n        if (sceneType != \"fightScene\") {\r\n            this.OnReload();\r\n        }\r\n    },\r\n\r\n    //----------------------收包接口-----------------------------\r\n    //创建房间完成\r\n    OnPack_CreateRoom: function (serverPack) {\r\n        let agrs = Object.keys(serverPack);\r\n        if (0 == agrs.length)//俱乐部会回空包\r\n            return;\r\n        if (serverPack.createType == 2) {\r\n            app[app.subGameName + \"_FormManager\"]().ShowForm('UIDaiKai');\r\n            app[app.subGameName + \"_FormManager\"]().CloseForm('UICreatRoom');\r\n        } else {\r\n            this.SendGetRoomInfo(serverPack.roomID);\r\n        }\r\n    },\r\n\r\n    //获取到房间完整信息\r\n    OnPack_GetRoomInfo: function (serverPack) {\r\n\r\n        if (serverPack[\"NotFind_Player\"]) {\r\n            app[app.subGameName + \"_SysNotifyManager\"]().ShowSysMsg('PLAYER_NOT_ROOM');\r\n            app[app.subGameName + \"Client\"].ExitGame();\r\n            return;\r\n        } else if (serverPack[\"NotFind_Room\"]) {\r\n            app[app.subGameName + \"_SysNotifyManager\"]().ShowSysMsg('Room_NotFindRoom');\r\n            app[app.subGameName + \"Client\"].ExitGame();\r\n            return;\r\n        }\r\n\r\n        this.enterRoomID = serverPack[\"roomID\"];\r\n        this.clubId = serverPack[\"cfg\"][\"clubId\"];\r\n        this.unionId = serverPack[\"cfg\"][\"unionId\"];\r\n        this.Room.OnInitRoomData(serverPack);\r\n        //进入打牌场景\r\n        if (app[app.subGameName + \"_SceneManager\"]().GetSceneType() != \"pdkScene\") {\r\n             console.warn('进入打牌场景1');\r\n            app[app.subGameName + \"_SceneManager\"]().LoadScene(\"pdkScene\");\r\n        } else {\r\n            let gameScene =  app.LocalDataManager().GetConfigProperty(\"SysSetting\", app.subGameName + \"_GameBg\");\r\n            console.warn('进入打牌场景2xxxxxxxxxxxxxxxx', gameScene);\r\n            if (gameScene == 1) {\r\n                app[app.subGameName + \"_FormManager\"]().ShowForm('game/PDK/UIPDK_Play');\r\n            } else if (gameScene == 2) {\r\n                app[app.subGameName + \"_FormManager\"]().ShowForm('game/PDK/UIPDK_LPPlay');\r\n            } else if (gameScene == 3) {\r\n                app[app.subGameName + \"_FormManager\"]().ShowForm('game/PDK/UIPDK_SYPlay');\r\n            } else if (gameScene == 4) {\r\n                app[app.subGameName + \"_FormManager\"]().ShowForm('game/PDK/UIPDK_XiuXPlay');\r\n            }\r\n        }\r\n        //获取断线重连后发送离开结束给服务端\r\n        // this.scheduleOnce(this.SendPackPosShowLeave, 0.5);\r\n\r\n    },\r\n\r\n    //发送玩家离开状态给服务端\r\n    SendPackPosShowLeave: function(){\r\n        let roomID = this.GetEnterRoomID();\r\n        app[app.subGameName + \"_NetManager\"]().SendPack(app.subGameName + \".C\" + app.subGameName.toUpperCase() + \"ShowLeave\", {\r\n            \"roomID\": roomID,\r\n            \"isShowLeave\": false\r\n        });\r\n    },\r\n    //--------------notify-----------------\r\n    //set开始\r\n    OnPack_SetStart: function (serverPack) {\r\n        let roomID = serverPack[\"roomID\"];\r\n        let setInfo = serverPack[\"setInfo\"];\r\n        this.Room.OnSetStart(setInfo);\r\n        app[app.subGameName + \"Client\"].OnEvent(app.subGameName.toUpperCase() + \"SetStart\", serverPack);\r\n    },\r\n\r\n    //set结束\r\n    OnPack_SetEnd: function (serverPack) {\r\n        this.Room.OnSetEnd(serverPack);\r\n        app[app.subGameName + \"Client\"].OnEvent(app.subGameName.toUpperCase() + \"SetEnd\", serverPack);\r\n    },\r\n\r\n    //房间开始\r\n    OnPack_RoomStart: function (serverPack) {\r\n        this.ErrLog(\"OnPack_RoomStart:\", serverPack);\r\n        app[app.subGameName + \"Client\"].OnEvent(\"RoomStart\", {});\r\n    },\r\n\r\n    OnPack_OpCard: function (serverPack) {\r\n        console.log(\"serverPack ==\" + serverPack);\r\n        app[app.subGameName + \"Client\"].OnEvent(\"OpCard\", serverPack);\r\n    },\r\n\r\n    OnPack_ChangeStatus: function (serverPack) {\r\n        console.log(\"改变玩家出牌位置和游戏状态\");\r\n        this.Room.OnPlaying(serverPack);\r\n        app[app.subGameName + \"Client\"].OnEvent(\"ChangeStatus\", serverPack);\r\n    },\r\n\r\n    OnPack_AddDouble: function (serverPack) {\r\n        console.log(\"显示玩家倍数\");\r\n        app[app.subGameName + \"Client\"].OnEvent(\"AddDouble\", serverPack);\r\n    },\r\n\r\n    OnPack_OpenCard: function (serverPack) {\r\n        app[app.subGameName + \"Client\"].OnEvent(\"OpenCard\", serverPack);\r\n    },\r\n\r\n    OnPack_RobClose: function (serverPack) {\r\n        app[app.subGameName + \"Client\"].OnEvent(\"RobClose\", serverPack);\r\n    },\r\n\r\n    OnPack_ChatMessage: function (serverPack) {\r\n        app[app.subGameName + \"Client\"].OnEvent(\"ChatMessage\", serverPack);\r\n    },\r\n    //比赛分不足时通知\r\n    OnPack_SportsPointNotEnough: function (serverPack) {\r\n        app[app.subGameName + \"Client\"].OnEvent(\"SportsPointNotEnough\", serverPack);\r\n    },\r\n    OnPack_SportsPointEnough: function (serverPack) {\r\n        app[app.subGameName + \"Client\"].OnEvent(\"SportsPointEnough\", serverPack);\r\n    },\r\n    //比赛分门槛不足时通知\r\n    OnPack_SportsPointThresholdNotEnough: function (serverPack) {\r\n        app[app.subGameName + \"Client\"].OnEvent(\"SportsPointThresholdNotEnough\", serverPack);\r\n    },\r\n    OnPack_SportsPointThresholdEnough: function (serverPack) {\r\n        app[app.subGameName + \"Client\"].OnEvent(\"SportsPointThresholdEnough\", serverPack);\r\n    },\r\n    //玩家的比赛分在游戏外被改变通知\r\n    OnPack_SportsPointChange: function (serverPack) {\r\n        this.Room.OnSportsPointChange(serverPack);\r\n        app[app.subGameName + \"Client\"].OnEvent(\"RoomSportsPointChange\", serverPack);\r\n    },\r\n    //房间结束\r\n    OnPack_RoomEnd: function (serverPack) {\r\n        this.Room.OnRoomEnd(serverPack);\r\n        app[app.subGameName + \"Client\"].OnEvent(\"RoomEnd\", serverPack);\r\n    },\r\n\r\n    //获取对局记录信息\r\n    OnPack_RoomRecord: function (serverPack) {\r\n        let records = serverPack[\"records\"];\r\n        this.Room.RoomRecord(records);\r\n        app[app.subGameName + \"Client\"].OnEvent(\"RoomRecord\", records);\r\n    },\r\n\r\n    OnPack_StopTime: function(serverPack){\r\n        console.log(\"OnPack_StopTime ==\" + serverPack);\r\n        app[app.subGameName + \"Client\"].OnEvent(\"StopTime\", serverPack);\r\n    },\r\n\r\n    //---------------------获取接口------------------------------\r\n    GetEnterRoomID: function () {\r\n        return this.enterRoomID\r\n    },\r\n\r\n    GetEnterRoom: function () {\r\n        if (!this.enterRoomID) {\r\n            this.ErrLog(\"GetEnterRoom not enterRoom\");\r\n            return\r\n        }\r\n        return this.Room\r\n    },\r\n    //-----------------------发包函数-----------------------------\r\n\r\n\r\n    //登录获取当前进入的房间ID\r\n    SendGetCurRoomID: function () {\r\n        this.NetManager.SendPack(\"game.C1101GetRoomID\", {});\r\n    },\r\n\r\n    //发送创建房间\r\n    SendCreateRoom: function (sendPack) {\r\n        this.NetManager.SendPack(app.subGameName + \".C\" + app.subGameName.toUpperCase() + \"CreateRoom\", sendPack);\r\n    },\r\n\r\n    //获取房间信息\r\n    SendGetRoomInfo: function (roomID, callback, errorCb) {\r\n        this.NetManager.SendPack(app.subGameName + \".C\" + app.subGameName.toUpperCase() + \"GetRoomInfo\", { \"roomID\": roomID }, function (success) {\r\n            console.log(\"获取房间信息成功\", success);\r\n            callback && callback();\r\n        }, function (error) {\r\n            console.log(\"获取房间信息失败\", error, roomID);\r\n            errorCb && errorCb(error, roomID);\r\n            app[app.subGameName + \"Client\"].ExitGame();\r\n        });\r\n    },\r\n\r\n    //解散房间\r\n    SendDissolveRoom: function (roomID) {\r\n        this.NetManager.SendPack(app.subGameName + \".C\" + app.subGameName.toUpperCase() + \"DissolveRoom\", {\"roomID\": roomID});\r\n    },\r\n\r\n    //位置发送准备状态\r\n    SendReady: function (roomID, posIndex) {\r\n        this.NetManager.SendPack(app.subGameName + \".C\" + app.subGameName.toUpperCase() + \"ReadyRoom\", {\r\n            \"roomID\": roomID,\r\n            \"posIndex\": posIndex\r\n        });\r\n    },\r\n\r\n    //发送取消准备状态\r\n    SendUnReady: function (roomID, posIndex) {\r\n        this.NetManager.SendPack(app.subGameName + \".C\" + app.subGameName.toUpperCase() + \"UnReadyRoom\", {\r\n            \"roomID\": roomID,\r\n            \"posIndex\": posIndex\r\n        });\r\n    },\r\n\r\n    //房主T人\r\n    SendKickPosIndex: function (roomID, posIndex) {\r\n        this.NetManager.SendPack(app.subGameName + \".C\" + app.subGameName.toUpperCase() + \"KickRoom\", {\r\n            \"roomID\": roomID,\r\n            \"posIndex\": posIndex\r\n        });\r\n    },\r\n\r\n    //开始游戏\r\n    SendStartRoomGame: function (roomID) {\r\n        console.log('SendStartRoomGame roomID', roomID);\r\n        this.NetManager.SendPack(\"room.CBaseStartGame\", {\"roomID\": roomID});\r\n    },\r\n    //发送等待继续游戏时间\r\n    SendTimeOutContinue: function () {\r\n       this.NetManager.SendPack(app.subGameName+\".C\"+app.subGameName.toUpperCase()+\"TimeOutContinue\", {\"roomID\": this.enterRoomID});\r\n    },\r\n    //发送继续游戏\r\n    SendContinueGame: function (roomID) {\r\n        this.NetManager.SendPack(app.subGameName + \".C\" + app.subGameName.toUpperCase() + \"ContinueGame\", {\"roomID\": roomID});\r\n    },\r\n\r\n    //发送同意解散房间\r\n    SendDissolveRoomAgree: function (roomID) {\r\n        this.NetManager.SendPack(app.subGameName + \".C\" + app.subGameName.toUpperCase() + \"DissolveRoomAgree\", {\"roomID\": roomID});\r\n    },\r\n\r\n    //发送拒绝解散房间\r\n    SendDissolveRoomRefuse: function (roomID) {\r\n        this.NetManager.SendPack(app.subGameName + \".C\" + app.subGameName.toUpperCase() + \"DissolveRoomRefuse\", {\"roomID\": roomID});\r\n    },\r\n\r\n    //退出房间\r\n    SendExitRoom: function (roomID, pos) {\r\n        this.NetManager.SendPack(app.subGameName + \".C\" + app.subGameName.toUpperCase() + \"ExitRoom\", {\r\n            \"roomID\": roomID,\r\n            \"posIndex\": pos\r\n        });\r\n    },\r\n\r\n    //请求对局记录封包\r\n    SendRoomRecord: function (roomID) {\r\n        this.NetManager.SendPack(app.subGameName + \".C\" + app.subGameName.toUpperCase() + \"RoomRecord\", {\"roomID\": roomID});\r\n    },\r\n\r\n    //获取每一局的玩家记录\r\n    sendEveryGameRecord: function (roomID) {\r\n        this.NetManager.SendPack(\"game.CPlayerSetRoomRecord\", {\"roomID\": roomID});\r\n    },\r\n\r\n    SendEndRoom: function (roomID) {\r\n        this.NetManager.SendPack(app.subGameName + \".C\" + app.subGameName.toUpperCase() + \"EndRoom\", {\"roomID\": roomID});\r\n    },\r\n\r\n    SendOpCard: function (sendPack) {\r\n        this.NetManager.SendPack(app.subGameName + \".C\" + app.subGameName.toUpperCase() + \"OpCard\", sendPack, (data) => {\r\n                console.log(data)\r\n            },\r\n            (error) => {\r\n                console.log(\"打牌错误\", error)\r\n            });\r\n    },\r\n\r\n    SendAddDouble: function (roomID, pos, addDouble) {\r\n        this.NetManager.SendPack(app.subGameName + \".C\" + app.subGameName.toUpperCase() + \"AddDouble\", {\r\n            \"roomID\": roomID,\r\n            \"pos\": pos,\r\n            \"addDouble\": addDouble\r\n        });\r\n    },\r\n\r\n    SendRoobDoor: function (roomID, pos, isRob) {\r\n        this.NetManager.SendPack(app.subGameName + \".C\" + app.subGameName.toUpperCase() + \"RobClose\", {\r\n            \"roomID\": roomID,\r\n            \"pos\": pos,\r\n            \"robClose\": isRob\r\n        });\r\n    },\r\n    SendFaPaiFinish:function(pos){\r\n        if (!this.enterRoomID) {\r\n            return\r\n        }\r\n        let roomID = this.enterRoomID;\r\n        let sendPack = {\r\n            \"roomID\": roomID,\r\n            \"pos\": pos,\r\n        };\r\n        this.NetManager.SendPack(app.subGameName + \".C\" + app.subGameName.toUpperCase()  + \"FaPaiJieShu\", sendPack);\r\n    },\r\n    SendOpenCard: function (roomID, pos, isOpen) {\r\n        this.NetManager.SendPack(app.subGameName + \".C\" + app.subGameName.toUpperCase() + \"OpenCard\", {\r\n            \"roomID\": roomID,\r\n            \"pos\": pos,\r\n            \"OpenCard\": isOpen\r\n        });\r\n    }\r\n})\r\n\r\n\r\nvar g_PDKRoomMgr = null;\r\n\r\n/**\r\n * 绑定模块外部方法\r\n */\r\nexports.GetModel = function () {\r\n    if (!g_PDKRoomMgr)\r\n        g_PDKRoomMgr = new PDKRoomMgr();\r\n    return g_PDKRoomMgr;\r\n\r\n}\r\n"]}
{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\script\\ui/assets\\script\\ui\\pdk_UILPPublic_Record.js"],"names":["app","require","cc","Class","extends","subGameName","properties","room_Id","Label","end_Time","lb_jushu","lb_room_info","fristLayout","Node","continueBtnNode","exitRoomBtnNode","exitBtnNode","goSecondBtnNode","wolaikaijuBtnNode","pingfenkaijuBtnNode","dayingjiakaijuBtnNode","btn_sharemore","sharemore","icon_dissolveSpr","SpriteFrame","prefab1","Prefab","OnCreateInit","PokerModle","SDKManager","RoomMgr","toUpperCase","fristFrame","node","getChildByName","fristScorll","getComponent","ScrollView","btn_continue","GetWndNode","topLabels","bottomLabels","pdkStartX","pdkDistance","redColor","Color","greenColor","RegEvent","Event_GameRecord","CloseForm","OnEvt_CopyTextNtf","Event_NewVersion","isNewVersion","event","code","ShowSysMsg","msg","OnShow","needShowIndex","CheckUpdate","IsFormShow","HideAllBtn","active","PlayerName","clubId","setID","endSec","roomKey","roomID","room","GetEnterRoom","roomEnd","GetRoomProperty","record","ShareShortRoomID","ShareLongRoomID","fristData","GetGameRecord","sendEveryGameRecord","roomCfg","GetRoomConfig","string","i18n","t","ComTool","GetDateYearMonthDayHourMinuteString","WanFa","UpdateFristFrame","stopAutoScroll","removeAllChildren","dataCount","i","length","pid","usePrefabIndex","bigBang","lastPoint","point","showTipIndex","nodeObjs","allNum","winCount","loseCount","flatCount","instantiate","GetFristPrefabAllNode","topTitle","iconWin","SetUserInfo","userInfo","SetScore","addChild","isCoinRoom","createType","curNode","winNum","loseNum","win","lose","ping","sportsPoint","dissolve","userInfoNode","player","ownerID","GetRoomPosMgr","GetPlayerInfoByPid","playerName","push","substring","GetPid","wechatSprite","OnLoad","ShowHeroHead","fangzhu","dataIndex","data","needNum","toFixed","dissolveState","Sprite","spriteFrame","serverPack","recordList","pSetRoomRecords","needShowSecond","OnPokerDataBtnClick","target","parent","cardNode","rotation","height","OnClick","btnName","btnNode","isContinue","Click_btn_Share","Click_btn_DDShare","Click_btn_XLShare","Click_btn_ShareMore","Click_btn_Sharelink","SendPack","practiceId","OnSuccess","bind","OnEnterRoomFailed","ExitGame","paymentRoomCardType","FailCreate","self","Msg","console","log","Code","ErrLog","ShareScreen","ShareScreenDD","ShareScreenXL","packName","sys","localStorage","getItem","title","desc","join","weChatAppShareUrl","GetClientConfigProperty","Share","indexOf","GetSysMsgContentByMsgID","SetWaitForConfirmForm","OnConFirm","ShowForm","ShareDefine","ConfirmBuyGoTo","clickType","msgID","backArgList"],"mappings":";;;;;;AAAA,IAAIA,MAAMC,QAAQ,SAAR,CAAV;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASH,QAAQD,IAAIK,WAAJ,GAAkB,WAA1B,CADJ;;AAGLC,gBAAY;AACRC,iBAAQL,GAAGM,KADH;AAERC,kBAASP,GAAGM,KAFJ;AAGRE,kBAASR,GAAGM,KAHJ;AAIRG,sBAAaT,GAAGM,KAJR;AAKRI,qBAAYV,GAAGW,IALP;AAMRC,yBAAgBZ,GAAGW,IANX;AAORE,yBAAgBb,GAAGW,IAPX;AAQRG,qBAAYd,GAAGW,IARP;AASRI,yBAAgBf,GAAGW,IATX;;AAWRK,2BAAkBhB,GAAGW,IAXb;AAYRM,6BAAoBjB,GAAGW,IAZf;AAaRO,+BAAsBlB,GAAGW,IAbjB;;AAeRQ,uBAAcnB,GAAGW,IAfT;AAgBRS,mBAAUpB,GAAGW,IAhBL;;AAkBRU,0BAAiB,CAACrB,GAAGsB,WAAJ,CAlBT;;AAoBRC,iBAAQvB,GAAGwB;AApBH,KAHP;;AA0BLC,kBAAc,wBAAY;AACtB,aAAKC,UAAL,GAAkB5B,IAAIA,IAAIK,WAAJ,GAAgB,YAApB,GAAlB;AACA,aAAKwB,UAAL,GAAkB7B,IAAIA,IAAIK,WAAJ,GAAgB,aAApB,GAAlB;AACA,aAAKyB,OAAL,GAAe9B,IAAIA,IAAIK,WAAJ,CAAgB0B,WAAhB,KAA8B,SAAlC,GAAf;AACA,aAAKC,UAAL,GAAkB,KAAKC,IAAL,CAAUC,cAAV,CAAyB,YAAzB,CAAlB;AACA,aAAKC,WAAL,GAAmB,KAAKH,UAAL,CAAgBE,cAAhB,CAA+B,YAA/B,EAA6CE,YAA7C,CAA0DlC,GAAGmC,UAA7D,CAAnB;;AAEA,aAAKC,YAAL,GAAoB,KAAKC,UAAL,CAAgB,mCAAhB,CAApB;AACA,aAAKC,SAAL,GAAiB,EAAjB;AACA,aAAKC,YAAL,GAAoB,EAApB;AACA,aAAKC,SAAL,GAAiB,CAAC,GAAlB;AACA,aAAKC,WAAL,GAAmB,GAAnB;AACA,aAAKC,QAAL,GAAgB,IAAI1C,GAAG2C,KAAP,CAAa,GAAb,EAAiB,GAAjB,EAAqB,EAArB,CAAhB;AACA,aAAKC,UAAL,GAAkB,IAAI5C,GAAG2C,KAAP,CAAa,EAAb,EAAgB,GAAhB,EAAoB,GAApB,CAAlB;AACA,aAAKE,QAAL,CAAc,YAAd,EAA4B,KAAKC,gBAAjC;AACA,aAAKD,QAAL,CAAc,iBAAd,EAAiC,KAAKE,SAAtC,EAAiD,IAAjD;AACA,aAAKF,QAAL,CAAc,eAAd,EAA+B,KAAKG,iBAApC;AACA,aAAKH,QAAL,CAAc,YAAd,EAA4B,KAAKI,gBAAjC,EAAmD,IAAnD;AACH,KA5CI;AA6CLA,sBAAiB,4BAAU;AACvB,aAAKC,YAAL,GAAkB,IAAlB;AACH,KA/CI;AAgDLF,uBAAkB,2BAASG,KAAT,EAAe;AAC7B,YAAG,KAAKA,MAAMC,IAAd,EACI,KAAKC,UAAL,CAAgB,gBAAcF,MAAMG,GAApC,EADJ,KAGI,KAAKD,UAAL,CAAgB,QAAhB;AACP,KArDI;AAsDLE,YAAO,kBAA0B;AAAA,YAAjBC,aAAiB,uEAAH,CAAC,CAAE;;AAC7B,aAAKN,YAAL,GAAkB,KAAlB;AACApD,YAAIA,IAAIK,WAAJ,GAAgB,eAApB,IAAuCsD,WAAvC,GAF6B,CAEyB;AACtD,YAAG3D,IAAIA,IAAIK,WAAJ,GAAgB,cAApB,IAAsCuD,UAAtC,CAAiD,UAAU5D,IAAIK,WAAJ,CAAgB0B,WAAhB,EAAV,GAA0C,KAA1C,GAAkD/B,IAAIK,WAAJ,CAAgB0B,WAAhB,EAAlD,GAAkF,WAAnI,CAAH,EAAmJ;AAC/I/B,gBAAIA,IAAIK,WAAJ,GAAgB,cAApB,IAAsC4C,SAAtC,CAAgD,UAAUjD,IAAIK,WAAJ,CAAgB0B,WAAhB,EAAV,GAA0C,KAA1C,GAAkD/B,IAAIK,WAAJ,CAAgB0B,WAAhB,EAAlD,GAAkF,WAAlI;AACH;AACJ,aAAK8B,UAAL;AACG,aAAK7B,UAAL,CAAgB8B,MAAhB,GAAyB,KAAzB;AACA,aAAKC,UAAL,GAAgB,EAAhB;AACA,aAAKC,MAAL,GAAc,CAAd;AACA,YAAIC,QAAQ,CAAZ;AACA,YAAIC,SAAS,EAAb;AACA,YAAIC,UAAU,EAAd;AACA,YAAIC,SAAS,CAAb;AACA,YAAG,CAAC,KAAKtC,OAAT,EAAiB;AACb,iBAAKmB,SAAL;AACA;AACH;AACD,aAAKoB,IAAL,GAAY,KAAKvC,OAAL,CAAawC,YAAb,EAAZ;AACA,YAAG,CAAC,KAAKD,IAAT,EAAc;AACV,iBAAKpB,SAAL;AACA;AACH;AACD,YAAIsB,UAAU,KAAKF,IAAL,CAAUG,eAAV,CAA0B,SAA1B,CAAd;AACA,YAAG,CAACD,OAAJ,EAAY;AACR,iBAAKtB,SAAL;AACA;AACH;AACD,YAAIwB,SAASF,QAAQ,QAAR,CAAb;AACAN,gBAAQQ,OAAO,QAAP,CAAR;AACAP,iBAASO,OAAO,QAAP,CAAT;AACA,aAAKC,gBAAL,GAAwB,KAAKL,IAAL,CAAUG,eAAV,CAA0B,KAA1B,CAAxB;AACA,aAAKG,eAAL,GAAuB,KAAKN,IAAL,CAAUG,eAAV,CAA0B,QAA1B,CAAvB;AACAL,kBAAU,SAAS,KAAKO,gBAAxB;AACA,aAAKE,SAAL,GAAiBH,OAAO,oBAAP,CAAjB;AACA,YAAG,CAAC,KAAKJ,IAAL,CAAUQ,aAAV,EAAJ,EAA8B;AAC1B,iBAAK/C,OAAL,CAAagD,mBAAb,CAAiCV,MAAjC;AACH;AACD,YAAIW,UAAQ,KAAKV,IAAL,CAAUW,aAAV,EAAZ;AACA,aAAKhB,MAAL,GAAce,QAAQf,MAAtB;AACA,aAAKzD,OAAL,CAAa0E,MAAb,GAAsBd,OAAtB;AACA,aAAKzD,QAAL,CAAcuE,MAAd,GAAuBjF,IAAIkF,IAAJ,CAASC,CAAT,CAAW,kBAAX,EAA+B,EAAC,YAAYlB,KAAb,EAA/B,CAAvB;AACA,aAAKxD,QAAL,CAAcwE,MAAd,GAAuB,KAAKG,OAAL,CAAaC,mCAAb,CAAiDnB,MAAjD,CAAvB;AACA,aAAKvD,YAAL,CAAkBsE,MAAlB,GAA2B,KAAKK,KAAL,EAA3B;AACA,aAAKC,gBAAL;;AAEA;AACA,aAAKjE,SAAL,CAAewC,MAAf,GAAsB,KAAtB;AACH,KAtGI;AAuGLyB,sBAAiB,4BAAU;AACvB,aAAKjD,YAAL,CAAkBwB,MAAlB,GAA2B,KAA3B;AACA,aAAK3B,WAAL,CAAiBqD,cAAjB;AACA,aAAK5E,WAAL,CAAiB6E,iBAAjB;AACA,YAAIC,YAAY,CAAhB;AACA,aAAI,IAAIC,IAAE,CAAV,EAAYA,IAAE,KAAKf,SAAL,CAAegB,MAA7B,EAAoCD,GAApC,EAAwC;AACpC,gBAAG,KAAK,KAAKf,SAAL,CAAee,CAAf,EAAkBE,GAA1B,EACIH;AACP;AACD,YAAII,iBAAiB,CAArB;AACA,YAAGJ,YAAY,CAAf,EACII,iBAAiB,CAAjB;AACJ;AACA,YAAIC,UAAU,CAAC,CAAf;AACA;AACA,YAAIC,YAAY,KAAKpB,SAAL,CAAe,CAAf,EAAkBqB,KAAlC;AACA,aAAI,IAAIN,KAAE,CAAV,EAAYA,KAAE,KAAKf,SAAL,CAAegB,MAA7B,EAAoCD,IAApC,EAAwC;AACpC,gBAAG,KAAKf,SAAL,CAAee,EAAf,EAAkBE,GAAlB,IAAyB,CAA5B,EACI;AACJ,gBAAGG,YAAY,KAAKpB,SAAL,CAAee,EAAf,EAAkBM,KAAjC,EAAuC;AACnCF,0BAAUJ,EAAV;AACAK,4BAAY,KAAKpB,SAAL,CAAee,EAAf,EAAkBM,KAA9B;AACH;AACJ;AACD,YAAG,KAAK,KAAKrB,SAAL,CAAe,CAAf,EAAkBqB,KAAvB,IAAgC,CAAC,CAAD,IAAMF,OAAzC,EACIA,UAAU,CAAV;AACJ,YAAIG,eAAe,CAAnB;AACA,YAAIjE,OAAO,IAAX;AACA,YAAIkE,WAAW,EAAf;AACA,aAAI,IAAIR,MAAE,CAAV,EAAYA,MAAE,KAAKf,SAAL,CAAegB,MAA7B,EAAoCD,KAApC,EAAwC;AACpC,gBAAIS,SAAS,KAAKxB,SAAL,CAAee,GAAf,EAAkBU,QAAlB,GAA6B,KAAKzB,SAAL,CAAee,GAAf,EAAkBW,SAA/C,GAA2D,KAAK1B,SAAL,CAAee,GAAf,EAAkBY,SAA1F;AACA,gBAAG,KAAK3B,SAAL,CAAee,GAAf,EAAkBE,GAAlB,IAAyB,CAAzB,IAA8B,KAAKO,MAAtC,EAA6C;AACzC;AACH;AACDnE,mBAAO/B,GAAGsG,WAAH,CAAe,KAAK/E,OAApB,CAAP;AACAyE,2BAAe,CAAf;;AAEA,iBAAKO,qBAAL,CAA2BxE,IAA3B,EAAgCkE,QAAhC;AACA,gBAAGR,OAAKO,YAAR,EACIC,SAASO,QAAT,CAAkB5C,MAAlB,GAA2B,KAA3B;AACJ,gBAAGiC,WAAWJ,GAAX,IAAgBK,aAAa,KAAKpB,SAAL,CAAee,GAAf,EAAkBM,KAAlD,EACIE,SAASQ,OAAT,CAAiB7C,MAAjB,GAA0B,IAA1B,CADJ,KAGIqC,SAASQ,OAAT,CAAiB7C,MAAjB,GAA0B,KAA1B;;AAEJ,iBAAK8C,WAAL,CAAiBT,SAASU,QAA1B,EAAmC,KAAKjC,SAAL,CAAee,GAAf,EAAkBE,GAArD;AACA,iBAAKiB,QAAL,CAAcX,QAAd,EAAuBR,GAAvB;AACA,iBAAK/E,WAAL,CAAiBmG,QAAjB,CAA0B9E,IAA1B;AACH;;AAED,aAAKlB,eAAL,CAAqB+C,MAArB,GAA8B,IAA9B;AACA,aAAK7C,eAAL,CAAqB6C,MAArB,GAA8B,KAA9B;AACA,YAAG,CAAC9D,IAAIA,IAAIK,WAAJ,GAAgB,cAApB,IAAsC2G,UAA1C,EAAqD;AACjD,gBAAIjC,UAAQ,KAAKV,IAAL,CAAUW,aAAV,EAAZ;AACA,gBAAG,KAAK,KAAKhB,MAAV,IAAoBe,QAAQkC,UAAR,IAAoB,CAA3C,EAA6C;AACzC;;;AAGA,qBAAK/F,iBAAL,CAAuB4C,MAAvB,GAA8B,KAA9B;AACA,qBAAK3C,mBAAL,CAAyB2C,MAAzB,GAAgC,KAAhC;AACA,qBAAK1C,qBAAL,CAA2B0C,MAA3B,GAAkC,KAAlC;AACH;AACD,gBAAI,KAAKE,MAAL,IAAe,CAAnB,EAAsB;AAClB,qBAAK1B,YAAL,CAAkBwB,MAAlB,GAA2B,IAA3B;AACH;AACP,SAbE,MAcI;AACA,iBAAKhD,eAAL,CAAqBgD,MAArB,GAA8B,IAA9B;AACH;AACD,aAAK9B,UAAL,CAAgB8B,MAAhB,GAAyB,IAAzB;AACH,KA7KI;AA8KL2C,2BAAsB,+BAASS,OAAT,EAAiBf,QAAjB,EAA0B;AAC5CA,iBAASO,QAAT,GAAoBQ,QAAQhF,cAAR,CAAuB,UAAvB,CAApB;AACAiE,iBAASU,QAAT,GAAoBK,QAAQhF,cAAR,CAAuB,WAAvB,CAApB;AACAiE,iBAASgB,MAAT,GAAkBD,QAAQhF,cAAR,CAAuB,YAAvB,CAAlB;AACAiE,iBAASiB,OAAT,GAAmBF,QAAQhF,cAAR,CAAuB,aAAvB,CAAnB;AACAiE,iBAASkB,GAAT,GAAeH,QAAQhF,cAAR,CAAuB,QAAvB,CAAf;AACAiE,iBAASmB,IAAT,GAAgBJ,QAAQhF,cAAR,CAAuB,SAAvB,CAAhB;AACAiE,iBAASoB,IAAT,GAAgBL,QAAQhF,cAAR,CAAuB,SAAvB,CAAhB;AACAiE,iBAASqB,WAAT,GAAuBN,QAAQhF,cAAR,CAAuB,gBAAvB,CAAvB;AACAiE,iBAASsB,QAAT,GAAoBP,QAAQhF,cAAR,CAAuB,eAAvB,CAApB;AACAiE,iBAASQ,OAAT,GAAmBO,QAAQhF,cAAR,CAAuB,UAAvB,CAAnB;AACH,KAzLI;AA0LL0E,iBAAY,qBAASc,YAAT,EAAsB7B,GAAtB,EAA0B;AAClC,YAAI8B,SAAS,IAAb;AACA,YAAIC,UAAU,CAAd;AACAD,iBAAS,KAAKtD,IAAL,CAAUwD,aAAV,GAA0BC,kBAA1B,CAA6CjC,GAA7C,CAAT;AACA+B,kBAAU,KAAKvD,IAAL,CAAUG,eAAV,CAA0B,SAA1B,CAAV;AACA;AACA;AACA;AACA;AACA,YAAIuD,aAAa,EAAjB;AACAA,qBAAaJ,OAAO,MAAP,CAAb;AACA,aAAK5D,UAAL,CAAgBiE,IAAhB,CAAqBD,UAArB;AACA,YAAGA,WAAWnC,MAAX,GAAoB,CAAvB,EAAyB;AACrBmC,yBAAaA,WAAWE,SAAX,CAAqB,CAArB,EAAwB,CAAxB,IAA6B,KAA1C;AACH;AACDP,qBAAaxF,cAAb,CAA4B,YAA5B,EAA0CE,YAA1C,CAAuDlC,GAAGM,KAA1D,EAAiEyE,MAAjE,GAA0E8C,UAA1E;;AAEAL,qBAAaxF,cAAb,CAA4B,UAA5B,EAAwCE,YAAxC,CAAqDlC,GAAGM,KAAxD,EAA+DyE,MAA/D,GAAwE,KAAKG,OAAL,CAAa8C,MAAb,CAAoBrC,GAApB,CAAxE;AACA,YAAIsC,eAAeT,aAAaxF,cAAb,CAA4B,UAA5B,EAAwCE,YAAxC,CAAqDpC,IAAIK,WAAJ,GAAgB,kBAArE,CAAnB;AACA8H,qBAAaC,MAAb;AACAD,qBAAaE,YAAb,CAA0BxC,GAA1B;;AAEA;AACA,YAAIyC,UAAUZ,aAAaxF,cAAb,CAA4B,SAA5B,CAAd;AACA,YAAG0F,WAAWD,OAAO9B,GAArB,EACIyC,QAAQxE,MAAR,GAAiB,IAAjB,CADJ,KAGIwE,QAAQxE,MAAR,GAAiB,KAAjB;AACP,KAtNI;AAuNLgD,cAAS,kBAASX,QAAT,EAAkBoC,SAAlB,EAA4B;AACjC,YAAIC,OAAO,KAAK5D,SAAL,CAAe2D,SAAf,CAAX;AACA,YAAGC,KAAKvC,KAAL,GAAa,CAAhB,EAAkB;AACdE,qBAASgB,MAAT,CAAgBrD,MAAhB,GAAyB,IAAzB;AACAqC,qBAASiB,OAAT,CAAiBtD,MAAjB,GAA0B,KAA1B;AACA,gBAAG0E,KAAKvC,KAAL,GAAa,KAAhB,EAAsB;AAClB,oBAAIwC,UAAUD,KAAKvC,KAAL,GAAa,KAA3B;AACAwC,0BAAUA,QAAQC,OAAR,CAAgB,CAAhB,CAAV;AACAvC,yBAASgB,MAAT,CAAgB/E,YAAhB,CAA6BlC,GAAGM,KAAhC,EAAuCyE,MAAvC,GAAgD,MAAMwD,OAAN,GAAgB,GAAhE;AACH,aAJD,MAMItC,SAASgB,MAAT,CAAgB/E,YAAhB,CAA6BlC,GAAGM,KAAhC,EAAuCyE,MAAvC,GAAgD,MAAMuD,KAAKvC,KAA3D;AACP,SAVD,MAWI;AACAE,qBAASgB,MAAT,CAAgBrD,MAAhB,GAAyB,KAAzB;AACAqC,qBAASiB,OAAT,CAAiBtD,MAAjB,GAA0B,IAA1B;AACA,gBAAG0E,KAAKvC,KAAL,GAAa,CAAC,KAAjB,EAAuB;AACnB,oBAAIwC,WAAUD,KAAKvC,KAAL,GAAa,KAA3B;AACAwC,2BAAUA,SAAQC,OAAR,CAAgB,CAAhB,CAAV;AACAvC,yBAASiB,OAAT,CAAiBhF,YAAjB,CAA8BlC,GAAGM,KAAjC,EAAwCyE,MAAxC,GAAiD,KAAKwD,QAAL,GAAe,GAAhE,CAAoE;AACvE,aAJD,MAMItC,SAASiB,OAAT,CAAiBhF,YAAjB,CAA8BlC,GAAGM,KAAjC,EAAwCyE,MAAxC,GAAiDuD,KAAKvC,KAAtD;AACP;;AAEDE,iBAASkB,GAAT,CAAajF,YAAb,CAA0BlC,GAAGM,KAA7B,EAAoCyE,MAApC,GAA6CuD,KAAKnC,QAAlD;AACAF,iBAASmB,IAAT,CAAclF,YAAd,CAA2BlC,GAAGM,KAA9B,EAAqCyE,MAArC,GAA8CuD,KAAKlC,SAAnD;AACAH,iBAASoB,IAAT,CAAcnF,YAAd,CAA2BlC,GAAGM,KAA9B,EAAqCyE,MAArC,GAA8CuD,KAAKjC,SAAnD;AACA;AACA,YAAI,OAAOiC,KAAKG,aAAZ,IAA8B,WAA9B,IAA6CH,KAAKG,aAAL,IAAsB,CAAC,CAAxE,EAA2E;AACvExC,qBAASsB,QAAT,CAAkB3D,MAAlB,GAAyB,KAAzB;AACH,SAFD,MAEK;AACDqC,qBAASsB,QAAT,CAAkB3D,MAAlB,GAAyB,IAAzB;AACAqC,qBAASsB,QAAT,CAAkBrF,YAAlB,CAA+BlC,GAAG0I,MAAlC,EAA0CC,WAA1C,GAAwD,KAAKtH,gBAAL,CAAsBiH,KAAKG,aAA3B,CAAxD;AACH;AACD;AACA,YAAI,OAAOH,KAAKhB,WAAZ,IAA0B,WAA9B,EAA2C;AACvC,gBAAIgB,KAAKhB,WAAL,GAAmB,CAAvB,EAA0B;AACtBrB,yBAASqB,WAAT,CAAqBpF,YAArB,CAAkClC,GAAGM,KAArC,EAA4CyE,MAA5C,GAAqD,UAAQuD,KAAKhB,WAAlE;AACH,aAFD,MAEK;AACDrB,yBAASqB,WAAT,CAAqBpF,YAArB,CAAkClC,GAAGM,KAArC,EAA4CyE,MAA5C,GAAqD,SAAOuD,KAAKhB,WAAjE;AACH;AACD;AACArB,qBAASqB,WAAT,CAAqB1D,MAArB,GAA8B,IAA9B;AACH,SARD,MAQK;AACD;AACAqC,qBAASqB,WAAT,CAAqB1D,MAArB,GAA8B,KAA9B;AACH;AACJ,KAvQI;AAwQLd,sBAAiB,0BAAS8F,UAAT,EAAoB;AACjC,aAAKC,UAAL,GAAkBD,WAAWE,eAA7B;AACA,YAAG,CAAC,KAAKC,cAAT,EACI;AACP,KA5QI;;AA+QL;;AAEA;AACAC,yBAAoB,6BAAS7F,KAAT,EAAe;AAC/B,YAAIpB,OAAOoB,MAAM8F,MAAjB;AACA,YAAIC,SAASnH,KAAKmH,MAAlB;AACA,YAAIC,WAAWD,OAAOlH,cAAP,CAAsB,UAAtB,CAAf;AACA,YAAGmH,SAASvF,MAAZ,EAAmB;AACf7B,iBAAKqH,QAAL,GAAgB,CAAhB;AACAF,mBAAOG,MAAP,GAAgBH,OAAOG,MAAP,GAAgBF,SAASE,MAAzC;AACAF,qBAASvF,MAAT,GAAkB,KAAlB;AACH,SAJD,MAKI;AACA7B,iBAAKqH,QAAL,GAAgB,GAAhB;AACAF,mBAAOG,MAAP,GAAgBH,OAAOG,MAAP,GAAgBF,SAASE,MAAzC;AACAF,qBAASvF,MAAT,GAAkB,IAAlB;AACH;AACJ,KAhSI;AAiSLD,gBAAW,sBAAU;AACpB,aAAK7C,WAAL,CAAiB8C,MAAjB,GAA0B,KAA1B;AACG,aAAK/C,eAAL,CAAqB+C,MAArB,GAA8B,KAA9B;AACA,aAAK7C,eAAL,CAAqB6C,MAArB,GAA8B,KAA9B;AACA,aAAK5C,iBAAL,CAAuB4C,MAAvB,GAA8B,KAA9B;AACA,aAAK3C,mBAAL,CAAyB2C,MAAzB,GAAgC,KAAhC;AACA,aAAK1C,qBAAL,CAA2B0C,MAA3B,GAAkC,KAAlC;AACA,aAAKhD,eAAL,CAAqBgD,MAArB,GAA4B,KAA5B;AACH,KAzSI;AA0SL0F,aAAQ,iBAASC,OAAT,EAAkBC,OAAlB,EAA0B;AAC9B;AACA,YAAIrF,OAAMrE,IAAIA,IAAIK,WAAJ,CAAgB0B,WAAhB,KAA8B,MAAlC,GAAV;AACA,YAAIgD,UAAQ,EAAZ;AACA,YAAGV,IAAH,EAAQ;AACJU,sBAAUV,KAAKW,aAAL,EAAV;AACAD,oBAAQ4E,UAAR,GAAmB,IAAnB;AACH;AACD;;AAEA,YAAG,eAAeF,OAAlB,EAA0B;AACtB,iBAAKxG,SAAL;AACH,SAFD,MAGK,IAAG,iBAAiBwG,OAApB,EAA4B;AAC7B,iBAAKR,cAAL,GAAsB,IAAtB;AACH,SAFI,MAGA,IAAGQ,WAAS,WAAZ,EAAwB;AACzB,iBAAKG,eAAL;AACH,SAFI,MAEC,IAAGH,WAAS,aAAZ,EAA0B;AAC5B,iBAAKI,iBAAL;AACH,SAFK,MAEA,IAAGJ,WAAS,aAAZ,EAA0B;AAC5B,iBAAKK,iBAAL;AACH,SAFK,MAEA,IAAGL,WAAS,eAAZ,EAA4B;AAC9B,iBAAKM,mBAAL;AACH,SAFK,MAEA,IAAGN,WAAS,eAAZ,EAA4B;AAC9B,iBAAKO,mBAAL;AACH,SAFK,MAEA,IAAGP,WAAS,gBAAZ,EAA6B;AAC/B,iBAAKnI,SAAL,CAAewC,MAAf,GAAsB,KAAtB;AACH,SAFK,MAGD,IAAG,0BAA0B2F,OAA7B,EAAqC;AACtCzJ,gBAAIA,IAAIK,WAAJ,GAAgB,aAApB,IAAqC4J,QAArC,CAA8C,gBAA9C,EAAgE,EAACC,YAAWlK,IAAIA,IAAIK,WAAJ,GAAgB,cAApB,IAAsC6J,UAAlD,EAAhE,EAA+H,KAAKC,SAAL,CAAeC,IAAf,CAAoB,IAApB,CAA/H,EAAyJ,KAAKC,iBAAL,CAAuBD,IAAvB,CAA4B,IAA5B,CAAzJ;AACH,iBAAKnH,SAAL;AACA,SAHI,MAIA,IAAG,kBAAkBwG,OAArB,EAA6B;AAC9BzJ,gBAAIA,IAAIK,WAAJ,GAAkB,QAAtB,EAAgCiK,QAAhC;AACH,SAFI,MAGA,IAAG,cAAcb,OAAjB,EAAyB;AAC1B,iBAAKxG,SAAL;AACH,SAFI,MAEC,IAAGwG,WAAW,kBAAd,EAAiC;AACnC,gBAAG,KAAKrG,YAAL,IAAmB,IAAtB,EAA2B;AACvBpD,oBAAIA,IAAIK,WAAJ,GAAkB,mBAAtB,IAA6CkD,UAA7C,CAAwD,gBAAxD;AACA;AACH;AACDwB,oBAAQwF,mBAAR,GAA4B,CAA5B;AACAvK,gBAAIA,IAAIK,WAAJ,GAAgB,aAApB,IAAqC4J,QAArC,CAA8CjK,IAAIK,WAAJ,GAAgB,IAAhB,GAAqBL,IAAIK,WAAJ,CAAgB0B,WAAhB,EAArB,GAAmD,YAAjG,EAA8GgD,OAA9G,EAAsH,YAAU,CAAE,CAAlI,EAAmI,KAAKyF,UAAL,CAAgBJ,IAAhB,CAAqB,IAArB,CAAnI;AACH,SAPK,MAOA,IAAGX,WAAW,gBAAd,EAA+B;AACjC,gBAAG,KAAKrG,YAAL,IAAmB,IAAtB,EAA2B;AACvBpD,oBAAIA,IAAIK,WAAJ,GAAkB,mBAAtB,IAA6CkD,UAA7C,CAAwD,gBAAxD;AACA;AACH;AACDwB,oBAAQwF,mBAAR,GAA4B,CAA5B;AACAvK,gBAAIA,IAAIK,WAAJ,GAAgB,aAApB,IAAqC4J,QAArC,CAA8CjK,IAAIK,WAAJ,GAAgB,IAAhB,GAAqBL,IAAIK,WAAJ,CAAgB0B,WAAhB,EAArB,GAAmD,YAAjG,EAA8GgD,OAA9G,EAAsH,YAAU,CAAE,CAAlI,EAAmI,KAAKyF,UAAL,CAAgBJ,IAAhB,CAAqB,IAArB,CAAnI;AACH,SAPK,MAOA,IAAGX,WAAW,oBAAd,EAAmC;AACrC,gBAAG,KAAKrG,YAAL,IAAmB,IAAtB,EAA2B;AACvBpD,oBAAIA,IAAIK,WAAJ,GAAkB,mBAAtB,IAA6CkD,UAA7C,CAAwD,gBAAxD;AACA;AACH;AACDwB,oBAAQwF,mBAAR,GAA4B,CAA5B;AACAvK,gBAAIA,IAAIK,WAAJ,GAAgB,aAApB,IAAqC4J,QAArC,CAA8CjK,IAAIK,WAAJ,GAAgB,IAAhB,GAAqBL,IAAIK,WAAJ,CAAgB0B,WAAhB,EAArB,GAAmD,YAAjG,EAA8GgD,OAA9G,EAAsH,YAAU,CAAE,CAAlI,EAAmI,KAAKyF,UAAL,CAAgBJ,IAAhB,CAAqB,IAArB,CAAnI;AACH,SAPK,MAOA,IAAGX,WAAW,cAAd,EAA6B;AAC/B,gBAAG,KAAKrG,YAAL,IAAmB,IAAtB,EAA2B;AACvBpD,oBAAIA,IAAIK,WAAJ,GAAkB,mBAAtB,IAA6CkD,UAA7C,CAAwD,gBAAxD;AACA;AACH;AACD,gBAAIkH,OAAO,IAAX;AACAzK,gBAAIA,IAAIK,WAAJ,GAAkB,aAAtB,IAAuC4J,QAAvC,CAAgDjK,IAAIK,WAAJ,GAAgB,IAAhB,GAAqBL,IAAIK,WAAJ,CAAgB0B,WAAhB,EAArB,GAAmD,mBAAnG,EAAuH,EAAvH,EAA2H,UAASsB,KAAT,EAAe;AACtIoH,qBAAKxH,SAAL;AACAjD,oBAAIA,IAAIK,WAAJ,GAAgB,cAApB,IAAsC4C,SAAtC,CAAgD,UAAQjD,IAAIK,WAAJ,CAAgB0B,WAAhB,EAAR,GAAsC,KAAtC,GAA4C/B,IAAIK,WAAJ,CAAgB0B,WAAhB,EAA5C,GAA0E,WAA1H;AACA/B,oBAAIA,IAAIK,WAAJ,GAAkB,aAAtB,IAAuC4J,QAAvC,CAAgD,qBAAhD,EAAuE,EAAvE;AACH,aAJD,EAIG,UAAS5G,KAAT,EAAe;AACd,oBAAIA,MAAMqH,GAAN,IAAa,wBAAjB,EAA2C;AACvC1K,wBAAIA,IAAIK,WAAJ,GAAkB,mBAAtB,IAA6CkD,UAA7C,CAAwD,iCAAxD;AACH,iBAFD,MAEM,IAAIF,MAAMqH,GAAN,IAAa,6BAAjB,EAAgD;AAClD1K,wBAAIA,IAAIK,WAAJ,GAAkB,mBAAtB,IAA6CkD,UAA7C,CAAwD,2CAAxD;AACH,iBAFK,MAEA,IAAIF,MAAMqH,GAAN,IAAa,kBAAjB,EAAqC;AACvC1K,wBAAIA,IAAIK,WAAJ,GAAkB,mBAAtB,IAA6CkD,UAA7C,CAAwD,uBAAxD;AACH,iBAFK,MAEA,IAAGF,MAAMqH,GAAN,IAAW,yBAAd,EAAwC;AAC1CC,4BAAQC,GAAR,CAAY,OAAZ;AACH,iBAFK,MAEA,IAAGvH,MAAMwH,IAAN,IAAY,EAAf,EAAkB;AAChBF,4BAAQC,GAAR,CAAY,MAAZ;AACP,iBAFK,MAEA,IAAGvH,MAAMqH,GAAN,IAAW,0BAAd,EAAyC;AAC3C1K,wBAAIA,IAAIK,WAAJ,GAAkB,mBAAtB,IAA6CkD,UAA7C,CAAwD,qCAAxD;AACH,iBAFK,MAEA,IAAGF,MAAMqH,GAAN,IAAW,uBAAd,EAAsC;AACxC1K,wBAAIA,IAAIK,WAAJ,GAAkB,mBAAtB,IAA6CkD,UAA7C,CAAwD,8BAAxD;AACH,iBAFK,MAED;AACDvD,wBAAIA,IAAIK,WAAJ,GAAkB,mBAAtB,IAA6CkD,UAA7C,CAAwD,iBAAxD;AACH;AACJ,aAtBD;AAuBH,SA7BK,MA8BF;AACA,iBAAKuH,MAAL,CAAY,8BAAZ,EAA2CrB,OAA3C;AACH;AACJ,KAtYI;AAuYLG,qBAAgB,2BAAU;AACtB,aAAKtI,SAAL,CAAewC,MAAf,GAAsB,KAAtB;AACA,aAAKjC,UAAL,CAAgBkJ,WAAhB;AACH,KA1YI;AA2YLlB,uBAAkB,6BAAU;AACxB,aAAKvI,SAAL,CAAewC,MAAf,GAAsB,KAAtB;AACA,aAAKjC,UAAL,CAAgBmJ,aAAhB;AACH,KA9YI;AA+YLlB,uBAAkB,6BAAU;AACxB,aAAKxI,SAAL,CAAewC,MAAf,GAAsB,KAAtB;AACA,aAAKjC,UAAL,CAAgBoJ,aAAhB;AACH,KAlZI;AAmZLlB,yBAAoB,+BAAU;AAC1B,YAAIjG,SAAO,KAAKxC,SAAL,CAAewC,MAA1B;AACA,YAAGA,UAAQ,IAAX,EAAgB;AACZ,iBAAKxC,SAAL,CAAewC,MAAf,GAAsB,KAAtB;AACH,SAFD,MAEK;AACD,iBAAKxC,SAAL,CAAewC,MAAf,GAAsB,IAAtB;AACH;AAEJ,KA3ZI;AA4ZLkG,yBAAoB,+BAAU;AAC1B,YAAIkB,WAAWhL,GAAGiL,GAAH,CAAOC,YAAP,CAAoBC,OAApB,CAA4B,UAA5B,CAAf;AACA,YAAG,CAACH,QAAJ,EAAa;AACTA,uBAAW,EAAX;AACH;AACD,YAAII,QAAM,QAAM,KAAK5G,gBAAX,GAA4B,MAAtC;AACA,YAAI6G,OAAM,MAAI,KAAKxH,UAAL,CAAgByH,IAAhB,CAAqB,KAArB,CAAJ,GAAgC,GAA1C;AACA,YAAIC,oBAAoBzL,IAAIA,IAAIK,WAAJ,GAAkB,QAAtB,EAAgCqL,uBAAhC,CAAwD,aAAxD,IAAyE,KAAK/G,eAAtG;AACA,aAAK9C,UAAL,CAAgB8J,KAAhB,CAAsBL,KAAtB,EAA6BC,IAA7B,EAAmCE,iBAAnC,EAAsD,GAAtD;AACH,KAraI;;AAwaLjB,gBAAW,oBAAS1B,UAAT,EAAoB;AAC3B,YAAGA,WAAW,KAAX,EAAkB8C,OAAlB,CAA0B,wBAA1B,IAAoD,CAAC,CAAxD,EAA0D;AACtD,gBAAIL,OAAOvL,IAAIA,IAAIK,WAAJ,GAAgB,mBAApB,IAA2CwL,uBAA3C,CAAmE,iBAAnE,CAAX;AACA7L,gBAAIA,IAAIK,WAAJ,GAAgB,iBAApB,IAAyCyL,qBAAzC,CAA+D,KAAKC,SAAL,CAAe3B,IAAf,CAAoB,IAApB,CAA/D,EAA0F,WAA1F,EAAuG,EAAvG;AACApK,gBAAIA,IAAIK,WAAJ,GAAgB,cAApB,IAAsC2L,QAAtC,CAA+ChM,IAAIK,WAAJ,GAAgB,YAA/D,EAA6E,IAA7E,EAAmF,KAAK4L,WAAL,CAAiBC,cAApG,EAAoH,CAApH,EAAuH,CAAvH,EAA0HX,IAA1H;AACA;AACH,SALD,MAKK;AACD,iBAAKT,MAAL,CAAY,0BAAZ,EAAuChC,WAAW4B,GAAlD;AACH;AACJ,KAjbI;AAkbLP,eAAU,mBAASrB,UAAT,EAAoB;AAC1B6B,gBAAQC,GAAR,CAAY,sBAAZ,EAAoC9B,UAApC;AACA,YAAI1E,SAAS0E,WAAW1E,MAAxB;AACApE,YAAIA,IAAIK,WAAJ,GAAgB,aAApB,IAAqC4J,QAArC,CAA8CjK,IAAIK,WAAJ,GAAgB,IAAhB,GAAqBL,IAAIK,WAAJ,CAAgB0B,WAAhB,EAArB,GAAmD,aAAjG,EAAgH,EAAC,UAASqC,MAAV,EAAhH;AACA,aAAKnB,SAAL;AACA;AACH,KAxbI;;AA0bLoH,uBAAkB,2BAASvB,UAAT,EAAoB;AAClC9I,YAAIA,IAAIK,WAAJ,GAAkB,QAAtB,EAAgCiK,QAAhC;AACAK,gBAAQC,GAAR,CAAY,8BAAZ,EAA4C9B,UAA5C;AACH,KA7bI;AA8bLiD,eAAU,mBAASI,SAAT,EAAoBC,KAApB,EAA2BC,WAA3B,EAAuC;AAC7C,YAAGF,aAAa,MAAhB,EAAuB;AACnB;AACH;AACJ;AAlcI,CAAT","file":"pdk_UILPPublic_Record.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\ui","sourcesContent":["var app = require(\"pdk_app\");\r\ncc.Class({\r\n    extends: require(app.subGameName + \"_BaseForm\"),\r\n\r\n    properties: {\r\n        room_Id:cc.Label,\r\n        end_Time:cc.Label,\r\n        lb_jushu:cc.Label,\r\n        lb_room_info:cc.Label,\r\n        fristLayout:cc.Node,\r\n        continueBtnNode:cc.Node,\r\n        exitRoomBtnNode:cc.Node,\r\n        exitBtnNode:cc.Node,\r\n        goSecondBtnNode:cc.Node,\r\n\r\n        wolaikaijuBtnNode:cc.Node,\r\n        pingfenkaijuBtnNode:cc.Node,\r\n        dayingjiakaijuBtnNode:cc.Node,\r\n\r\n        btn_sharemore:cc.Node,\r\n        sharemore:cc.Node,\r\n\r\n        icon_dissolveSpr:[cc.SpriteFrame],\r\n\r\n        prefab1:cc.Prefab,\r\n    },\r\n\r\n    OnCreateInit: function () {\r\n        this.PokerModle = app[app.subGameName+\"_PokerCard\"]();\r\n        this.SDKManager = app[app.subGameName+\"_SDKManager\"]();\r\n        this.RoomMgr = app[app.subGameName.toUpperCase()+\"RoomMgr\"]();\r\n        this.fristFrame = this.node.getChildByName('fristFrame');\r\n        this.fristScorll = this.fristFrame.getChildByName('ScrollView').getComponent(cc.ScrollView);\r\n        \r\n        this.btn_continue = this.GetWndNode(\"fristFrame/btn_lists/btn_continue\");\r\n        this.topLabels = [];\r\n        this.bottomLabels = [];\r\n        this.pdkStartX = -366;\r\n        this.pdkDistance = 247;\r\n        this.redColor = new cc.Color(181,104,48);\r\n        this.greenColor = new cc.Color(59,138,133);\r\n        this.RegEvent(\"GameRecord\", this.Event_GameRecord);\r\n        this.RegEvent(\"EVT_CloseDetail\", this.CloseForm, this);\r\n        this.RegEvent(\"OnCopyTextNtf\", this.OnEvt_CopyTextNtf);\r\n        this.RegEvent(\"NewVersion\", this.Event_NewVersion, this);\r\n    },\r\n    Event_NewVersion:function(){\r\n        this.isNewVersion=true;\r\n    },\r\n    OnEvt_CopyTextNtf:function(event){\r\n        if(0 == event.code)\r\n            this.ShowSysMsg(\"手动去微信分享：已复制\"+event.msg);\r\n        else\r\n            this.ShowSysMsg(\"复制房号失败\");\r\n    },\r\n    OnShow:function(needShowIndex=-1){\r\n        this.isNewVersion=false;\r\n        app[app.subGameName+\"_HotUpdateMgr\"]().CheckUpdate(); //检测客户端是否有新版本\r\n        if(app[app.subGameName+\"_FormManager\"]().IsFormShow(\"game/\" + app.subGameName.toUpperCase() + \"/UI\" + app.subGameName.toUpperCase() + \"_ResultXY\")){\r\n            app[app.subGameName+\"_FormManager\"]().CloseForm(\"game/\" + app.subGameName.toUpperCase() + \"/UI\" + app.subGameName.toUpperCase() + \"_ResultXY\")\r\n        }\r\n    \tthis.HideAllBtn();\r\n        this.fristFrame.active = false;\r\n        this.PlayerName=[];\r\n        this.clubId = 0;\r\n        let setID = 0;\r\n        let endSec = '';\r\n        let roomKey = '';\r\n        let roomID = 0;\r\n        if(!this.RoomMgr){\r\n            this.CloseForm();\r\n            return\r\n        }\r\n        this.room = this.RoomMgr.GetEnterRoom();\r\n        if(!this.room){\r\n            this.CloseForm();\r\n            return\r\n        }\r\n        let roomEnd = this.room.GetRoomProperty(\"roomEnd\");\r\n        if(!roomEnd){\r\n            this.CloseForm();\r\n            return\r\n        }\r\n        let record = roomEnd[\"record\"];\r\n        setID = record[\"setCnt\"];\r\n        endSec = record['endSec'];\r\n        this.ShareShortRoomID = this.room.GetRoomProperty(\"key\");\r\n        this.ShareLongRoomID = this.room.GetRoomProperty(\"roomID\");\r\n        roomKey = \"房间号:\" + this.ShareShortRoomID;\r\n        this.fristData = record['recordPosInfosList'];\r\n        if(!this.room.GetGameRecord()){\r\n            this.RoomMgr.sendEveryGameRecord(roomID);\r\n        }\r\n        let roomCfg=this.room.GetRoomConfig();\r\n        this.clubId = roomCfg.clubId;\r\n        this.room_Id.string = roomKey;\r\n        this.lb_jushu.string = app.i18n.t(\"UIWanFa_setCount\", {\"setCount\": setID});\r\n        this.end_Time.string = this.ComTool.GetDateYearMonthDayHourMinuteString(endSec);\r\n        this.lb_room_info.string = this.WanFa();\r\n        this.UpdateFristFrame();\r\n       \r\n        //初始化分享\r\n        this.sharemore.active=false;\r\n    },\r\n    UpdateFristFrame:function(){\r\n        this.btn_continue.active = false;\r\n        this.fristScorll.stopAutoScroll();\r\n        this.fristLayout.removeAllChildren();\r\n        let dataCount = 0;\r\n        for(let i=0;i<this.fristData.length;i++){\r\n            if(0 != this.fristData[i].pid)\r\n                dataCount++\r\n        }\r\n        let usePrefabIndex = 1;\r\n        if(dataCount > 4)\r\n            usePrefabIndex = 2;\r\n        //先找出大赢家\r\n        let bigBang = -1;\r\n        //console.log();\r\n        let lastPoint = this.fristData[0].point;\r\n        for(let i=0;i<this.fristData.length;i++){\r\n            if(this.fristData[i].pid <= 0)\r\n                continue;\r\n            if(lastPoint < this.fristData[i].point){\r\n                bigBang = i;\r\n                lastPoint = this.fristData[i].point;\r\n            }\r\n        }\r\n        if(0 != this.fristData[0].point && -1 == bigBang)\r\n            bigBang = 0;\r\n        let showTipIndex = 1;\r\n        let node = null;\r\n        let nodeObjs = {};\r\n        for(let i=0;i<this.fristData.length;i++){\r\n            let allNum = this.fristData[i].winCount + this.fristData[i].loseCount + this.fristData[i].flatCount;\r\n            if(this.fristData[i].pid <= 0 || 0 == allNum){\r\n                continue;\r\n            }\r\n            node = cc.instantiate(this.prefab1);\r\n            showTipIndex = 1;\r\n          \r\n            this.GetFristPrefabAllNode(node,nodeObjs);\r\n            if(i >= showTipIndex)\r\n                nodeObjs.topTitle.active = false;\r\n            if(bigBang == i || lastPoint == this.fristData[i].point)\r\n                nodeObjs.iconWin.active = true;\r\n            else\r\n                nodeObjs.iconWin.active = false;\r\n\r\n            this.SetUserInfo(nodeObjs.userInfo,this.fristData[i].pid);\r\n            this.SetScore(nodeObjs,i);\r\n            this.fristLayout.addChild(node);\r\n        }\r\n        \r\n        this.exitRoomBtnNode.active = true;\r\n        this.goSecondBtnNode.active = false;\r\n        if(!app[app.subGameName+\"_ShareDefine\"]().isCoinRoom){\r\n            let roomCfg=this.room.GetRoomConfig();\r\n            if(0 == this.clubId && roomCfg.createType==1){\r\n                /*this.wolaikaijuBtnNode.active=true;\r\n                this.pingfenkaijuBtnNode.active=true;\r\n                this.dayingjiakaijuBtnNode.active=true;*/\r\n                this.wolaikaijuBtnNode.active=false;\r\n                this.pingfenkaijuBtnNode.active=false;\r\n                this.dayingjiakaijuBtnNode.active=false;\r\n            }\r\n            if (this.clubId != 0) {\r\n                this.btn_continue.active = true;\r\n            }\r\n    \t}\r\n        else{\r\n            this.continueBtnNode.active = true;\r\n        }\r\n        this.fristFrame.active = true;\r\n    },\r\n    GetFristPrefabAllNode:function(curNode,nodeObjs){\r\n        nodeObjs.topTitle = curNode.getChildByName('topTitle');\r\n        nodeObjs.userInfo = curNode.getChildByName('user_info');\r\n        nodeObjs.winNum = curNode.getChildByName('lb_win_num');\r\n        nodeObjs.loseNum = curNode.getChildByName('lb_lose_num');\r\n        nodeObjs.win = curNode.getChildByName('lb_win');\r\n        nodeObjs.lose = curNode.getChildByName('lb_lose');\r\n        nodeObjs.ping = curNode.getChildByName('lb_ping');\r\n        nodeObjs.sportsPoint = curNode.getChildByName('lb_sportsPoint');\r\n        nodeObjs.dissolve = curNode.getChildByName('icon_dissolve');\r\n        nodeObjs.iconWin = curNode.getChildByName('icon_win');\r\n    },\r\n    SetUserInfo:function(userInfoNode,pid){\r\n        let player = null;\r\n        let ownerID = 0;\r\n        player = this.room.GetRoomPosMgr().GetPlayerInfoByPid(pid);\r\n        ownerID = this.room.GetRoomProperty(\"ownerID\");\r\n        // if(!player){\r\n        //     this.ErrLog('SetUserInfo Error this.playerList.length = ' + this.playerList.length);\r\n        //     return;\r\n        // }\r\n        let playerName = \"\";\r\n        playerName = player[\"name\"];\r\n        this.PlayerName.push(playerName);\r\n        if(playerName.length > 4){\r\n            playerName = playerName.substring(0, 4) + '...';\r\n        }\r\n        userInfoNode.getChildByName(\"lable_name\").getComponent(cc.Label).string = playerName;\r\n\r\n        userInfoNode.getChildByName(\"label_id\").getComponent(cc.Label).string = this.ComTool.GetPid(pid);\r\n        let wechatSprite = userInfoNode.getChildByName(\"head_img\").getComponent(app.subGameName+\"_WeChatHeadImage\");\r\n        wechatSprite.OnLoad();\r\n        wechatSprite.ShowHeroHead(pid);\r\n\r\n        //判断房主是谁\r\n        let fangzhu = userInfoNode.getChildByName(\"fangzhu\");\r\n        if(ownerID == player.pid)\r\n            fangzhu.active = true;\r\n        else\r\n            fangzhu.active = false;\r\n    },\r\n    SetScore:function(nodeObjs,dataIndex){\r\n        let data = this.fristData[dataIndex];\r\n        if(data.point > 0){\r\n            nodeObjs.winNum.active = true;\r\n            nodeObjs.loseNum.active = false;\r\n            if(data.point > 10000){\r\n                let needNum = data.point / 10000;\r\n                needNum = needNum.toFixed(1);\r\n                nodeObjs.winNum.getComponent(cc.Label).string = '+' + needNum + '万';\r\n            }\r\n            else\r\n                nodeObjs.winNum.getComponent(cc.Label).string = '+' + data.point;\r\n        }\r\n        else{\r\n            nodeObjs.winNum.active = false;\r\n            nodeObjs.loseNum.active = true;\r\n            if(data.point < -10000){\r\n                let needNum = data.point / 10000;\r\n                needNum = needNum.toFixed(1);\r\n                nodeObjs.loseNum.getComponent(cc.Label).string = '' + needNum + '万';;\r\n            }\r\n            else\r\n                nodeObjs.loseNum.getComponent(cc.Label).string = data.point;\r\n        }\r\n\r\n        nodeObjs.win.getComponent(cc.Label).string = data.winCount;\r\n        nodeObjs.lose.getComponent(cc.Label).string = data.loseCount;\r\n        nodeObjs.ping.getComponent(cc.Label).string = data.flatCount;\r\n        //显示是否解散（-1:正常结束,0:未操作,1:同意操作,2:拒绝操作,3:发起者）\r\n        if (typeof(data.dissolveState) == \"undefined\" || data.dissolveState == -1) {\r\n            nodeObjs.dissolve.active=false;\r\n        }else{\r\n            nodeObjs.dissolve.active=true;\r\n            nodeObjs.dissolve.getComponent(cc.Sprite).spriteFrame = this.icon_dissolveSpr[data.dissolveState];\r\n        }\r\n        //比赛分消耗\r\n        if (typeof(data.sportsPoint)!=\"undefined\") {\r\n            if (data.sportsPoint > 0) {\r\n                nodeObjs.sportsPoint.getComponent(cc.Label).string = \"比赛分：+\"+data.sportsPoint;\r\n            }else{\r\n                nodeObjs.sportsPoint.getComponent(cc.Label).string = \"比赛分：\"+data.sportsPoint;\r\n            }\r\n            // nodeObjs.topTitle.getChildByName(\"sportsPoint\").active = true;\r\n            nodeObjs.sportsPoint.active = true;\r\n        }else{\r\n            // nodeObjs.topTitle.getChildByName(\"sportsPoint\").active = false;\r\n            nodeObjs.sportsPoint.active = false;\r\n        }\r\n    },\r\n    Event_GameRecord:function(serverPack){\r\n        this.recordList = serverPack.pSetRoomRecords;\r\n        if(!this.needShowSecond)\r\n            return;\r\n    },\r\n\r\n\r\n    //-----------------回调函数------------------\r\n\r\n    //---------点击函数---------------------\r\n    OnPokerDataBtnClick:function(event){\r\n        let node = event.target;\r\n        let parent = node.parent;\r\n        let cardNode = parent.getChildByName('cardNode');\r\n        if(cardNode.active){\r\n            node.rotation = 0;\r\n            parent.height = parent.height - cardNode.height;\r\n            cardNode.active = false;\r\n        }\r\n        else{\r\n            node.rotation = 180;\r\n            parent.height = parent.height + cardNode.height;\r\n            cardNode.active = true;\r\n        }\r\n    },\r\n    HideAllBtn:function(){\r\n    \tthis.exitBtnNode.active = false;\r\n        this.exitRoomBtnNode.active = false;\r\n        this.goSecondBtnNode.active = false;\r\n        this.wolaikaijuBtnNode.active=false;\r\n        this.pingfenkaijuBtnNode.active=false;\r\n        this.dayingjiakaijuBtnNode.active=false;\r\n        this.continueBtnNode.active=false;\r\n    },\r\n    OnClick:function(btnName, btnNode){\r\n        //继续房间使用\r\n        let room =app[app.subGameName.toUpperCase()+\"Room\"]();\r\n        let roomCfg={};\r\n        if(room){\r\n            roomCfg = room.GetRoomConfig();\r\n            roomCfg.isContinue=true;\r\n        }\r\n        //继续房间使用\r\n\r\n        if('btn_close' == btnName){\r\n            this.CloseForm();\r\n        }\r\n        else if('btn_goScend' == btnName){\r\n            this.needShowSecond = true;\r\n        }\r\n        else if(btnName==\"btn_share\"){\r\n            this.Click_btn_Share();\r\n        }else if(btnName==\"btn_ddshare\"){\r\n            this.Click_btn_DDShare();\r\n        }else if(btnName==\"btn_xlshare\"){\r\n            this.Click_btn_XLShare();\r\n        }else if(btnName==\"btn_sharemore\"){\r\n            this.Click_btn_ShareMore();\r\n        }else if(btnName==\"btn_sharelink\"){\r\n            this.Click_btn_Sharelink();\r\n        }else if(btnName==\"btn_closeshare\"){\r\n            this.sharemore.active=false;\r\n        }\r\n        else if('btn_continueGoldRoom' == btnName){\r\n            app[app.subGameName+\"_NetManager\"]().SendPack('game.CGoldRoom', {practiceId:app[app.subGameName+\"_ShareDefine\"]().practiceId}, this.OnSuccess.bind(this),this.OnEnterRoomFailed.bind(this));\r\n        \tthis.CloseForm();\r\n        }\r\n        else if('btn_exitRoom' == btnName){\r\n            app[app.subGameName + \"Client\"].ExitGame();\r\n        }\r\n        else if('btn_exit' == btnName){\r\n            this.CloseForm();\r\n        }else if(btnName == \"btn_pingfenkaiju\"){\r\n            if(this.isNewVersion==true){\r\n                app[app.subGameName + \"_SysNotifyManager\"]().ShowSysMsg(\"游戏有新版本更新，请返回大厅\");\r\n                return;\r\n            }\r\n            roomCfg.paymentRoomCardType=1;\r\n            app[app.subGameName+\"_NetManager\"]().SendPack(app.subGameName+\".C\"+app.subGameName.toUpperCase()+\"CreateRoom\",roomCfg,function(){},this.FailCreate.bind(this));\r\n        }else if(btnName == \"btn_wolaikaiju\"){\r\n            if(this.isNewVersion==true){\r\n                app[app.subGameName + \"_SysNotifyManager\"]().ShowSysMsg(\"游戏有新版本更新，请返回大厅\");\r\n                return;\r\n            }\r\n            roomCfg.paymentRoomCardType=0;\r\n            app[app.subGameName+\"_NetManager\"]().SendPack(app.subGameName+\".C\"+app.subGameName.toUpperCase()+\"CreateRoom\",roomCfg,function(){},this.FailCreate.bind(this));\r\n        }else if(btnName == \"btn_dayingjiakaiju\"){\r\n            if(this.isNewVersion==true){\r\n                app[app.subGameName + \"_SysNotifyManager\"]().ShowSysMsg(\"游戏有新版本更新，请返回大厅\");\r\n                return;\r\n            }\r\n            roomCfg.paymentRoomCardType=2;\r\n            app[app.subGameName+\"_NetManager\"]().SendPack(app.subGameName+\".C\"+app.subGameName.toUpperCase()+\"CreateRoom\",roomCfg,function(){},this.FailCreate.bind(this));\r\n        }else if(btnName == \"btn_continue\"){\r\n            if(this.isNewVersion==true){\r\n                app[app.subGameName + \"_SysNotifyManager\"]().ShowSysMsg(\"游戏有新版本更新，请返回大厅\");\r\n                return;\r\n            }\r\n            let self = this;\r\n            app[app.subGameName + \"_NetManager\"]().SendPack(app.subGameName+\".C\"+app.subGameName.toUpperCase()+\"ContinueEnterRoom\",{}, function(event){\r\n                self.CloseForm();\r\n                app[app.subGameName+\"_FormManager\"]().CloseForm(\"game/\"+app.subGameName.toUpperCase()+\"/UI\"+app.subGameName.toUpperCase()+\"_ResultXY\");\r\n                app[app.subGameName + \"_NetManager\"]().SendPack(\"game.C1101GetRoomID\", {});\r\n            }, function(event){\r\n                if (event.Msg == \"UNION_BACK_OFF_PLAYING\") {\r\n                    app[app.subGameName + \"_SysNotifyManager\"]().ShowSysMsg(\"您已申请退赛，当前无法进行比赛，请取消退赛申请或联系赛事举办方\");\r\n                }else if (event.Msg == \"UNION_APPLY_REMATCH_PLAYING\") {\r\n                    app[app.subGameName + \"_SysNotifyManager\"]().ShowSysMsg(\"您的比赛分不足，已被淘汰，将被禁止参与赛事游戏，如要重新参与比赛，请联系举办方处理\");\r\n                }else if (event.Msg == \"UNION_STATE_STOP\") {\r\n                    app[app.subGameName + \"_SysNotifyManager\"]().ShowSysMsg(\"赛事已停用，无法加入房间，请联系赛事举办方\");\r\n                }else if(event.Msg==\"ROOM_GAME_SERVER_CHANGE\"){\r\n                    console.log(\"切换服务器\");\r\n                }else if(event.Code==12){\r\n                        console.log(\"游戏维护\");\r\n                }else if(event.Msg==\"WarningSport_RoomJoinner\"){\r\n                    app[app.subGameName + \"_SysNotifyManager\"]().ShowSysMsg(\"您所在的推广员队伍或上级队伍比赛分低于预警值，无法加入比赛，请联系管理\");\r\n                }else if(event.Msg==\"CLUB_SPORT_POINT_WARN\"){\r\n                    app[app.subGameName + \"_SysNotifyManager\"]().ShowSysMsg(\"您所在的亲友圈比赛分低于预警值，无法加入比赛，请联系管理\");\r\n                }else{\r\n                    app[app.subGameName + \"_SysNotifyManager\"]().ShowSysMsg(\"无法继续游戏，请联系赛事举办方\");\r\n                }\r\n            });\r\n        }\r\n        else{\r\n            this.ErrLog(\"OnClick(%s) not find btnName\",btnName);\r\n        }\r\n    },\r\n    Click_btn_Share:function(){\r\n        this.sharemore.active=false;\r\n        this.SDKManager.ShareScreen();\r\n    },\r\n    Click_btn_DDShare:function(){\r\n        this.sharemore.active=false;\r\n        this.SDKManager.ShareScreenDD();\r\n    },\r\n    Click_btn_XLShare:function(){\r\n        this.sharemore.active=false;\r\n        this.SDKManager.ShareScreenXL();\r\n    },\r\n    Click_btn_ShareMore:function(){\r\n        let active=this.sharemore.active;\r\n        if(active==true){\r\n            this.sharemore.active=false;\r\n        }else{\r\n            this.sharemore.active=true;\r\n        }\r\n        \r\n    },\r\n    Click_btn_Sharelink:function(){\r\n        let packName = cc.sys.localStorage.getItem(\"packName\");\r\n        if(!packName){\r\n            packName = \"\";\r\n        }\r\n        let title='房号：'+this.ShareShortRoomID+' 互动中';\r\n        let desc ='['+this.PlayerName.join('] [')+']';\r\n        let weChatAppShareUrl = app[app.subGameName + \"Client\"].GetClientConfigProperty(\"ChatRoomUrl\") + this.ShareLongRoomID;\r\n        this.SDKManager.Share(title, desc, weChatAppShareUrl, \"0\");\r\n    },\r\n    \r\n\r\n    FailCreate:function(serverPack){\r\n        if(serverPack['Msg'].indexOf('RoomCard need roomCard')>-1){\r\n            let desc = app[app.subGameName+\"_SysNotifyManager\"]().GetSysMsgContentByMsgID(\"MSG_NotRoomCard\");\r\n            app[app.subGameName+\"_ConfirmManager\"]().SetWaitForConfirmForm(this.OnConFirm.bind(this), \"goBuyCard\", []);\r\n            app[app.subGameName+\"_FormManager\"]().ShowForm(app.subGameName+\"_UIMessage\", null, this.ShareDefine.ConfirmBuyGoTo, 0, 0, desc)\r\n            return;\r\n        }else{\r\n            this.ErrLog(\"FailCreate Room Msg:(%s)\",serverPack.Msg);\r\n        }\r\n    },\r\n    OnSuccess:function(serverPack){\r\n        console.log('OnSuccess serverPack', serverPack);\r\n        let roomID = serverPack.roomID;\r\n        app[app.subGameName+\"_NetManager\"]().SendPack(app.subGameName+\".C\"+app.subGameName.toUpperCase()+\"GetRoomInfo\", {\"roomID\":roomID});\r\n        this.CloseForm();\r\n        // app[app.subGameName+\"_ShareDefine\"]().practiceId = this.practiceId;\r\n    },\r\n\r\n    OnEnterRoomFailed:function(serverPack){\r\n        app[app.subGameName + \"Client\"].ExitGame();\r\n        console.log('OnEnterRoomFailed serverPack', serverPack);\r\n    },\r\n    OnConFirm:function(clickType, msgID, backArgList){\r\n        if(clickType != \"Sure\"){\r\n            return\r\n        }\r\n    },\r\n});"]}
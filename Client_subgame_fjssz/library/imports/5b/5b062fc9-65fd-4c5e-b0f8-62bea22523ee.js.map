{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\script\\ui/assets\\script\\ui\\fjssz_UIMessage03.js"],"names":["app","require","cc","Class","extends","subGameName","properties","OnCreateInit","gameName","ZorderLv","lb_time","GetWndNode","getComponent","Label","LabelMessage","playerNodes","node","getChildByName","children","btnCancel","Button","btnSure","RoomMgr","toUpperCase","GameManager","toLowerCase","ShareDefine","ServerTimeManager","ConfirmManager","RegEvent","Event_PosDealVote","Event_CodeError","OnShow","room","GetEnterRoom","changePlayerNumInfo","GetRoomProperty","posAgreeList","i","length","FormManager","CloseForm","Name","GetRoomPosMgr","GetPlayerInfoByPos","ClearchangePlayerNum","InItData","ShowSysMsg","ShowPosAgree","roomPosMgr","createPos","posName","name","i18n","t","string","endSec","timeString","GetCDTimeStringBySec","ShowHourMinSec","updateTime","Date","getTime","allPlayers","GetRoomAllPlayerInfo","clientPos","GetClientPos","playingList","idx","push","canClick","active","pid","nameLabel","Show_btnCancel_btnSure","interactable","enableAutoGrayEffect","event","argDict","code","NotExistRoom","error","OnUpdate","time","ShowSecondSec","num","parseInt","OnClick","btnName","btnNode","roomID","GetEnterRoomID","SendChangePlayerRefuse","SendChangePlayerAgree"],"mappings":";;;;;;AAAA;;;;AAIA,IAAIA,MAAMC,QAAQ,WAAR,CAAV;;AAEAC,GAAGC,KAAH,CAAS;AACRC,UAASH,QAAQD,IAAIK,WAAJ,GAAkB,WAA1B,CADD;;AAGRC,aAAY,EAHJ;;AAKR;AACAC,eAAc,wBAAY;AACzB,OAAKC,QAAL,GAAgBR,IAAI,aAAJ,CAAhB;AACA,OAAKS,QAAL,GAAgB,CAAhB;AACA,OAAKC,OAAL,GAAe,KAAKC,UAAL,CAAgB,6BAAhB,EAA+CC,YAA/C,CAA4DV,GAAGW,KAA/D,CAAf;AACA,OAAKC,YAAL,GAAoB,KAAKH,UAAL,CAAgB,sBAAhB,EAAwCC,YAAxC,CAAqDV,GAAGW,KAAxD,CAApB;AACA,OAAKE,WAAL,GAAmB,KAAKC,IAAL,CAAUC,cAAV,CAAyB,YAAzB,EAAuCC,QAA1D;AACA,OAAKC,SAAL,GAAiB,KAAKH,IAAL,CAAUC,cAAV,CAAyB,WAAzB,EAAsCL,YAAtC,CAAmDV,GAAGkB,MAAtD,CAAjB;AACA,OAAKC,OAAL,GAAe,KAAKL,IAAL,CAAUC,cAAV,CAAyB,SAAzB,EAAoCL,YAApC,CAAiDV,GAAGkB,MAApD,CAAf;;AAEA,OAAKE,OAAL,GAAetB,IAAI,KAAKQ,QAAL,CAAce,WAAd,KAA4B,SAAhC,GAAf;AACA,OAAKC,WAAL,GAAmBxB,IAAI,KAAKQ,QAAL,CAAciB,WAAd,KAA4B,cAAhC,GAAnB;AACA,OAAKC,WAAL,GAAmB1B,IAAI,KAAKQ,QAAL,CAAciB,WAAd,KAA4B,cAAhC,GAAnB;AACA,OAAKE,iBAAL,GAAyB3B,IAAI,KAAKQ,QAAL,CAAciB,WAAd,KAA4B,oBAAhC,GAAzB;AACA,OAAKG,cAAL,GAAsB5B,IAAI,KAAKQ,QAAL,CAAciB,WAAd,KAA4B,iBAAhC,GAAtB;AACA,OAAKI,QAAL,CAAc,yBAAd,EAAyC,KAAKC,iBAA9C;AACA,OAAKD,QAAL,CAAc,WAAd,EAA2B,KAAKE,eAAhC;AACA,EAtBO;;AAwBR;;AAEAC,SAAQ,kBAAY;AACnB,MAAIC,OAAO,KAAKX,OAAL,CAAaY,YAAb,EAAX;AACA,MAAIC,sBAAsBF,KAAKG,eAAL,CAAqB,iBAArB,CAA1B;AACA,MAAIC,eAAeF,oBAAoB,cAApB,CAAnB;AACA,OAAK,IAAIG,IAAI,CAAb,EAAgBA,IAAID,aAAaE,MAAjC,EAAyCD,GAAzC,EAA8C;AAC7C,OAAID,aAAaC,CAAb,KAAmB,CAAvB,EAA0B;AAAC;AAC1B,SAAKE,WAAL,CAAiBC,SAAjB,CAA2B,KAAKjC,QAAL,CAAciB,WAAd,KAA4B,cAAvD;AACA,QAAIiB,OAAO,KAAKpB,OAAL,CAAaY,YAAb,GAA4BS,aAA5B,GAA4CC,kBAA5C,CAA+DN,CAA/D,EAAkE,MAAlE,CAAX;AACAL,SAAKY,oBAAL;AACA,SAAKjB,cAAL,CAAoBkB,QAApB;AACA,SAAKC,UAAL,CAAgB,8BAAhB,EAAgD,CAACL,IAAD,CAAhD;AACA,SAAKD,SAAL;AACA;AACA;AACD;AACD,OAAKO,YAAL,CAAkBf,IAAlB;AACA,MAAIgB,aAAahB,KAAKU,aAAL,EAAjB;AACA,MAAIO,YAAYf,oBAAoB,WAApB,CAAhB;AACA,MAAIgB,UAAUF,WAAWL,kBAAX,CAA8BM,SAA9B,EAAyCE,IAAvD;AACA,MAAItC,eAAed,IAAIqD,IAAJ,CAASC,CAAT,CAAW,kBAAX,EAA+B,EAAC,QAAQH,OAAT,EAA/B,CAAnB;AACA,OAAKrC,YAAL,CAAkByC,MAAlB,GAA2BzC,YAA3B;AACA,OAAK0C,MAAL,GAAcvB,KAAKG,eAAL,CAAqB,iBAArB,EAAwC,QAAxC,CAAd;AACA,MAAIqB,aAAa,KAAK9B,iBAAL,CAAuB+B,oBAAvB,CAA4C,KAAKF,MAAjD,EAAyD,KAAK9B,WAAL,CAAiBiC,cAA1E,CAAjB;AACA,OAAKjD,OAAL,CAAa6C,MAAb,GAAsBE,UAAtB;AACA,OAAKG,UAAL,GAAkB,IAAIC,IAAJ,GAAWC,OAAX,EAAlB;AACA,EAnDO;AAoDRd,eAAc,sBAAUf,IAAV,EAAgB;AAC7B,MAAIgB,aAAahB,KAAKU,aAAL,EAAjB;AACA,MAAIR,sBAAsBF,KAAKG,eAAL,CAAqB,iBAArB,CAA1B;AACA,MAAIC,eAAeF,oBAAoB,cAApB,CAAnB;AACA,MAAI4B,aAAad,WAAWe,oBAAX,EAAjB;AACA,MAAId,YAAYf,oBAAoB,WAApB,CAAhB;AACA,MAAI8B,YAAYhB,WAAWiB,YAAX,EAAhB;AACA,MAAIC,cAAc,EAAlB;AACA,OAAK,IAAIC,GAAT,IAAgBL,UAAhB,EAA4B;AAC3BI,eAAYE,IAAZ,CAAiBN,WAAWK,GAAX,CAAjB;AACA;AACD,MAAIE,WAAW,IAAf;AACA,OAAK,IAAIhC,IAAI,CAAb,EAAgBA,IAAI,KAAKvB,WAAL,CAAiBwB,MAArC,EAA6CD,GAA7C,EAAkD;AACjD,QAAKvB,WAAL,CAAiBuB,CAAjB,EAAoBiC,MAApB,GAA6B,KAA7B;AACA,QAAKxD,WAAL,CAAiBuB,CAAjB,EAAoBrB,cAApB,CAAmC,YAAnC,EAAiDsD,MAAjD,GAA0D,KAA1D;AACA,QAAKxD,WAAL,CAAiBuB,CAAjB,EAAoBrB,cAApB,CAAmC,aAAnC,EAAkDsD,MAAlD,GAA2D,KAA3D;AACA,OAAIjC,IAAI6B,YAAY5B,MAAhB,IAA0B4B,YAAY7B,CAAZ,EAAekC,GAA7C,EAAkD;AACjD,QAAIC,YAAY,KAAK1D,WAAL,CAAiBuB,CAAjB,EAAoBrB,cAApB,CAAmC,MAAnC,EAA2CL,YAA3C,CAAwDV,GAAGW,KAA3D,CAAhB;AACA4D,cAAUlB,MAAV,GAAmBY,YAAY7B,CAAZ,EAAec,IAAlC;AACA;AACA,QAAI,KAAKf,aAAaC,CAAb,CAAT,EAA0B,CAEzB,CAFD,MAEO,IAAI,KAAKD,aAAaC,CAAb,CAAT,EAA0B;AAChC,UAAKvB,WAAL,CAAiBuB,CAAjB,EAAoBrB,cAApB,CAAmC,aAAnC,EAAkDsD,MAAlD,GAA2D,IAA3D;AACA,SAAIjC,KAAK2B,SAAT,EACCK,WAAW,KAAX;AACD,KAJM,MAIA;AACN,UAAKvD,WAAL,CAAiBuB,CAAjB,EAAoBrB,cAApB,CAAmC,YAAnC,EAAiDsD,MAAjD,GAA0D,IAA1D;AACA,SAAIjC,KAAK2B,SAAT,EACCK,WAAW,KAAX;AACD;AACD,SAAKvD,WAAL,CAAiBuB,CAAjB,EAAoBiC,MAApB,GAA6B,IAA7B;AACA;AACD;AACD,MAAIrB,aAAae,SAAjB,EAA4B;AAC3BK,cAAW,KAAX;AACA;AACD,OAAKI,sBAAL,CAA4BJ,QAA5B;AACA,EA1FO;AA2FRI,yBAAwB,gCAAUJ,QAAV,EAAoB;AAC3C,MAAIA,QAAJ,EAAc;AACb,QAAKnD,SAAL,CAAewD,YAAf,GAA8B,CAA9B;AACA,QAAKxD,SAAL,CAAeyD,oBAAf,GAAsC,CAAtC;AACA,QAAKvD,OAAL,CAAasD,YAAb,GAA4B,CAA5B;AACA,QAAKtD,OAAL,CAAauD,oBAAb,GAAoC,CAApC;AACA,GALD,MAKO;AACN,QAAKzD,SAAL,CAAewD,YAAf,GAA8B,CAA9B;AACA,QAAKxD,SAAL,CAAeyD,oBAAf,GAAsC,CAAtC;AACA,QAAKvD,OAAL,CAAasD,YAAb,GAA4B,CAA5B;AACA,QAAKtD,OAAL,CAAauD,oBAAb,GAAoC,CAApC;AACA;AACD,EAvGO;AAwGR;AACA7C,kBAAiB,yBAAU8C,KAAV,EAAiB;AACjC,MAAIC,UAAUD,KAAd;AACA,MAAIE,OAAOD,QAAQ,MAAR,CAAX;AACA,MAAIC,QAAQ,KAAKrD,WAAL,CAAiBsD,YAA7B,EAA2C;AAC1C,OAAI;AACH,SAAKvC,SAAL;AACA,IAFD,CAEE,OAAOwC,KAAP,EAAc,CAEf;AACD;AACD,EAnHO;AAoHR;AACAnD,oBAAmB,2BAAU+C,KAAV,EAAiB;AACnC,MAAI5C,OAAO,KAAKX,OAAL,CAAaY,YAAb,EAAX;AACA,MAAI4C,UAAUD,KAAd;AACA,MAAIxC,eAAeyC,QAAQ,cAAR,CAAnB;AACA,OAAK,IAAIxC,IAAI,CAAb,EAAgBA,IAAID,aAAaE,MAAjC,EAAyCD,GAAzC,EAA8C;AAC7C,OAAID,aAAaC,CAAb,KAAmB,CAAvB,EAA0B;AAAC;AAC1B,SAAKE,WAAL,CAAiBC,SAAjB,CAA2B,KAAKjC,QAAL,CAAciB,WAAd,KAA4B,cAAvD;AACA,QAAIiB,OAAO,KAAKpB,OAAL,CAAaY,YAAb,GAA4BS,aAA5B,GAA4CC,kBAA5C,CAA+DN,CAA/D,EAAkE,MAAlE,CAAX;AACAL,SAAKY,oBAAL;AACA,SAAKjB,cAAL,CAAoBkB,QAApB;AACA,SAAKC,UAAL,CAAgB,8BAAhB,EAAgD,CAACL,IAAD,CAAhD;AACA,SAAKD,SAAL;AACA;AACA,IARD,MAQO,IAAIJ,aAAaC,CAAb,KAAmB,CAAvB,EAA0B;AAChC,SAAKvB,WAAL,CAAiBuB,CAAjB,EAAoBrB,cAApB,CAAmC,aAAnC,EAAkDsD,MAAlD,GAA2D,IAA3D;AACA,IAFM,MAEA,CAEN;AACD;AACD,EAxIO;;AA0IR;AACAW,WAAU,oBAAY;AACrB,MAAI,KAAK1B,MAAT,EAAiB;AAChB,OAAI2B,OAAO,IAAItB,IAAJ,GAAWC,OAAX,EAAX;AACA,OAAIqB,OAAO,KAAKvB,UAAhB,EAA4B;AAC3B,QAAIH,aAAa,KAAK9B,iBAAL,CAAuB+B,oBAAvB,CAA4C,KAAKF,MAAjD,EAAyD,KAAK9B,WAAL,CAAiB0D,aAA1E,CAAjB;AACA,QAAIC,MAAMC,SAAS7B,UAAT,CAAV;AACA,QAAI,CAAC4B,GAAL,EAAU;AACT,UAAK5C,SAAL;AACA;AACA;AACD,SAAK/B,OAAL,CAAa6C,MAAb,GAAsBE,UAAtB;AACA,IARD,MAQO;AACN,SAAKG,UAAL,IAAmB,GAAnB;AACA;AACD;AACD,EA1JO;;AA4JR;AACA2B,UAAS,iBAAUC,OAAV,EAAmBC,OAAnB,EAA4B;AACpC,MAAIC,SAAS,KAAKpE,OAAL,CAAaqE,cAAb,EAAb;AACA,MAAIH,WAAW,WAAf,EAA4B;AAC3B;AACA,QAAKhE,WAAL,CAAiBoE,sBAAjB,CAAwCF,MAAxC;AACA,QAAKhB,sBAAL,CAA4B,KAA5B;AACA,GAJD,MAIO,IAAIc,WAAW,SAAf,EAA0B;AAChC;AACA,QAAKhE,WAAL,CAAiBqE,qBAAjB,CAAuCH,MAAvC;AACA,QAAKhB,sBAAL,CAA4B,KAA5B;AACA;AACD;AAxKO,CAAT","file":"fjssz_UIMessage03.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\ui","sourcesContent":["/*\r\n UIMessage 模态消息界面\r\n */\r\n\r\nvar app = require(\"fjssz_app\");\r\n\r\ncc.Class({\r\n\textends: require(app.subGameName + \"_BaseForm\"),\r\n\r\n\tproperties: {},\r\n\r\n\t//初始化\r\n\tOnCreateInit: function () {\r\n\t\tthis.gameName = app[\"subGameName\"];\r\n\t\tthis.ZorderLv = 9;\r\n\t\tthis.lb_time = this.GetWndNode(\"image01/TimeMessage/lb_time\").getComponent(cc.Label);\r\n\t\tthis.LabelMessage = this.GetWndNode(\"image01/LabelMessage\").getComponent(cc.Label);\r\n\t\tthis.playerNodes = this.node.getChildByName(\"playerNode\").children;\r\n\t\tthis.btnCancel = this.node.getChildByName(\"btnCancel\").getComponent(cc.Button);\r\n\t\tthis.btnSure = this.node.getChildByName(\"btnSure\").getComponent(cc.Button);\r\n\r\n\t\tthis.RoomMgr = app[this.gameName.toUpperCase()+\"RoomMgr\"]();\r\n\t\tthis.GameManager = app[this.gameName.toLowerCase()+\"_GameManager\"]();\r\n\t\tthis.ShareDefine = app[this.gameName.toLowerCase()+\"_ShareDefine\"]();\r\n\t\tthis.ServerTimeManager = app[this.gameName.toLowerCase()+\"_ServerTimeManager\"]();\r\n\t\tthis.ConfirmManager = app[this.gameName.toLowerCase()+\"_ConfirmManager\"]();\r\n\t\tthis.RegEvent(\"PosChangePlayerDealVote\", this.Event_PosDealVote);\r\n\t\tthis.RegEvent(\"CodeError\", this.Event_CodeError);\r\n\t},\r\n\r\n\t//---------显示函数--------------------\r\n\r\n\tOnShow: function () {\r\n\t\tlet room = this.RoomMgr.GetEnterRoom();\r\n\t\tlet changePlayerNumInfo = room.GetRoomProperty(\"changePlayerNum\");\r\n\t\tlet posAgreeList = changePlayerNumInfo[\"posAgreeList\"];\r\n\t\tfor (let i = 0; i < posAgreeList.length; i++) {\r\n\t\t\tif (posAgreeList[i] == 2) {//0未表态 1支持 2拒绝\r\n\t\t\t\tthis.FormManager.CloseForm(this.gameName.toLowerCase()+\"_UIMessage03\");\r\n\t\t\t\tlet Name = this.RoomMgr.GetEnterRoom().GetRoomPosMgr().GetPlayerInfoByPos(i)[\"name\"];\r\n\t\t\t\troom.ClearchangePlayerNum();\r\n\t\t\t\tthis.ConfirmManager.InItData();\r\n\t\t\t\tthis.ShowSysMsg(\"PlayersRefusedToChangePlayer\", [Name]);\r\n\t\t\t\tthis.CloseForm();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.ShowPosAgree(room);\r\n\t\tlet roomPosMgr = room.GetRoomPosMgr();\r\n\t\tlet createPos = changePlayerNumInfo[\"createPos\"];\r\n\t\tlet posName = roomPosMgr.GetPlayerInfoByPos(createPos).name;\r\n\t\tlet LabelMessage = app.i18n.t(\"ChangePlayerText\", {\"Name\": posName});\r\n\t\tthis.LabelMessage.string = LabelMessage;\r\n\t\tthis.endSec = room.GetRoomProperty(\"changePlayerNum\")[\"endSec\"];\r\n\t\tlet timeString = this.ServerTimeManager.GetCDTimeStringBySec(this.endSec, this.ShareDefine.ShowHourMinSec);\r\n\t\tthis.lb_time.string = timeString;\r\n\t\tthis.updateTime = new Date().getTime();\r\n\t},\r\n\tShowPosAgree: function (room) {\r\n\t\tlet roomPosMgr = room.GetRoomPosMgr();\r\n\t\tlet changePlayerNumInfo = room.GetRoomProperty(\"changePlayerNum\");\r\n\t\tlet posAgreeList = changePlayerNumInfo[\"posAgreeList\"];\r\n\t\tlet allPlayers = roomPosMgr.GetRoomAllPlayerInfo();\r\n\t\tlet createPos = changePlayerNumInfo[\"createPos\"];\r\n\t\tlet clientPos = roomPosMgr.GetClientPos();\r\n\t\tlet playingList = [];\r\n\t\tfor (let idx in allPlayers) {\r\n\t\t\tplayingList.push(allPlayers[idx]);\r\n\t\t}\r\n\t\tlet canClick = true;\r\n\t\tfor (let i = 0; i < this.playerNodes.length; i++) {\r\n\t\t\tthis.playerNodes[i].active = false;\r\n\t\t\tthis.playerNodes[i].getChildByName('icon_jujue').active = false;\r\n\t\t\tthis.playerNodes[i].getChildByName('icon_tongyi').active = false;\r\n\t\t\tif (i < playingList.length && playingList[i].pid) {\r\n\t\t\t\tlet nameLabel = this.playerNodes[i].getChildByName('name').getComponent(cc.Label);\r\n\t\t\t\tnameLabel.string = playingList[i].name;\r\n\t\t\t\t//0未表态 1支持 2拒绝\r\n\t\t\t\tif (0 == posAgreeList[i]) {\r\n\r\n\t\t\t\t} else if (1 == posAgreeList[i]) {\r\n\t\t\t\t\tthis.playerNodes[i].getChildByName('icon_tongyi').active = true;\r\n\t\t\t\t\tif (i == clientPos)\r\n\t\t\t\t\t\tcanClick = false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.playerNodes[i].getChildByName('icon_jujue').active = true;\r\n\t\t\t\t\tif (i == clientPos)\r\n\t\t\t\t\t\tcanClick = false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.playerNodes[i].active = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (createPos == clientPos) {\r\n\t\t\tcanClick = false;\r\n\t\t}\r\n\t\tthis.Show_btnCancel_btnSure(canClick);\r\n\t},\r\n\tShow_btnCancel_btnSure: function (canClick) {\r\n\t\tif (canClick) {\r\n\t\t\tthis.btnCancel.interactable = 1;\r\n\t\t\tthis.btnCancel.enableAutoGrayEffect = 0;\r\n\t\t\tthis.btnSure.interactable = 1;\r\n\t\t\tthis.btnSure.enableAutoGrayEffect = 0;\r\n\t\t} else {\r\n\t\t\tthis.btnCancel.interactable = 0;\r\n\t\t\tthis.btnCancel.enableAutoGrayEffect = 1;\r\n\t\t\tthis.btnSure.interactable = 0;\r\n\t\t\tthis.btnSure.enableAutoGrayEffect = 1;\r\n\t\t}\r\n\t},\r\n\t//---------回调函数--------------------\r\n\tEvent_CodeError: function (event) {\r\n\t\tlet argDict = event;\r\n\t\tlet code = argDict[\"Code\"];\r\n\t\tif (code == this.ShareDefine.NotExistRoom) {\r\n\t\t\ttry {\r\n\t\t\t\tthis.CloseForm();\r\n\t\t\t} catch (error) {\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t//收到同意/拒绝解散房间\r\n\tEvent_PosDealVote: function (event) {\r\n\t\tlet room = this.RoomMgr.GetEnterRoom();\r\n\t\tlet argDict = event;\r\n\t\tlet posAgreeList = argDict[\"posAgreeList\"];\r\n\t\tfor (let i = 0; i < posAgreeList.length; i++) {\r\n\t\t\tif (posAgreeList[i] == 2) {//0未表态 1支持 2拒绝\r\n\t\t\t\tthis.FormManager.CloseForm(this.gameName.toLowerCase()+\"_UIMessage03\");\r\n\t\t\t\tlet Name = this.RoomMgr.GetEnterRoom().GetRoomPosMgr().GetPlayerInfoByPos(i)[\"name\"];\r\n\t\t\t\troom.ClearchangePlayerNum();\r\n\t\t\t\tthis.ConfirmManager.InItData();\r\n\t\t\t\tthis.ShowSysMsg(\"PlayersRefusedToChangePlayer\", [Name]);\r\n\t\t\t\tthis.CloseForm();\r\n\t\t\t\treturn;\r\n\t\t\t} else if (posAgreeList[i] == 1) {\r\n\t\t\t\tthis.playerNodes[i].getChildByName('icon_tongyi').active = true;\r\n\t\t\t} else {\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t//---------刷新函数--------------------\r\n\tOnUpdate: function () {\r\n\t\tif (this.endSec) {\r\n\t\t\tlet time = new Date().getTime();\r\n\t\t\tif (time < this.updateTime) {\r\n\t\t\t\tlet timeString = this.ServerTimeManager.GetCDTimeStringBySec(this.endSec, this.ShareDefine.ShowSecondSec);\r\n\t\t\t\tlet num = parseInt(timeString);\r\n\t\t\t\tif (!num) {\r\n\t\t\t\t\tthis.CloseForm();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.lb_time.string = timeString;\r\n\t\t\t} else {\r\n\t\t\t\tthis.updateTime += 500;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t//---------点击函数---------------------\r\n\tOnClick: function (btnName, btnNode) {\r\n\t\tlet roomID = this.RoomMgr.GetEnterRoomID();\r\n\t\tif (btnName == \"btnCancel\") {\r\n\t\t\t// this.RoomMgr.SendchangePlayerNumRoomRefuse(roomID);\r\n\t\t\tthis.GameManager.SendChangePlayerRefuse(roomID);\r\n\t\t\tthis.Show_btnCancel_btnSure(false);\r\n\t\t} else if (btnName == \"btnSure\") {\r\n\t\t\t//this.RoomMgr.SendchangePlayerNumRoomAgree(roomID);\r\n\t\t\tthis.GameManager.SendChangePlayerAgree(roomID);\r\n\t\t\tthis.Show_btnCancel_btnSure(false);\r\n\t\t}\r\n\t},\r\n});"]}
{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\script\\game\\FJSSZ/assets\\script\\game\\FJSSZ\\UIFJSSZHead.js"],"names":["app","require","cc","Class","extends","subGameName","properties","lb_font","Font","sp_head","SpriteFrame","sp_playState","Init","uiPos","dataPos","point","isLeft","bResetPoint","useBottomChat","isShowNode","pid","playerPos","unionId","node","x","y","playerInfo","bIsInitBaseEnd","InitBaseData","active","ZorderLv","touxiang","getChildByName","sp_chatdi_left","sp_chatdi_right","sp_chatdi_leftBottom","sp_chatdi_rightBottom","sp_audio_left","sp_audio_right","btn_out","icon_auto","face_ani","icon_ready","sp_lixian","sp_likai","zhuangjia","fangzhu","btn_head","bg_box","sp_state","sp_xiangkuang","lb_name","GetWndComponent","Label","lb_jifen","lb_id","RoomMgr","toUpperCase","ShareDefine","WeChatHeadImage","getComponent","RegEvent","Event_SetStart","Event_PosContine","Event_PlayerOffline","Event_PosReadyChg","Event_PosPosUpdate","Event_PosLeave","Event_UpdateBacker","Event_AudioNtf","Event_SportsPointChange","lb_SportsPoint","GetEnterRoom","GetRoomConfigByProperty","HideAllChild","left","right","SetItemPos","removeAllChildren","msgNode","Node","name","addComponent","color","Color","width","bottomMsgNode","scaleX","scaleY","anchorX","anchorY","addChild","instantiate","DeleteWndEffect","UpdatePlayerInfo","Animation","on","onFinished","bind","time","SetHeadInfo","setReady","isShow","Sprite","spriteFrame","string","others","children","i","length","event","serverPack","pos","isReady","isCoinRoom","OnPack_AutoStart","roomID","isAuto","roomPosMg","GetRoomPosMgr","allPlayers","GetRoomAllPlayerInfo","trusteeship","OnShowPosActionHelp","AddWndEffect","OnUpdate","Date","getTime","useLeftChat","OnClosePosActionHelp","ShowChatContent","content","lb_chat","overflow","Overflow","NONE","horizontalAlign","HorizontalAlign","LEFT","verticalAlign","VerticalAlign","CENTER","fontSize","lineHeight","font","newWidth","RESIZE_HEIGHT","ShowFaceContent","path","animState","play","repeatCount","ShowAutoIcon","ShowAudioContent","useLeftAudio","AudioAnimation","stop","CloseAudioContent","OnClose","UnRegTargetEvent","bShow","console","log","data","UpdateBacker","room","state","GetRoomProperty","RoomState_Init","roomSet","GetRoomSet","dPos","GetRoomSetInfo","hasOwnProperty","GetRoomSetProperty","dataInfo","stateInfo","backerPos","isDPos","ShowOrHideZhuangJia","setState","RoomState_Playing","RoomState_Waiting","RoomState_WaitingEx","allPlayerInfo","playerLength","error","interactable","SetState_Playing","SetState_Waiting","SetState_WaitingEx","roomReady","gameReady","ShowPlayerBaseInfo","ShowBtnOut","IsClientIsCreater","createID","HideBtnOut","ShowHeroHead","iscreateID","isLostConnect","isShowLeave","UpDateLabJiFen","sportsPoint","UpDateLabSportsPoint","playerIntegral","dianbo","ShowPlayStateByQZ","beishu","ShowPlayState","GetEnterRoomID","posId","OnClick","btnName","btnNode","Click_btn_head","SendSelectPosRoom","Click_btn_out","FormManager","ShowForm","ShowSysMsg","SendKickPosIndex"],"mappings":"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","file":"UIFJSSZHead.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\script\\game\\FJSSZ","sourcesContent":["var app = require(\"fjssz_app\");\r\ncc.Class({\r\n\textends: require(app.subGameName + \"_BaseForm\"),\r\n\r\n\tproperties: {\r\n\t\tlb_font: cc.Font,\r\n\t\tsp_head: [cc.SpriteFrame],\r\n\t\tsp_playState: [cc.SpriteFrame],//0,整理中 1，比牌中 2，抢庄 3，不抢\r\n\t},\r\n\r\n\tInit: function (uiPos, dataPos, point, isLeft = -1, bResetPoint = true, useBottomChat = false, isShowNode, pid) {\r\n\t\tthis.uiPos = uiPos;\r\n\t\tthis.playerPos = dataPos;\r\n\t\tthis.unionId = 0;\r\n\t\tif (bResetPoint) {\r\n\t\t\tthis.node.x = point.x;\r\n\t\t\tthis.node.y = point.y;\r\n\t\t\tif (isLeft == -1) {\r\n\t\t\t\tif (point.x > 0) {\r\n\t\t\t\t\tthis.isLeft = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.isLeft = false;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (isLeft) {\r\n\t\t\t\t\tthis.isLeft = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.isLeft = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.playerInfo = null;\r\n\t\tif (!this.bIsInitBaseEnd) {\r\n\t\t\tthis.bIsInitBaseEnd = true;\r\n\t\t\tthis.InitBaseData();\r\n\t\t}\r\n\t\tif (pid > 0) {\r\n\t\t\tthis.node.active = true;\r\n\t\t} else {\r\n\t\t\tthis.node.active = false;\r\n\t\t}\r\n\t\tif (isShowNode) {//第二局\r\n\t\t\tif (pid > 0) {\r\n\t\t\t\tthis.node.active = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.node.active = false;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.node.active = true;\r\n\t\t}\r\n\t\tthis.ZorderLv = 6;\r\n\t\tthis.touxiang = this.node.getChildByName(\"touxiang\");\r\n\t\tthis.sp_chatdi_left = this.node.getChildByName(\"sp_chatdi_left\");\r\n\t\tthis.sp_chatdi_right = this.node.getChildByName(\"sp_chatdi_right\");\r\n\t\tthis.sp_chatdi_leftBottom = this.node.getChildByName(\"sp_chatdi_leftBottom\");\r\n\t\tthis.sp_chatdi_rightBottom = this.node.getChildByName(\"sp_chatdi_rightBottom\");\r\n\t\tthis.sp_audio_left = this.node.getChildByName(\"sp_audio_left\");\r\n\t\tthis.sp_audio_right = this.node.getChildByName(\"sp_audio_right\");\r\n\t\tthis.btn_out = this.node.getChildByName(\"btn_out\");\r\n\t\tthis.icon_auto = this.node.getChildByName(\"icon_auto\");\r\n\t\tthis.face_ani = this.node.getChildByName(\"face_ani\");\r\n\t\tthis.icon_ready = this.node.getChildByName(\"icon_ready\");\r\n\t\tthis.sp_lixian = this.touxiang.getChildByName(\"sp_lixian\");\r\n\t\tthis.sp_likai = this.touxiang.getChildByName(\"sp_likai\");\r\n\t\tthis.zhuangjia = this.touxiang.getChildByName(\"zhuangjia\");\r\n\t\tthis.fangzhu = this.touxiang.getChildByName(\"fangzhu\");\r\n\t\tthis.btn_head = this.touxiang.getChildByName(\"btn_head\");\r\n\t\tthis.bg_box = this.touxiang.getChildByName(\"bg_box\");\r\n\t\tthis.sp_state = this.touxiang.getChildByName(\"sp_state\");\r\n\t\tthis.sp_xiangkuang = this.touxiang.getChildByName(\"sp_xiangkuang\");\r\n\t\tthis.lb_name = this.GetWndComponent(\"touxiang/sp_info/lb_name\", cc.Label);\r\n\t\tthis.lb_jifen = this.GetWndComponent(\"touxiang/sp_info/lb_jifen\", cc.Label);\r\n\t\tthis.lb_id = this.GetWndComponent(\"touxiang/sp_info/lb_id\", cc.Label);\r\n\r\n\t\tthis.RoomMgr = app[app.subGameName.toUpperCase() + \"RoomMgr\"]();\r\n\t\tthis.ShareDefine = app[app.subGameName + \"_ShareDefine\"]();\r\n\t\tthis.WeChatHeadImage = this.btn_head.getComponent(app.subGameName + \"_WeChatHeadImage\");\r\n\t\tapp[app.subGameName + \"Client\"].RegEvent(\"SetStart\", this.Event_SetStart, this);\r\n\t\tapp[app.subGameName + \"Client\"].RegEvent(\"PosContine\", this.Event_PosContine, this);\r\n\t\tapp[app.subGameName + \"Client\"].RegEvent(\"PlayerOffline\", this.Event_PlayerOffline, this);\r\n\t\t// app[app.subGameName + \"Client\"].RegEvent(\"SPlayer_Trusteeship\", this.OnPack_AutoStart, this);\r\n\t\tapp[app.subGameName + \"Client\"].RegEvent(\"Head_PosReadyChg\", this.Event_PosReadyChg, this);\r\n\t\tapp[app.subGameName + \"Client\"].RegEvent(\"Head_PosUpdate\", this.Event_PosPosUpdate, this);\r\n\t\tapp[app.subGameName + \"Client\"].RegEvent(\"Head_PosLeave\", this.Event_PosLeave, this);\r\n\t\tapp[app.subGameName + \"Client\"].RegEvent(\"Head_UpdateBacker\", this.Event_UpdateBacker, this);\r\n\t\tapp[app.subGameName + \"Client\"].RegEvent(\"Head_AudioNtf\", this.Event_AudioNtf, this);\r\n\t\tapp[app.subGameName + \"Client\"].RegEvent(\"RoomSportsPointChange\", this.Event_SportsPointChange, this);\r\n\t\t//获取控件\r\n\t\tthis.lb_SportsPoint = this.node.getChildByName(\"touxiang\").getChildByName(\"sp_info\").getChildByName(\"lb_SportsPoint\");\r\n\r\n\t\tthis.unionId = this.RoomMgr.GetEnterRoom().GetRoomConfigByProperty(\"unionId\");\r\n\t\tthis.HideAllChild();\r\n\t\tthis.left = {x: -99, y: 0};\r\n\t\tthis.right = {x: 99, y: 0};\r\n\t\tthis.SetItemPos(this.isLeft);\r\n\r\n\t\tthis.useBottomChat = useBottomChat;\r\n\t\tthis.sp_chatdi_left.removeAllChildren();\r\n\t\tthis.sp_chatdi_right.removeAllChildren();\r\n\t\tthis.sp_chatdi_leftBottom.removeAllChildren();\r\n\t\tthis.sp_chatdi_rightBottom.removeAllChildren();\r\n\t\tthis.msgNode = new cc.Node();\r\n\t\tthis.msgNode.name = \"chat_msg\";\r\n\t\tthis.msgNode.addComponent(cc.Label);\r\n\t\tthis.msgNode.x = 51;\r\n\t\tthis.msgNode.y = 0;\r\n\t\tthis.msgNode.color = new cc.Color(90, 76, 79);\r\n\t\tthis.msgNode.width = 280;\r\n\t\tthis.bottomMsgNode = null;\r\n\t\tif (this.isLeft) {\r\n\t\t\tthis.msgNode.scaleX = -1;\r\n\t\t\tthis.msgNode.scaleY = -1;\r\n\t\t\tthis.msgNode.anchorX = 1;\r\n\t\t\tthis.msgNode.anchorY = 0.5;\r\n\t\t\tthis.sp_chatdi_left.addChild(this.msgNode);\r\n\t\t\tthis.bottomMsgNode = cc.instantiate(this.msgNode);\r\n\t\t\tthis.sp_chatdi_leftBottom.addChild(this.bottomMsgNode);\r\n\t\t} else {\r\n\t\t\tthis.msgNode.anchorX = 0;\r\n\t\t\tthis.msgNode.anchorY = 0.5;\r\n\t\t\tthis.sp_chatdi_right.addChild(this.msgNode);\r\n\t\t\tthis.bottomMsgNode = cc.instantiate(this.msgNode);\r\n\t\t\tthis.sp_chatdi_rightBottom.addChild(this.bottomMsgNode);\r\n\t\t}\r\n\r\n\t\tthis.DeleteWndEffect(\"touxiang/btn_headkuang\", \"touxiangkuangtexiao\");\r\n\t\tthis.UpdatePlayerInfo();\r\n\t\tthis.face_ani.getComponent(cc.Animation).on('finished', this.onFinished.bind(this), this);\r\n\t\tthis.time = -1;\r\n\t\tapp[app.subGameName + \"_HeadManager\"]().SetHeadInfo(dataPos, this.node);\r\n\t},\r\n\tonFinished: function () {\r\n\t\tthis.face_ani.active = false;\r\n\t},\r\n\r\n\tsetReady: function (isShow) {\r\n\t\tthis.icon_ready.active = isShow;\r\n\t\tif (isShow) {\r\n\t\t\tthis.sp_state.getComponent(cc.Sprite).spriteFrame = \"\";\r\n\t\t}\r\n\t},\r\n\tHideAllChild: function () {\r\n\t\tthis.touxiang.active = true;\r\n\t\tthis.btn_head.getComponent(cc.Sprite).spriteFrame = this.sp_head[2];\r\n\t\tthis.sp_xiangkuang.active = false;\r\n\t\tthis.sp_chatdi_left.active = false;\r\n\t\tthis.sp_chatdi_right.active = false;\r\n\t\tthis.sp_chatdi_leftBottom.active = false;\r\n\t\tthis.sp_chatdi_rightBottom.active = false;\r\n\t\tthis.sp_audio_left.active = false;\r\n\t\tthis.sp_audio_right.active = false;\r\n\t\tthis.icon_ready.active = false;\r\n\t\tthis.btn_out.active = false;\r\n\t\tthis.icon_auto.active = false;\r\n\t\tthis.zhuangjia.active = false;\r\n\t\tthis.lb_jifen.string = \"\";\r\n\t\tthis.lb_name.string = \"\";\r\n\t\tthis.lb_id.string = \"\";\r\n\t\tthis.fangzhu.active = false;\r\n\t\tthis.sp_lixian.active = false;\r\n\t\tthis.sp_likai.active = false;\r\n\t\t// this.bg_box.active = false;\r\n\t\tthis.sp_state.getComponent(cc.Sprite).spriteFrame = \"\";\r\n\t\tlet others = this.node.getChildByName(\"otherNode\").children;\r\n\t\tfor (let i = 0; i < others.length; i++) {\r\n\t\t\tothers[i].active = false;\r\n\t\t}\r\n\t\tthis.lb_SportsPoint.active = false;\r\n\t},\r\n\t//-----------------回调函数------------------------\r\n\tEvent_PosReadyChg: function (event) {\r\n\t\tlet serverPack = event;\r\n\t\tlet pos = serverPack[\"pos\"];\r\n\t\tlet isReady = serverPack[\"isReady\"];\r\n\t\tif (this.ShareDefine.isCoinRoom) {\r\n\t\t\t//练习场OK 手势图标不显示\r\n\t\t\tthis.btn_out.active = false;\r\n\t\t} else {\r\n\t\t\tif (pos == this.playerPos) {\r\n\t\t\t\tif (isReady == true) {\r\n\t\t\t\t\tthis.icon_ready.active = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.icon_ready.active = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tEvent_PosPosUpdate: function (event) {\r\n\t\tthis.UpdatePlayerInfo();\r\n\t\tif (event[\"isShowNode\"]) {\r\n\t\t\tif (this.playerInfo && this.playerInfo[\"pid\"] > 0) {\r\n\t\t\t\tthis.node.active = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.node.active = false;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tEvent_PosLeave: function (event) {\r\n\t\tlet serverPack = event;\r\n\t\tlet pos = serverPack[\"pos\"];\r\n\t\tif (pos == this.playerPos) {\r\n\t\t\tthis.HideAllChild();\r\n\t\t}\r\n\t\tif (event[\"isShowNode\"]) {\r\n\t\t\tif (this.playerInfo && this.playerInfo[\"pid\"] > 0) {\r\n\t\t\t\tthis.node.active = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.node.active = false;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tEvent_SetStart: function (event) {\r\n\t\tif (this.playerInfo && this.playerInfo[\"pid\"] > 0) {\r\n\t\t\tthis.UpdatePlayerInfo();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.node.active = false;\r\n\t},\r\n\tEvent_PosContine: function (event) {\r\n\t\tif (-1 == this.playerPos) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (this.playerPos == event.pos) {\r\n\t\t\tthis.icon_ready.active = true;\r\n\t\t}\r\n\t},\r\n\tEvent_PlayerOffline: function (event) {\r\n\t\tif (-1 == this.playerPos) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.UpdatePlayerInfo();\r\n\t},\r\n\r\n\tOnPack_AutoStart: function (event) {\r\n\t\tif (-1 == this.playerPos) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlet serverPack = event;\r\n\t\tlet roomID = serverPack[\"roomID\"];\r\n\t\tlet pos = serverPack[\"pos\"];\r\n\t\tlet isAuto = serverPack[\"trusteeship\"];\r\n\t\tlet pid = serverPack[\"pid\"];\r\n\t\tlet roomPosMg = this.RoomMgr.GetEnterRoom().GetRoomPosMgr();\r\n\t\tlet allPlayers = roomPosMg.GetRoomAllPlayerInfo();\r\n\t\tallPlayers[pos].trusteeship = isAuto;\r\n\t\tif (pid == allPlayers[this.playerPos].pid) {\r\n\t\t\tthis.icon_auto.active = isAuto;\r\n\t\t}\r\n\t},\r\n\r\n\t//本家显示出牌动作\r\n\tOnShowPosActionHelp: function () {\r\n\t\tif (-1 == this.playerPos) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.AddWndEffect(\"touxiang/btn_headkuang\", \"touxiangkuangtexiao\", \"touxiangkuangtexiao\");\r\n\t},\r\n\r\n\t//--------------刷新函数-----------------\r\n\tOnUpdate: function () {\r\n\t\tif (-1 == this.playerPos) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlet time = new Date().getTime();\r\n\t\tif (this.time) {\r\n\t\t\tif (this.time < time) {\r\n\t\t\t\tthis.sp_chatdi_left.active = false;\r\n\t\t\t\tthis.sp_chatdi_right.active = false;\r\n\t\t\t\tthis.sp_chatdi_leftBottom.active = false;\r\n\t\t\t\tthis.sp_chatdi_rightBottom.active = false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (!this.useBottomChat) {\r\n\t\t\t\tif (this.useLeftChat) {\r\n\t\t\t\t\tthis.sp_chatdi_left.active = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.sp_chatdi_right.active = true;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (this.useLeftChat) {\r\n\t\t\t\t\tthis.sp_chatdi_leftBottom.active = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.sp_chatdi_rightBottom.active = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t//本家动作结束回调\r\n\tOnClosePosActionHelp: function () {\r\n\t\tthis.DeleteWndEffect(\"touxiang/btn_headkuang\", \"touxiangkuangtexiao\");\r\n\t},\r\n\r\n\tShowChatContent: function (content) {\r\n\t\tlet msgNode = null;\r\n\t\tif (!this.useBottomChat) {\r\n\t\t\tmsgNode = this.msgNode;\r\n\t\t} else {\r\n\t\t\tmsgNode = this.bottomMsgNode;\r\n\t\t}\r\n\t\tlet lb_chat = msgNode.getComponent(cc.Label);\r\n\t\tlb_chat.overflow = cc.Label.Overflow.NONE;\r\n\t\tlb_chat.horizontalAlign = cc.Label.HorizontalAlign.LEFT;\r\n\t\tlb_chat.verticalAlign = cc.Label.VerticalAlign.CENTER;\r\n\t\tlb_chat.fontSize = 20;\r\n\t\tlb_chat.lineHeight = 25;\r\n\t\tlb_chat.font = this.lb_font;\r\n\t\tlb_chat.string = content;\r\n\t\tlet width = this.msgNode.width;\r\n\t\tlet newWidth = width + 80;\r\n\t\tif (width >= 280) {\r\n\t\t\tnewWidth = 360;\r\n\t\t\tlb_chat.overflow = cc.Label.Overflow.RESIZE_HEIGHT;\r\n\t\t\tmsgNode.width = 280;\r\n\t\t}\r\n\t\tif (!this.useBottomChat) {\r\n\t\t\tthis.sp_chatdi_leftBottom.active = false;\r\n\t\t\tthis.sp_chatdi_rightBottom.active = false;\r\n\t\t\tif (this.useLeftChat) {\r\n\t\t\t\tthis.sp_chatdi_left.active = true;\r\n\t\t\t\tthis.sp_chatdi_right.active = false;\r\n\t\t\t\tthis.sp_chatdi_left.width = newWidth;\r\n\t\t\t} else {\r\n\t\t\t\tthis.sp_chatdi_left.active = false;\r\n\t\t\t\tthis.sp_chatdi_right.active = true;\r\n\t\t\t\tthis.sp_chatdi_right.width = newWidth;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.sp_chatdi_left.active = false;\r\n\t\t\tthis.sp_chatdi_right.active = false;\r\n\t\t\tif (this.useLeftChat) {\r\n\t\t\t\tthis.sp_chatdi_leftBottom.active = true;\r\n\t\t\t\tthis.sp_chatdi_rightBottom.active = false;\r\n\t\t\t\tthis.sp_chatdi_leftBottom.width = newWidth;\r\n\t\t\t} else {\r\n\t\t\t\tthis.sp_chatdi_leftBottom.active = false;\r\n\t\t\t\tthis.sp_chatdi_rightBottom.active = true;\r\n\t\t\t\tthis.sp_chatdi_rightBottom.width = newWidth;\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.time = new Date().getTime() + 4000;\r\n\t},\r\n\tShowFaceContent: function (path) {\r\n\t\tthis.face_ani.active = true;\r\n\t\tvar animState = this.face_ani.getComponent(cc.Animation).play(path);\r\n\t\tanimState.repeatCount = 3;\r\n\t},\r\n\r\n\tShowAutoIcon: function (isAuto) {\r\n\t\tthis.icon_auto.active = isAuto;\r\n\t},\r\n\r\n\tShowAudioContent: function () {\r\n\t\tif (this.useLeftAudio) {\r\n\t\t\tthis.sp_audio_left.active = true;\r\n\t\t\tthis.sp_audio_right.active = false;\r\n\t\t\tthis.AudioAnimation = this.sp_audio_left.getComponent(cc.Animation);\r\n\t\t} else {\r\n\t\t\tthis.sp_audio_left.active = false;\r\n\t\t\tthis.sp_audio_right.active = true;\r\n\t\t\tthis.AudioAnimation = this.sp_audio_right.getComponent(cc.Animation);\r\n\t\t}\r\n\r\n\t\tthis.AudioAnimation.stop();\r\n\t\tthis.AudioAnimation.play(\"UIAudioPlay\");\r\n\t},\r\n\r\n\tCloseAudioContent: function () {\r\n\t\tif (this.AudioAnimation) this.AudioAnimation.stop();\r\n\r\n\t\tthis.sp_audio_left.active = false;\r\n\t\tthis.sp_audio_right.active = false;\r\n\t},\r\n\r\n\tOnClose: function () {\r\n\t\tthis.HideAllChild();\r\n\t\tthis.lb_jifen.string = \"\";\r\n\t\tthis.fangzhu.active = false;\r\n\t\tthis.uiPos = -1;\r\n\t\tthis.playerPos = -1;\r\n\t\tthis.playerInfo = null;\r\n\t\tapp[app.subGameName + \"Client\"].UnRegTargetEvent(this);\r\n\t},\r\n\tSetItemPos: function (isLeft) {\r\n\t\tif (isLeft) {\r\n\t\t\tthis.useLeftAudio = true;\r\n\t\t\tthis.useLeftChat = true;\r\n\t\t\t/*this.icon_ready.x = this.left.x;\r\n\t\t\tthis.icon_ready.y = this.left.y;*/\r\n\t\t\tthis.icon_auto.x = this.left.x + 39;\r\n\t\t\tthis.icon_auto.y = this.left.y - 36;\r\n\t\t} else {\r\n\t\t\tthis.useLeftAudio = false;\r\n\t\t\tthis.useLeftChat = false;\r\n\t\t\t/*this.icon_ready.x = this.right.x;\r\n\t\t\tthis.icon_ready.y = this.right.y;*/\r\n\t\t\tthis.icon_auto.x = this.right.x - 39;\r\n\t\t\tthis.icon_auto.y = this.right.y - 36;\r\n\t\t}\r\n\t},\r\n\tEvent_AudioNtf: function (event) {\r\n\t\tlet serverPack = event;\r\n\t\tlet bShow = serverPack[\"bShow\"];\r\n\t\tlet pos = serverPack[\"pos\"];\r\n\t\tconsole.log('Event_AudioNtf bShow ' + bShow + ' pos ' + pos);\r\n\t\tif (bShow) {\r\n\t\t\tif (pos != this.playerPos) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.ShowAudioContent();\r\n\t\t} else {\r\n\t\t\tthis.CloseAudioContent();\r\n\t\t}\r\n\t},\r\n\tEvent_UpdateBacker: function (event) {\r\n\t\tif (-1 == this.playerPos)\r\n\t\t\treturn;\r\n\t\tlet data = event;\r\n\t\tif (data.bShow) {\r\n\t\t\tthis.UpdateBacker();\r\n\t\t} else {\r\n\t\t\tthis.zhuangjia.active = false;\r\n\t\t}\r\n\t},\r\n\tUpdateBacker: function () {\r\n\t\tlet room = this.RoomMgr.GetEnterRoom();\r\n\t\tlet state = room.GetRoomProperty(\"state\");\r\n\t\t// this.bg_box.active = false;\r\n\t\tif (state == this.ShareDefine.RoomState_Init) {\r\n\t\t\tthis.zhuangjia.active = false;\r\n\t\t} else {\r\n\t\t\tlet roomSet = room.GetRoomSet();\r\n\t\t\tlet dPos = -1;\r\n\t\t\tif (roomSet) {\r\n\t\t\t\tif (roomSet.GetRoomSetInfo().hasOwnProperty(\"backerPos\")) {\r\n\t\t\t\t\tdPos = roomSet.GetRoomSetProperty(\"backerPos\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdPos = roomSet.dataInfo.dPos;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (room.GetRoomProperty(\"set\").stateInfo)\r\n\t\t\t\t\tdPos = room.GetRoomProperty(\"set\").stateInfo.backerPos;\r\n\t\t\t\telse\r\n\t\t\t\t\tdPos = room.GetRoomProperty(\"set\").backerPos;\r\n\t\t\t}\r\n\t\t\tlet isDPos = false;\r\n\t\t\tif (dPos == this.playerPos) {\r\n\t\t\t\tisDPos = true;\r\n\t\t\t\t// this.bg_box.active = true;\r\n\t\t\t}\r\n\t\t\t//是否庄\r\n\t\t\tthis.zhuangjia.active = isDPos;\r\n\t\t}\r\n\t},\r\n\tShowOrHideZhuangJia: function (isShow) {\r\n\t\tthis.zhuangjia.active = isShow;\r\n\t},\r\n\t//显示本家玩家信息\r\n\tUpdatePlayerInfo: function () {\r\n\t\tlet room = this.RoomMgr.GetEnterRoom();\r\n\t\tlet state = room.GetRoomProperty(\"state\");\r\n\t\tlet setState = 0;\r\n\t\tif (state == this.ShareDefine.RoomState_Playing ||\r\n\t\t\tstate == this.ShareDefine.RoomState_Waiting ||\r\n\t\t\tstate == this.ShareDefine.RoomState_WaitingEx) {\r\n\t\t\t//房间启动了，获取游戏是否在进行\r\n\t\t\tsetState = room.GetRoomSet().GetRoomSetProperty(\"state\");\r\n\t\t}\r\n\t\tlet allPlayerInfo = null;\r\n\t\tlet playerLength = 0;\r\n\t\tallPlayerInfo = room.GetRoomPosMgr().GetRoomAllPlayerInfo();\r\n\t\tplayerLength = allPlayerInfo.length;\r\n\t\tif (this.playerPos >= playerLength) {\r\n\t\t\tconsole.error('UIPublicHead this.playerPos >= playerLength');\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.playerInfo = allPlayerInfo[this.playerPos];\r\n\t\t//如果没有有玩家坐下\r\n\t\tif (!this.playerInfo || 0 == this.playerInfo.pid) {\r\n\t\t\tthis.HideAllChild();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.sp_xiangkuang.active = true;\r\n\t\tif (0 == this.uiPos) {\r\n\t\t\tthis.sp_xiangkuang.getComponent(cc.Sprite).spriteFrame = this.sp_head[this.uiPos];\r\n\t\t} else {\r\n\t\t\tthis.sp_xiangkuang.getComponent(cc.Sprite).spriteFrame = this.sp_head[1];\r\n\t\t}\r\n\t\tthis.sp_xiangkuang.getComponent(cc.Sprite).interactable = false;\r\n\t\t//准备按钮更新,区分啃爹的金币场\r\n\t\tif (setState == this.ShareDefine.SetState_Playing ||\r\n\t\t\tsetState == this.ShareDefine.SetState_Waiting ||\r\n\t\t\tsetState == this.ShareDefine.SetState_WaitingEx) {\r\n\t\t\t//游戏进行中，OK按钮关闭\r\n\t\t\tthis.icon_ready.active = false;\r\n\t\t} else {\r\n\t\t\tif (this.ShareDefine.isCoinRoom) {\r\n\t\t\t\tthis.icon_ready.active = true;\r\n\t\t\t} else {\r\n\t\t\t\tif (state == this.ShareDefine.RoomState_Init) {\r\n\t\t\t\t\tif (this.playerInfo.roomReady) {\r\n\t\t\t\t\t\tthis.icon_ready.active = true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.icon_ready.active = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (this.playerInfo.gameReady) {\r\n\t\t\t\t\t\tthis.icon_ready.active = true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.icon_ready.active = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t//隐藏踢出房间按钮\r\n\t\tif (state != this.ShareDefine.RoomState_Init) {\r\n\t\t\tthis.btn_out.active = false;\r\n\t\t}\r\n\r\n\t\t//提示控件隐藏\r\n\t\tthis.ShowPlayerBaseInfo(room);\r\n\t\t//庄家\r\n\t\tthis.UpdateBacker();\r\n\t},\r\n\tShowBtnOut: function () {\r\n\t\tlet room = this.RoomMgr.GetEnterRoom();\r\n\t\tlet state = room.GetRoomProperty(\"state\");\r\n\t\tif (state != this.ShareDefine.RoomState_Init)\r\n\t\t\treturn;\r\n\t\tif (room.IsClientIsCreater() == false) {\r\n\t\t\tthis.btn_out.active = false;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (this.playerInfo.pid == this.createID) {\r\n\t\t\tthis.btn_out.active = false;\r\n\t\t} else {\r\n\t\t\tthis.btn_out.active = true;\r\n\t\t}\r\n\t},\r\n\tHideBtnOut: function () {\r\n\t\tthis.btn_out.active = false;\r\n\t},\r\n\t//获取位置玩家头像基础信息\r\n\tShowPlayerBaseInfo: function (room) {\r\n\t\tthis.touxiang.active = true;\r\n\t\t//有玩家坐下才需要显示玩家头像\r\n\t\tlet pid = this.playerInfo.pid;\r\n\t\tif (pid) {\r\n\t\t\tthis.WeChatHeadImage.ShowHeroHead(pid);\r\n\t\t}\r\n\r\n\t\t//显示是否房主\r\n\t\tlet createID = room.GetRoomProperty(\"ownerID\");\r\n\t\tlet iscreateID = false;\r\n\t\tthis.createID = createID;\r\n\t\tthis.HideBtnOut();\r\n\t\tif (this.playerInfo.pid == createID) {\r\n\t\t\tiscreateID = true;\r\n\t\t} else {\r\n\t\t\tthis.ShowBtnOut();\r\n\t\t}\r\n\r\n\t\tif (this.ShareDefine.isCoinRoom) {\r\n\t\t\tthis.fangzhu.active = false;\r\n\t\t\tthis.btn_out.active = false;\r\n\t\t} else {\r\n\t\t\tthis.fangzhu.active = iscreateID;\r\n\t\t}\r\n\r\n\t\t//是否离线\r\n\t\tif (this.playerInfo.isLostConnect) {\r\n\t\t\tthis.sp_lixian.active = true;\r\n\t\t} else {\r\n\t\t\tthis.sp_lixian.active = false;\r\n\t\t}\r\n\t\t//是否离开\r\n\t\tif (this.playerInfo.isShowLeave && !this.playerInfo.isLostConnect) {\r\n\t\t\tthis.sp_likai.active = true;\r\n\t\t} else {\r\n\t\t\tthis.sp_likai.active = false;\r\n\t\t}\r\n\t\t//积分\r\n\t\tthis.UpDateLabJiFen();\r\n\t\t//竞技点\r\n\t\tif (typeof(this.playerInfo.sportsPoint) != \"undefined\") {\r\n\t\t\tthis.UpDateLabSportsPoint();\r\n\t\t} else {\r\n\t\t\tthis.lb_SportsPoint.active = false;\r\n\t\t}\r\n\t\t//名字\r\n\t\tthis.lb_name.string = this.playerInfo.name;\r\n\t\t// this.lb_id.string = \"ID:\" + this.playerInfo.accountID;\r\n\t\tthis.lb_id.string = \"ID:\" + this.playerInfo.pid;\r\n\t},\r\n\tUpDateLabJiFen: function () {\r\n\t\tlet playerIntegral = 0;\r\n\t\tif (this.playerInfo) {\r\n\t\t\tplayerIntegral = this.playerInfo.point;\r\n\t\t}\r\n\t\tlet unionId = this.RoomMgr.GetEnterRoom().GetRoomConfigByProperty(\"unionId\");\r\n\t\tlet dianbo = this.RoomMgr.GetEnterRoom().GetRoomConfigByProperty(\"dianbo\");\r\n\t\tif (dianbo && unionId > 0) {\r\n\t\t\tplayerIntegral += dianbo\r\n\t\t}\r\n\t\tthis.lb_jifen.string = playerIntegral;\r\n\t},\r\n\tShowPlayStateByQZ: function (beishu) {//2，抢庄 3，不抢\r\n\t\tif (beishu > 0) {//抢庄\r\n\t\t\tthis.sp_state.getComponent(cc.Sprite).spriteFrame = this.sp_playState[2];\r\n\t\t} else {//不抢\r\n\t\t\tthis.sp_state.getComponent(cc.Sprite).spriteFrame = this.sp_playState[3];\r\n\t\t}\r\n\t},\r\n\tShowPlayState: function (state) {//0整理中, 1比牌中\r\n\t\tif (state >= 0) {\r\n\t\t\tthis.sp_state.getComponent(cc.Sprite).spriteFrame = this.sp_playState[state];\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.sp_state.getComponent(cc.Sprite).spriteFrame = state;\r\n\t},\r\n\tEvent_SportsPointChange: function (event) {\r\n\t\tlet roomID = this.RoomMgr.GetEnterRoomID();\r\n\t\tlet pos = this.playerInfo.pos;\r\n\t\tlet pid = this.playerInfo.pid;\r\n\t\tif (event.roomID != roomID ||\r\n\t\t\tevent.posId != pos ||\r\n\t\t\tevent.pid != pid) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.UpDateLabSportsPoint();\r\n\t},\r\n\tUpDateLabSportsPoint: function () {\r\n\t\tlet sportsPoint = 0;\r\n\t\tthis.unionId = this.RoomMgr.GetEnterRoom().GetRoomConfigByProperty(\"unionId\");\r\n\t\tif (this.playerInfo && typeof(this.playerInfo[\"sportsPoint\"]) != \"undefined\" &&\r\n\t\t\tthis.unionId > 0) {\r\n\t\t\tsportsPoint = this.playerInfo.sportsPoint;\r\n\t\t\tthis.lb_SportsPoint.getComponent(cc.Label).string = sportsPoint;\r\n\t\t\t// this.lb_SportsPoint.active = true;\r\n\t\t}\r\n\t},\r\n\t//---------点击函数---------------------\r\n\tOnClick: function (btnName, btnNode) {\r\n\t\tif (btnName == \"btn_head\") {\r\n\t\t\tif (this.playerInfo[\"pid\"] > 0) {\r\n\t\t\t\tthis.Click_btn_head();\r\n\t\t\t} else {\r\n\t\t\t\tlet room = this.RoomMgr.GetEnterRoom();\r\n\t\t\t\tlet state = room.GetRoomProperty(\"state\");\r\n\t\t\t\tif (state != this.ShareDefine.RoomState_Playing) {\r\n\r\n\t\t\t\t}\r\n\t\t\t\t//进行换座\r\n\t\t\t\tlet roomID = this.RoomMgr.GetEnterRoom().GetRoomProperty(\"roomID\");\r\n\t\t\t\tthis.RoomMgr.SendSelectPosRoom(roomID, this.playerPos);\r\n\t\t\t}\r\n\t\t} else if (btnName == \"btn_out\") {\r\n\t\t\tthis.Click_btn_out();\r\n\t\t} else {\r\n\t\t\tconsole.error(\"OnClick btnName:%s error\", btnName);\r\n\t\t}\r\n\t},\r\n\r\n\tClick_btn_head: function () {\r\n\t\tthis.FormManager.ShowForm(app.subGameName + \"_UIUserInfo\", this.playerPos);\r\n\t},\r\n\r\n\tClick_btn_out: function () {\r\n\t\tlet room = this.RoomMgr.GetEnterRoom();\r\n\t\tlet state = room.GetRoomProperty(\"state\");\r\n\t\tif (state == this.ShareDefine.RoomState_Playing || state == this.ShareDefine.RoomState_Playing) {\r\n\t\t\tapp[app.subGameName + \"_SysNotifyManager\"]().ShowSysMsg(\"SSS_CANNOT_KICK\");\r\n\t\t} else {\r\n\t\t\tlet roomID = this.RoomMgr.GetEnterRoomID();\r\n\t\t\tapp[app.subGameName + \"_GameManager\"]().SendKickPosIndex(roomID, this.playerPos);\r\n\t\t}\r\n\t},\r\n});"]}
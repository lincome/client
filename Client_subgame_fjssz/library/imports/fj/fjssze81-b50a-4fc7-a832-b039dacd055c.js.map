{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\script\\game\\FJSSZ\\ui/assets\\script\\game\\FJSSZ\\ui\\UIFJSSZ_Result.js"],"names":["app","require","cc","Class","extends","subGameName","properties","bg","Node","btn_look","lb_name","Label","la_jifen","sp_type_bg1","sp_type_bg2","sp_type_bg3","zimo","sihongzhong","qiangganghu","qidui","sp_result","nd_meinv","huangzuang","seat","Sprite","benjiasheng","SpriteFrame","xiajiasheng","duijiasheng","shangjiasheng","sheng","sheng1","sheng2","sp_man_number","lb_manum01","lb_manum02","lb_manum03","lb_manum04","btn_head","shandianLabel","nd_card","btn_goon","btn_exit","OnCreateInit","FormManager","MaCount","on","Event_TouchStart","Event_TouchEnd","RegEvent","Event_RoomEnd","SSSRoomMgr","toUpperCase","ComTool","WeChatHeadImage","getComponent","ShowBtnGoonExit","active","OnShow","InitShowPlayerInfo","ShowPlayerZiMo","state","GetEnterRoom","GetRoomProperty","ShareDefine","RoomState_End","string","RoomPosMgr","GetRoomPosMgr","clientPos","GetClientPos","clientDownPos","GetClientDownPos","clientFacePos","GetClientFacePos","clientUpPos","GetClientUpPos","roomSet","GetRoomSet","setEnd","GetRoomSetProperty","posHuList","huPos","huType","zhongMa","maCardList","posCount","length","allPosInfo","index","posInfo","pos","posHuType","HuType_NotHu","Check_HuType","clientPoint","clientDownPoint","clientFacePoint","clientUpPoint","point1","join","point2","point3","point4","ShowPosInfo","SoundManager","PlaySound","huPlayerInfo","GetPlayerInfoByPos","pid","ShowHeroHead","huPoint","spriteFrame","roomConfig","GetRoomConfig","zhama","HZZhaMa_TwoMa","HZZhaMa_FourMa","HZZhaMa_SixMa","HZZhaMa_Ymqz","HZZhaMa_Yzdm","maCount","value","Math","floor","path","SetWndProperty","i","pai","toString","paiType","charAt","StringAddNumSuffix","Log","pos1Point","pos2Point","pos3Point","pos4Point","HuType_ZiMo","HuType_QGH","HuType_FHZ","OnClick","btnName","btnNode","Click_btn_goon","CloseForm","ShowForm","console","error","room","roomID","SendContinueGame"],"mappings":"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","file":"UIFJSSZ_Result.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\script\\game\\FJSSZ\\ui","sourcesContent":["var app = require(\"fjssz_app\");\r\ncc.Class({\r\n    extends: require(app.subGameName + \"_BaseForm\"),\r\n\r\n    properties: {\r\n        bg:cc.Node,\r\n        btn_look:cc.Node,\r\n\r\n        lb_name:cc.Label,\r\n        la_jifen:cc.Label,\r\n\r\n        sp_type_bg1:cc.Node,\r\n        sp_type_bg2:cc.Node,\r\n        sp_type_bg3:cc.Node,\r\n\r\n        zimo:cc.Node,\r\n        sihongzhong:cc.Node,\r\n        qiangganghu:cc.Node,\r\n        qidui:cc.Node,\r\n\t    sp_result:cc.Node,\r\n\t    nd_meinv:cc.Node,\r\n\r\n\t    huangzuang:cc.Node,\r\n\r\n        seat:cc.Sprite,\r\n        benjiasheng:cc.SpriteFrame,\r\n        xiajiasheng:cc.SpriteFrame,\r\n        duijiasheng:cc.SpriteFrame,\r\n        shangjiasheng:cc.SpriteFrame,\r\n        sheng:cc.Sprite,\r\n        sheng1:cc.SpriteFrame,\r\n        sheng2:cc.SpriteFrame,\r\n\r\n        sp_man_number:cc.Label,\r\n\r\n        lb_manum01:cc.Label,\r\n        lb_manum02:cc.Label,\r\n        lb_manum03:cc.Label,\r\n        lb_manum04:cc.Label,\r\n\r\n        btn_head:cc.Node,\r\n        shandianLabel:cc.Label,\r\n\r\n        nd_card:cc.Node,\r\n\r\n        btn_goon:cc.Node,\r\n        btn_exit:cc.Node,\r\n    },\r\n\r\n    OnCreateInit: function () {\r\n        this.FormManager = app[app.subGameName + \"_FormManager\"]();\r\n\t    this.MaCount = 8;\r\n\r\n        this.btn_look.on(\"touchstart\", this.Event_TouchStart, this);\r\n        this.btn_look.on(\"touchend\", this.Event_TouchEnd, this);\r\n        this.btn_look.on(\"touchcancel\", this.Event_TouchEnd, this);\r\n\r\n        this.RegEvent(\"RoomEnd\", this.Event_RoomEnd);\r\n\r\n        this.SSSRoomMgr = app[app.subGameName.toUpperCase() + \"RoomMgr\"]();\r\n        this.ComTool = app[app.subGameName+\"_ComTool\"]();\r\n\r\n        this.WeChatHeadImage = this.btn_head.getComponent(app.subGameName + \"_WeChatHeadImage\");\r\n\r\n    },\r\n    //-----------回调函数------------------\r\n    Event_RoomEnd:function () {\r\n        this.ShowBtnGoonExit();\r\n    },\r\n    Event_TouchStart:function () {\r\n        this.bg.active = false;\r\n    },\r\n    Event_TouchEnd:function () {\r\n        this.bg.active = true;\r\n    },\r\n\r\n    OnShow: function () {\r\n\r\n        this.ShowBtnGoonExit();\r\n\r\n        this.InitShowPlayerInfo();\r\n\r\n        this.ShowPlayerZiMo();\r\n\r\n    },\r\n    ShowBtnGoonExit:function () {\r\n        let state = app[app.subGameName.toUpperCase() + \"RoomMgr\"]().GetEnterRoom().GetRoomProperty(\"state\");\r\n        if(state == this.ShareDefine.RoomState_End){\r\n            this.btn_goon.active = 0;\r\n            this.btn_exit.active = 1;\r\n        }\r\n        else {\r\n            this.btn_goon.active = 1;\r\n            this.btn_exit.active = 0;\r\n        }\r\n    },\r\n    InitShowPlayerInfo:function () {\r\n        this.lb_manum01.string = \"\";\r\n        this.lb_manum02.string = \"\";\r\n        this.lb_manum03.string = \"\";\r\n        this.lb_manum04.string = \"\";\r\n\r\n        this.lb_name.string = \"\";\r\n        this.la_jifen.string = \"\";\r\n    },\r\n    ShowPlayerZiMo:function () {\r\n        let RoomPosMgr = this.SSSRoomMgr.GetEnterRoom().GetRoomPosMgr();\r\n        let clientPos = RoomPosMgr.GetClientPos();\r\n        let clientDownPos = RoomPosMgr.GetClientDownPos();\r\n        let clientFacePos = RoomPosMgr.GetClientFacePos();\r\n        let clientUpPos = RoomPosMgr.GetClientUpPos();\r\n\r\n        let roomSet = this.SSSRoomMgr.GetEnterRoom().GetRoomSet();\r\n        let setEnd = roomSet.GetRoomSetProperty(\"setEnd\");\r\n        let posHuList = setEnd[\"posHuList\"];\r\n\r\n\r\n        let huPos = -1;\r\n        let huType = \"\";\r\n        let zhongMa = 0;\r\n        let maCardList = [];\r\n\t    let posCount = posHuList.length;\r\n\r\n\t    let allPosInfo = {};\r\n\r\n\t    for(let index=0; index<posCount; index++){\r\n\t\t    let posInfo = posHuList[index];\r\n\t\t\tlet pos = posInfo[\"pos\"];\r\n\t\t    let posHuType = posInfo[\"huType\"];\r\n\r\n\t\t    allPosInfo[pos] = posInfo;\r\n\r\n\t\t    if(posHuType != this.ShareDefine.HuType_NotHu){\r\n\t\t\t    huPos = pos;\r\n\t\t\t    huType = posHuType;\r\n\t\t\t    zhongMa = posInfo[\"zhongMa\"];\r\n\t\t\t    maCardList = posInfo[\"maCardList\"];\r\n\t\t\t    // break\r\n\t\t    }\r\n\r\n\t    }\r\n\r\n        this.Check_HuType(huType);\r\n\t    let clientPoint = allPosInfo[clientPos][\"point\"];\r\n\t    let clientDownPoint = allPosInfo[clientDownPos][\"point\"];\r\n\t    let clientFacePoint = allPosInfo[clientFacePos][\"point\"];\r\n\t    let clientUpPoint = allPosInfo[clientUpPos][\"point\"];\r\n\r\n\t    let point1 = clientPoint > 0 ? [\"+\", clientPoint].join(\"\") : clientPoint;\r\n\t    let point2 = clientDownPoint > 0 ? [\"+\", clientDownPoint].join(\"\") : clientDownPoint;\r\n\t    let point3 = clientFacePoint > 0 ? [\"+\", clientFacePoint].join(\"\") : clientFacePoint;\r\n\t    let point4 = clientUpPoint > 0 ? [\"+\", clientUpPoint].join(\"\") : clientUpPoint;\r\n\r\n\t    this.ShowPosInfo(point1, point2, point3, point4);\r\n\r\n\t    this.shandianLabel.string = allPosInfo[clientPos][\"flashCnt\"];\r\n\r\n\t    //如果有人胡了\r\n\t    if(huPos != -1){\r\n            app.SoundManager().PlaySound(\"shengli\");\r\n\t\t    this.sp_man_number.string =  zhongMa;\r\n\r\n\t\t    let huPlayerInfo = this.SSSRoomMgr.GetEnterRoom().GetRoomPosMgr().GetPlayerInfoByPos(huPos);\r\n\t\t    this.lb_name.string = huPlayerInfo[\"name\"];\r\n\t\t    let pid = huPlayerInfo[\"pid\"];\r\n\t\t    this.WeChatHeadImage.ShowHeroHead(pid);\r\n\r\n\t\t    let huPoint = allPosInfo[huPos][\"point\"];\r\n\t\t    this.la_jifen.string = huPoint > 0 ? [\"+\",huPoint].join(\"\") : huPoint;\r\n\r\n\t\t    if(huPos == clientPos){\r\n\t\t\t    this.seat.spriteFrame = this.benjiasheng;\r\n\t\t\t    this.sheng.spriteFrame = this.sheng1;\r\n\t\t    }\r\n\t\t    else if(huPos == clientDownPos){\r\n\t\t\t    this.seat.spriteFrame = this.xiajiasheng;\r\n\t\t\t    this.sheng.spriteFrame = this.sheng2;\r\n\t\t    }\r\n\t\t    else if(huPos == clientFacePos){\r\n\t\t\t    this.seat.spriteFrame = this.duijiasheng;\r\n\t\t\t    this.sheng.spriteFrame = this.sheng2;\r\n\t\t    }\r\n\t\t    else if(huPos == clientUpPos){\r\n\t\t\t    this.seat.spriteFrame = this.shangjiasheng;\r\n\t\t\t    this.sheng.spriteFrame = this.sheng2;\r\n\t\t    }\r\n\t\t    let roomConfig = this.SSSRoomMgr.GetEnterRoom().GetRoomConfig();\r\n\t\t    let zhama = roomConfig[\"zhama\"];\r\n\t\t    if(\r\n\t\t\t    zhama == this.ShareDefine.HZZhaMa_TwoMa\r\n\t\t\t    ||\r\n\t\t\t    zhama == this.ShareDefine.HZZhaMa_FourMa\r\n\t\t\t    ||\r\n\t\t\t    zhama == this.ShareDefine.HZZhaMa_SixMa\r\n\t\t    ){\r\n\t\t\t    this.sp_type_bg1.active = 0;\r\n\t\t\t    this.sp_type_bg2.active = 0;\r\n\t\t\t    this.sp_type_bg3.active = 1;\r\n\t\t    }\r\n\t\t    else if(zhama == this.ShareDefine.HZZhaMa_Ymqz){\r\n\t\t\t    this.sp_type_bg1.active = 0;\r\n\t\t\t    this.sp_type_bg2.active = 1;\r\n\t\t\t    this.sp_type_bg3.active = 0;\r\n\t\t    }\r\n\t\t    else if(zhama == this.ShareDefine.HZZhaMa_Yzdm){\r\n\t\t\t    this.sp_type_bg1.active = 1;\r\n\t\t\t    this.sp_type_bg2.active = 0;\r\n\t\t\t    this.sp_type_bg3.active = 0;\r\n\t\t    }\r\n\r\n\t\t    let maCount = maCardList.length;\r\n\t\t    if(maCount == 1){\r\n                let value = [\"CardShow\", Math.floor(maCardList[0]/100)].join(\"\");\r\n                let path = \"bg/sp_result/sp_dingma/nd_card/sp_card01\";\r\n                this.SetWndProperty(path, \"active\", 1);\r\n                this.SetWndProperty(path, \"image\", value);\r\n            }\r\n            else if(maCount > 1){\r\n                for(let i = 0; i < maCount; i++){\r\n                    let pai = maCardList[i].toString();\r\n                    let paiType = pai.charAt(1);\r\n                    let path = this.ComTool.StringAddNumSuffix(\"bg/sp_result/sp_dingma/nd_card/sp_card\", i+1, 2);\r\n                    if(paiType == 1 || paiType == 5 || paiType == 9){\r\n                        let value = [\"CardShow\", Math.floor(maCardList[i]/100)].join(\"\");\r\n\r\n                        this.SetWndProperty(path, \"active\", 1);\r\n                        this.SetWndProperty(path, \"image\", value);\r\n                    }\r\n                    else{\r\n                        this.SetWndProperty(path, \"active\", 0);\r\n                    }\r\n                }\r\n            }\r\n            else{\r\n                this.Log(\"maCardList not find\", maCardList);\r\n            }\r\n\r\n\r\n\t\t    for(let index=maCount+1; index <= this.MaCount; index++){\r\n\t\t\t    let path = this.ComTool.StringAddNumSuffix(\"bg/sp_result/sp_dingma/nd_card/sp_card\", index, 2);\r\n\t\t\t    this.SetWndProperty(path, \"active\", 0);\r\n\t\t    }\r\n\t    }\r\n    },\r\n\r\n\tShowPosInfo:function (pos1Point, pos2Point, pos3Point, pos4Point) {\r\n\t\tthis.lb_manum01.string = pos1Point;\r\n\t\tthis.lb_manum02.string = pos2Point;\r\n\t\tthis.lb_manum03.string = pos3Point;\r\n\t\tthis.lb_manum04.string = pos4Point;\r\n\t},\r\n\r\n    Check_HuType:function (huType) {\r\n        if(huType == this.ShareDefine.HuType_ZiMo){\r\n\t        this.huangzuang.active = 0;\r\n\t        this.nd_meinv.active = 1;\r\n\t        this.sp_result.active = 1;\r\n\r\n            this.zimo.active = 1;\r\n            this.qiangganghu.active = 0;\r\n            this.qidui.active = 0;\r\n            this.sihongzhong.active = 0;\r\n        }\r\n        else if(huType == this.ShareDefine.HuType_QGH){\r\n\t        this.huangzuang.active = 0;\r\n\t        this.nd_meinv.active = 1;\r\n\t        this.sp_result.active = 1;\r\n\r\n            this.zimo.active = 0;\r\n            this.qiangganghu.active = 1;\r\n            this.qidui.active = 0;\r\n            this.sihongzhong.active = 0;\r\n        }\r\n        else if(huType == this.ShareDefine.HuType_FHZ){\r\n\t        this.huangzuang.active = 0;\r\n\t        this.nd_meinv.active = 1;\r\n\t        this.sp_result.active = 1;\r\n\r\n            this.zimo.active = 0;\r\n            this.qiangganghu.active = 0;\r\n            this.qidui.active = 0;\r\n            this.sihongzhong.active = 1;\r\n\r\n        }\r\n        //荒庄\r\n        else {\r\n            app.SoundManager().PlaySound(\"lost\");\r\n\t        this.huangzuang.active = 1;\r\n\t        this.nd_meinv.active = 0;\r\n\t        this.sp_result.active = 0;\r\n        }\r\n    },\r\n    //---------设置接口---------------\r\n\r\n    //---------点击函数---------------------\r\n    OnClick:function(btnName, btnNode){\r\n        if(btnName == \"btn_goon\"){\r\n            this.Click_btn_goon();\r\n            this.CloseForm();\r\n        }\r\n        else if(btnName == \"btn_exit\"){\r\n            this.FormManager.ShowForm(\"UIResultTotal\");\r\n            this.CloseForm();\r\n        }\r\n        else if(btnName == \"btn_look\"){\r\n\r\n\t    }\r\n        else{\r\n            console.error(\"OnClick not find btnName\",btnName);\r\n        }\r\n    },\r\n    Click_btn_goon:function () {\r\n        let room = this.SSSRoomMgr.GetEnterRoom();\r\n        if(!room){\r\n            console.error(\"Click_btn_ready not enter room\");\r\n            return\r\n        }\r\n        let roomID = room.GetRoomProperty(\"roomID\");\r\n\r\n       // this.SSSRoomMgr.SendContinueGame(roomID);\r\n        app[app.subGameName + \"_GameManager\"]().SendContinueGame(roomID);\r\n    },\r\n\r\n});\r\n"]}
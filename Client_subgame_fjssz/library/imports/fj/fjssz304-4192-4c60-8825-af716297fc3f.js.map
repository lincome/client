{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\script\\common/assets\\script\\common\\fjssz_ConfirmManager.js"],"names":["app","require","sss_ConfirmManager","BaseClass","extend","Init","JS_Name","subGameName","_ConfirmFunc","_ConfirmMsgID","_ConfirmBackArgList","SysNotifyManager","InItData","SetWaitForConfirmForm","curFunc","msgID","backArgList","console","error","SetConfirmArgList","ShowConfirm","confirmType","msgArgList","content","GetSysMsgContentByMsgID","ShowForm","CloseAllBox","ShowBuyMsg","ShowUseMsg","OnConFirmResult","clickType","func","argList","g_sss_ConfirmManager","exports","GetModel"],"mappings":"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","file":"fjssz_ConfirmManager.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\common","sourcesContent":["/*\r\n * \tConfirmManager.js\r\n * \t2次确认框管理器\r\n * \r\n *\tauthor:hongdian\r\n *\tdate:2014-10-28\r\n *\tversion:1.0\r\n *\r\n * 修改时间 修改人 修改内容:\r\n * \r\n * change: \"2014-10-28 20:24\" hongdian 同步C++\r\n * \r\n */\r\n\r\nvar app = require(\"fjssz_app\");\r\n/**\r\n * 类构造\r\n */\r\nvar sss_ConfirmManager = app.BaseClass.extend({\r\n\t\r\n\t/**\r\n\t * 初始化函数\r\n\t */\r\n\tInit:function(){\r\n\t\tthis.JS_Name = app.subGameName + \"_ConfirmManager\";\r\n\t\t//等待玩家确认执行函数\r\n\t\tthis._ConfirmFunc = null;\r\n\r\n\t\t//等待事件类型\r\n\t\tthis._ConfirmMsgID = \"\";\r\n\r\n\t\t//等待事件附加参数列表\r\n\t\tthis._ConfirmBackArgList = [];\r\n\r\n\t\tthis.SysNotifyManager = app[app.subGameName+\"_SysNotifyManager\"]();\r\n\r\n\t},\r\n\tInItData: function () {\r\n\t\t//等待玩家确认执行函数\r\n\t\tthis._ConfirmFunc = null;\r\n\r\n\t\t//等待事件类型\r\n\t\tthis._ConfirmMsgID = \"\";\r\n\r\n\t\t//等待事件附加参数列表\r\n\t\tthis._ConfirmBackArgList = [];\r\n\t},\r\n\t\r\n\t/**\r\n\t * 记录等待确认界面事件\r\n\t * @param {}  curFunc 回调函数\r\n\t * @return {} 0/1\r\n\t * @remarks {} PY调用  \r\n\t */\r\n\tSetWaitForConfirmForm:function(curFunc, msgID, backArgList){\r\n\r\n\t\t//界面不存在\r\n\t\tif(typeof(curFunc) != \"function\"){\r\n\t\t\tconsole.error(\"SetWaitForConfirmForm(%s,%s)error\", curFunc, msgID);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis._ConfirmFunc = curFunc;\r\n\t\tthis._ConfirmMsgID = msgID;\r\n\t\tthis._ConfirmBackArgList = backArgList;\r\n\t},\r\n\r\n\t/**\r\n\t * 修改事件回调参数列表\r\n\t * @param {}  curFunc 回调函数\r\n\t * @return {} 0/1\r\n\t * @remarks {} PY调用\r\n\t */\r\n\tSetConfirmArgList:function(backArgList){\r\n\t\tthis._ConfirmBackArgList = backArgList;\r\n\t},\r\n\r\n\t/**\r\n\t * 带有\"确定\"和\"取消\"按钮的消息提示框\r\n\t * @param {}  msgID 提示信息id\r\n\t * @return {} 0/1\r\n\t * @remarks {} PY调用      \r\n\t */\r\n\tShowConfirm:function(confirmType, msgID, msgArgList){\r\n\t\tlet content = this.SysNotifyManager.GetSysMsgContentByMsgID(msgID, msgArgList);\r\n\t\tapp[app.subGameName + \"_FormManager\"]().ShowForm(app.subGameName + \"_UIMessage\", \"OnConFirm\", confirmType, msgID, msgArgList, content)\r\n\t},\r\n\r\n\t/**\r\n\t * 关闭全部提示框界面\r\n\t * @param {}  self 类本身 \r\n\t * @return {} 无\r\n\t * @remarks {} 函数详细说明:关闭全部提示框界面\r\n\t */\r\n\tCloseAllBox:function(){\r\n\t},\r\n\r\n\t/**\r\n\t * 显示购买按钮\r\n\t * @param {}  msgID 提示信息id\r\n\t * @return {} 0/1\r\n\t * @remarks {} PY调用\r\n\t */\r\n\tShowBuyMsg:function(msgID, msgArgList){\r\n\t\tapp[app.subGameName + \"_FormManager\"]().ShowForm(\"UIAmountAffirm\", msgID, msgArgList)\r\n\t},\r\n\r\n\r\n\t/**\r\n\t * 使用道具界面\r\n\t * @param {}  msgID 提示信息id\r\n\t * @return {} 0/1\r\n\t * @remarks {} PY调用\r\n\t */\r\n\tShowUseMsg:function(msgID, msgArgList){\r\n\t\tconsole.error(\"ShowUseMsg\")\r\n\t},\r\n\r\n\t/**\r\n\t * 等待确认框回调函数\r\n\t * @param {}  result \r\n\t * @return {} null\r\n\t * @remarks {} null\r\n\t */\r\n\tOnConFirmResult:function(clickType){\r\n\r\n\t\tif(!this._ConfirmFunc){\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif(typeof(this._ConfirmFunc) != \"function\"){\r\n\t\t\tconsole.error(\"OnConFirm _ConfirmFunc:%s error\", this._ConfirmFunc);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t//清空\r\n\t\tvar msgID = this._ConfirmMsgID;\r\n\t\tvar func = this._ConfirmFunc;\r\n\t\tvar argList = this._ConfirmBackArgList;\r\n\r\n\t\tthis._ConfirmFunc = null;\r\n\t\tthis._ConfirmBackArgList = [];\r\n\r\n\t\tfunc(clickType, msgID, argList);\r\n\t},\r\n\r\n})\r\n\r\n//定义单例\r\nvar g_sss_ConfirmManager = null;\r\n\r\n/**\r\n * 绑定模块外部方法\r\n */\r\nexports.GetModel = function(){\r\n\tif (!g_sss_ConfirmManager)\r\n\t\tg_sss_ConfirmManager = new sss_ConfirmManager();\r\n\r\n\treturn g_sss_ConfirmManager\r\n\r\n}\r\n"]}
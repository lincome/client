{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\script\\sdk/assets\\script\\sdk\\fjssz_SDKManager.js"],"names":["app","require","fjssz_SDKManager","BaseClass","extend","Init","JS_Name","subGameName","ShareDefine","SysDataManager","HeroManager","ServerTimeManager","NetManager","HeroAccountManager","LocalDataManager","WeChatManager","WeChatAppManager","ComTool","RegHttpNetPack","OnHttpPack_PrepayOrderInfo","Log","OnReload","accountSDKManager","GetAccountSDK","console","error","serverPack","isSuccess","IsSuccess","ShowSysMsg","prepayOrderInfo","PrepayOrderInfo","orderID","OrderID","appID","ProductID","itemType","ItemType","orderType","OrderType","DiamondStore","GetTableDict","diamondStore","appPrice","OrderType_Wechat","ReceivePrepayOrder","OrderType_QRCode","ReceivePrepayQRCodeOrder","OrderType_WechatApp","InitSDKParameter","dataInfo","accountType","GetClientConfigProperty","SDKType_WeChat","InitWeChatSDKParameter","SDKType_Company","SDKType_WeChatApp","IsH5AccountSDK","IsWeChatBrowser","H5AccountSDKTypeList","InArray","IsAppAccountSDK","AppAccountSDKTypeList","GetOrderSDK","Pay","CheckIsAppCheck","SendCreatePrePayOrder","orderSdkManager","GetSDK","LoginBySDK","Login","CheckLoginBySDK","ShareText","title","flag","ShowForm","Share","description","url","argDict","ShareDD","urlStr","argList","CallToNative","ShareMW","ShareXL","ShareLineLink","ShareLineText","ShareScreen","ShareScreenDD","filePath","Capture","ShareImageDD","imagePath","ShareScreenMW","ShareImageMW","ShareScreenXL","ShareImageXL","heroID","GetHeroID","openid","GetAccountProperty","accountID","GetHeroProperty","sendPack","GetHttpSendPack","hasOwnProperty","gameID","mpID","serverID","Math","floor","SendHttpPack","clientConfig","GetClientConfig","checkVersion","localVersion","appPackType","IsIOS","g_fjssz_SDKManager","exports","GetModel"],"mappings":"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","file":"fjssz_SDKManager.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\sdk","sourcesContent":["/*\r\n    sdk管理器\r\n*/\r\nvar app = require(\"fjssz_app\");\r\n\r\nvar fjssz_SDKManager = app.BaseClass.extend({\r\n\r\n\tInit:function(){\r\n\t\tthis.JS_Name = app.subGameName + \"_SDKManager\";\r\n\r\n\t\tthis.ShareDefine = app[app.subGameName+\"_ShareDefine\"]();\r\n\t\tthis.SysDataManager = app[app.subGameName+\"_SysDataManager\"]();\r\n\t\tthis.HeroManager = app[app.subGameName+\"_HeroManager\"]();\r\n\t\tthis.ServerTimeManager = app[app.subGameName+\"_ServerTimeManager\"]();\r\n\t\tthis.NetManager = app[app.subGameName+\"_NetManager\"]();\r\n\t\tthis.HeroAccountManager = app[app.subGameName+\"_HeroAccountManager\"]();\r\n\t\tthis.LocalDataManager = app.LocalDataManager();\r\n\t\tthis.WeChatManager = app[app.subGameName+\"_WeChatManager\"]();\r\n\t\tthis.WeChatAppManager = app[app.subGameName+\"_WeChatAppManager\"]();\r\n\t\tthis.ComTool = app[app.subGameName+\"_ComTool\"]();\r\n\r\n\t\tthis.NetManager.RegHttpNetPack(0x0008, this.OnHttpPack_PrepayOrderInfo, this);\r\n\r\n\t\t//this.OnReload();\r\n\r\n\t\tthis.Log(\"Init\");\r\n\t},\r\n\r\n\tOnReload:function(){\r\n\t\tlet accountSDKManager = this.GetAccountSDK();\r\n\t\tif(!accountSDKManager){\r\n\t\t\tconsole.error(\"OnReload not find sdk\");\r\n\t\t\treturn\r\n\t\t}\r\n\t\treturn accountSDKManager.OnReload();\r\n\t},\r\n\r\n\t//收到预订单服务器信息\r\n\tOnHttpPack_PrepayOrderInfo:function(serverPack){\r\n\t\tlet isSuccess = serverPack.IsSuccess;\r\n\t\tif(!isSuccess){\r\n\t\t\tapp[app.subGameName+\"_SysNotifyManager\"]().ShowSysMsg(\"Order_PrepayOrderFail\");\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tlet prepayOrderInfo = serverPack.PrepayOrderInfo;\r\n\t\tlet orderID = serverPack.OrderID;\r\n\t\tlet appID = prepayOrderInfo.ProductID;\r\n\t\tlet itemType = prepayOrderInfo.ItemType;\r\n\t\tlet orderType = prepayOrderInfo.OrderType;\r\n\r\n\t\tlet DiamondStore = this.SysDataManager.GetTableDict(\"DiamondStore\");\r\n\t\tlet diamondStore = DiamondStore[appID];\r\n\t\tif(!diamondStore){\r\n\t\t\tconsole.error(\"Pay DiamondStore.txt not find:%s\", appID);\r\n\t\t\treturn\r\n\t\t}\r\n\t\tlet appPrice = diamondStore[\"AppPrice\"];\r\n\r\n\t\t// app.TalkingDataManager().RecordStartPay(orderID, itemType, appID, appPrice);\r\n\r\n\t\tif(orderType == this.ShareDefine.OrderType_Wechat){\r\n\t\t\tthis.WeChatManager.ReceivePrepayOrder(serverPack);\r\n\t\t}\r\n\t\telse if(orderType == this.ShareDefine.OrderType_QRCode){\r\n\t\t\tthis.WeChatManager.ReceivePrepayQRCodeOrder(serverPack);\r\n\t\t}\r\n\t\telse if(orderType == this.ShareDefine.OrderType_WechatApp){\r\n\t\t\tthis.WeChatAppManager.ReceivePrepayOrder(serverPack);\r\n\t\t}else if(orderType == 6){\r\n\t\t\tthis.WeChatAppManager.ReceivePrepayOrder(serverPack);\r\n\t\t}\r\n\t\telse{\r\n\t\t\tconsole.error(\"OnHttpPack_PrepayOrderInfo orderType:%s error\", orderType);\r\n\t\t}\r\n\t},\r\n\r\n\t//初始化sdk参数H5启动携带参数\r\n\tInitSDKParameter:function(dataInfo){\r\n\r\n\t\tlet accountType = app[app.subGameName + \"Client\"].GetClientConfigProperty(\"AccountType\");\r\n\r\n\r\n\t\t//微信登录\r\n\t\tif(accountType == this.ShareDefine.SDKType_WeChat){\r\n\t\t\tthis.WeChatManager.InitWeChatSDKParameter(dataInfo);\r\n\t\t}\r\n\t\t//官网登录\r\n\t\telse if(accountType == this.ShareDefine.SDKType_Company){\r\n\r\n\t\t}\r\n\t\t//微信app授权\r\n\t\telse if(accountType == this.ShareDefine.SDKType_WeChatApp){\r\n\t\t}\r\n\t\telse{\r\n\t\t\t// this.SysLog(\"InitSDKParameter(%s):\", accountType, dataInfo);\r\n\t\t}\r\n\t},\r\n\r\n\t//H5sdk\r\n\tIsH5AccountSDK:function(){\r\n\r\n\t\tlet accountType = app[app.subGameName + \"Client\"].GetClientConfigProperty(\"AccountType\");\r\n\r\n\t\t//如果是微信公众授权,需要判断是否是微信浏览器\r\n\t\tif(accountType == this.ShareDefine.SDKType_WeChat) {\r\n\t\t\tif (this.ComTool.IsWeChatBrowser()) {\r\n\t\t\t\treturn true\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif(this.ShareDefine.H5AccountSDKTypeList.InArray(accountType)){\r\n\t\t\treturn true\r\n\t\t}\r\n\t\treturn false\r\n\t},\r\n\r\n\t//appsdk\r\n\tIsAppAccountSDK:function(){\r\n\t\tlet accountType = app[app.subGameName + \"Client\"].GetClientConfigProperty(\"AccountType\");\r\n\t\tif(this.ShareDefine.AppAccountSDKTypeList.InArray(accountType)){\r\n\t\t\treturn true\r\n\t\t}\r\n\t\treturn false\r\n\t},\r\n\r\n\tGetAccountSDK:function(){\r\n\t\tlet accountType = app[app.subGameName + \"Client\"].GetClientConfigProperty(\"AccountType\");\r\n\t\tif(accountType == this.ShareDefine.SDKType_WeChat){\r\n\t\t\treturn this.WeChatManager\r\n\t\t}\r\n\t\telse if(accountType == this.ShareDefine.SDKType_WeChatApp) {\r\n\t\t\treturn this.WeChatAppManager;\r\n\t\t}\r\n\t\telse{\r\n\t\t\tconsole.error(\"accountSDKType:%s\", accountType);\r\n\t\t\treturn\r\n\t\t}\r\n\t},\r\n\r\n\tGetOrderSDK:function(){\r\n\t\tlet orderType = app[app.subGameName + \"Client\"].GetClientConfigProperty(\"OrderType\");\r\n\r\n\t\tif(orderType == this.ShareDefine.OrderType_Wechat){\r\n\t\t\treturn this.WeChatManager;\r\n\t\t}\r\n\t\telse if(orderType == this.ShareDefine.OrderType_QRCode){\r\n\t\t\treturn this.WeChatManager;\r\n\t\t}\r\n\t\telse if(orderType == this.ShareDefine.OrderType_WechatApp){\r\n\t\t\treturn this.WeChatAppManager\r\n\t\t}\r\n\t\telse {\r\n\t\t\tconsole.error(\"GetOrderSDK:%s\", orderType);\r\n\t\t\treturn null\r\n\t\t}\r\n\t},\r\n\r\n\t//支付入口\r\n\tPay:function(appID){\r\n\t\tif (this.CheckIsAppCheck()) {\r\n\t\t\tthis.SendCreatePrePayOrder(\"Diamond\", appID);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlet orderSdkManager = this.GetOrderSDK();\r\n\t\tif(!orderSdkManager){\r\n\t\t\tconsole.error(\"pay not orderSdkManager\");\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif(!orderSdkManager.GetSDK()){\r\n\t\t\tconsole.error(\"pay not sdk\");\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tthis.SendCreatePrePayOrder(\"Diamond\", appID);\r\n\r\n\t},\r\n\r\n\t//登录授权\r\n\tLoginBySDK:function(){\r\n\t\tlet accountSDKManager = this.GetAccountSDK();\r\n\t\tif(!accountSDKManager){\r\n\t\t\tconsole.error(\"LoginBySDK not find sdk\");\r\n\t\t\treturn\r\n\t\t}\r\n\t\taccountSDKManager.Login();\r\n\t},\r\n\r\n\t//检查登录是否是短线重登\r\n\tCheckLoginBySDK:function(){\r\n\t\tlet accountSDKManager = this.GetAccountSDK();\r\n\t\tif(!accountSDKManager){\r\n\t\t\tconsole.error(\"CheckLoginBySDK not find sdk\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn accountSDKManager.CheckLoginBySDK();\r\n\t},\r\n\tShareText:function(title,flag){\r\n\t\tlet accountType = app[app.subGameName + \"Client\"].GetClientConfigProperty(\"AccountType\");\r\n\t\tif(accountType == this.ShareDefine.SDKType_WeChatApp){\r\n\t\t\tthis.WeChatAppManager.ShareText(title,flag);\r\n\t\t}else if(accountType == this.ShareDefine.SDKType_WeChat){\r\n\t\t\tapp[app.subGameName+\"_FormManager\"]().ShowForm(\"UIMessageWeiXinShare\");\r\n\t\t}\r\n\t\telse{\r\n\t\t\tconsole.error(\"Share not find SDKType_WeChatApp\");\r\n\t\t}\r\n\t},\r\n\t//吊起微信APP分享\r\n\t//title:分享的标题\r\n\t//description:分享的描述\r\n\t//argDict:分享携带的参数字典(\"ShareRoomKey\":11111)\r\n\t//url:分享携带的点击跳转地址\r\n\t//flag:native分享是需要指定\"0\":朋友,\"1\":朋友圈\r\n\t//\r\n\tShare:function(title, description, url, flag, argDict){\r\n\t\tlet accountType = app[app.subGameName + \"Client\"].GetClientConfigProperty(\"AccountType\");\r\n\t\tif(accountType == this.ShareDefine.SDKType_WeChatApp){\r\n\t\t\tthis.WeChatAppManager.Share(title, description, url, flag, argDict);\r\n\t\t}else if(accountType == this.ShareDefine.SDKType_WeChat){\r\n\t\t\tapp[app.subGameName+\"_FormManager\"]().ShowForm(\"UIMessageWeiXinShare\");\r\n\t\t}\r\n\t\telse{\r\n\t\t\tconsole.error(\"Share not find SDKType_WeChatApp\");\r\n\t\t}\r\n\r\n\t},\r\n\tShareDD:function(title,description,urlStr){\r\n\t\tlet argList = [{\"Name\":\"title\",\"Value\":title},{\"Name\":\"description\",\"Value\":description},{\"Name\":\"urlStr\",\"Value\":urlStr}];\r\n\t\tapp[app.subGameName+\"_NativeManager\"]().CallToNative(\"OnDDWeChatShare\", argList);\r\n\t},\r\n\tShareMW:function(title,description,urlStr){\r\n\t\tlet argList = [{\"Name\":\"Title\",\"Value\":title},{\"Name\":\"description\",\"Value\":description},{\"Name\":\"urlStr\",\"Value\":urlStr},{\"Name\":\"roomID\",\"Value\":'roomID'},{\"Name\":\"roomToken\",\"Value\":\"roomToken\"}];\r\n\t\tapp[app.subGameName + \"_NativeManager\"]().CallToNative(\"OnMWShare\", argList);\r\n\t},\r\n\tShareXL:function(title,description,urlStr){\r\n\t\tlet argList = [{\"Name\":\"Title\",\"Value\":title},{\"Name\":\"description\",\"Value\":description},{\"Name\":\"urlStr\",\"Value\":urlStr},{\"Name\":\"roomID\",\"Value\":'roomID'},{\"Name\":\"roomToken\",\"Value\":\"roomToken\"}];\r\n\t\tapp[app.subGameName+\"_NativeManager\"]().CallToNative(\"OnXLShare\", argList);\r\n\t},\r\n\tShareLineLink:function(title,description,urlStr){\r\n\t\tlet argList = [{\"Name\":\"Title\",\"Value\":title},{\"Name\":\"description\",\"Value\":description},{\"Name\":\"urlStr\",\"Value\":urlStr}];\r\n\t\tapp[app.subGameName + \"_NativeManager\"]().CallToNative(\"OnLineShareLink\", argList);\r\n\t},\r\n\tShareLineText:function(title,description){\r\n\t\tlet argList = [{\"Name\":\"Title\",\"Value\":title},{\"Name\":\"description\",\"Value\":description}];\r\n\t\tapp[app.subGameName + \"_NativeManager\"]().CallToNative(\"OnLineShareText\", argList);\r\n\t},\r\n\t//微信全屏分享\r\n\tShareScreen:function(flag){\r\n\t\tlet accountType = app[app.subGameName + \"Client\"].GetClientConfigProperty(\"AccountType\");\r\n\t\tif(accountType == this.ShareDefine.SDKType_WeChatApp){\r\n\t\t\tthis.WeChatAppManager.ShareScreen(flag);\r\n\t\t}else if(accountType == this.ShareDefine.SDKType_WeChat){\r\n\t\t\tapp[app.subGameName+\"_FormManager\"]().ShowForm(\"UIMessageWeiXinShare\");\r\n\t\t}\r\n\t\telse{\r\n\t\t\tconsole.error(\"Share not find SDKType_WeChatApp\");\r\n\t\t}\r\n\t},\r\n\tShareScreenDD:function(){\r\n\t\tlet filePath = this.WeChatAppManager.Capture();\r\n\t\tif (filePath != \"\") {\r\n\t\t\tthis.ShareImageDD(filePath);\r\n\t\t}\r\n\t},\r\n\tShareImageDD:function(imagePath){\r\n\t\tlet argList = [{\"Name\":\"imagePath\",\"Value\":imagePath}];\r\n\t\tapp[app.subGameName+\"_NativeManager\"]().CallToNative(\"OnDDWeChatShareImage\", argList);\r\n\t},\r\n\tShareScreenMW:function(){\r\n\t\tlet filePath = this.WeChatAppManager.Capture();\r\n\t\tif (filePath != \"\") {\r\n\t\t\tthis.ShareImageMW(filePath);\r\n\t\t}\r\n\t},\r\n\tShareImageMW:function(imagePath){\r\n\t\tlet argList = [{\"Name\":\"ImagePath\",\"Value\":imagePath}];\r\n\t\tapp[app.subGameName + \"_NativeManager\"]().CallToNative(\"OnMWShareImage\", argList);\r\n\t},\r\n\tShareScreenXL:function(){\r\n\t\tlet filePath = this.WeChatAppManager.Capture();\r\n\t\tif (filePath != \"\") {\r\n\t\t\tthis.ShareImageXL(filePath);\r\n\t\t}\r\n\t},\r\n\tShareImageXL:function(imagePath){\r\n\t\tlet argList = [{\"Name\":\"ImagePath\",\"Value\":imagePath}];\r\n\t\tapp[app.subGameName+\"_NativeManager\"]().CallToNative(\"OnXLShareImage\", argList);\r\n\t},\r\n\r\n\r\n\r\n\t//----------------发包接口------------------------\r\n\t//发送创建预付订单申请\r\n\tSendCreatePrePayOrder:function(itemType, appID){\r\n\t\tlet heroID = this.HeroManager.GetHeroID();\r\n\t\tif(!heroID){\r\n\t\t\tconsole.error(\"SendCreatePrePayOrder not heroID\");\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tlet openid = this.HeroAccountManager.GetAccountProperty(\"Openid\");\r\n\t\tlet accountID = this.HeroManager.GetHeroProperty(\"accountID\");\r\n\t\tlet sendPack = this.NetManager.GetHttpSendPack(0xFF0A);\r\n\r\n\t\tlet DiamondStore = this.SysDataManager.GetTableDict(\"DiamondStore\");\r\n\t\tif(!DiamondStore.hasOwnProperty(appID)){\r\n\t\t\tconsole.error(\"SendCreatePrePayOrder DiamondStore.txt not find %s\", appID);\r\n\t\t\treturn\r\n\t\t}\r\n\t\tlet appPrice = DiamondStore[appID][\"AppPrice\"] * 100;\r\n\r\n\t\tlet gameID = app[app.subGameName + \"Client\"].GetClientConfigProperty(\"GameID\");\r\n\t\tlet mpID = app[app.subGameName + \"Client\"].GetClientConfigProperty(\"MPID\");\r\n\t\tlet orderType = app[app.subGameName + \"Client\"].GetClientConfigProperty(\"OrderType\");\r\n\t\tlet serverID = app[app.subGameName + \"Client\"].GetClientConfigProperty(\"ServerID\");\r\n\r\n\t\tif(!mpID){\r\n\t\t\tconsole.error(\"SendCreatePrePayOrder not find MPID\");\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\r\n\t\tif (this.CheckIsAppCheck()) {\r\n\t\t\torderType = 6;\r\n\t\t}\r\n\r\n\t\tsendPack[\"ServerName\"] = gameID;\r\n\t\tsendPack[\"ServerID\"] = serverID;\r\n\t\tsendPack[\"HeroID\"] = heroID;\r\n\t\tsendPack[\"AccountID\"] = accountID;\r\n\t\tsendPack[\"ItemType\"] = itemType;\r\n\t\tsendPack[\"ProductID\"] = Math.floor(appID);\r\n\t\tsendPack[\"AppPrice\"] = appPrice;\r\n\t\tsendPack[\"OrderType\"] = orderType;\r\n\t\tsendPack[\"MPID\"] = mpID;\r\n\t\tsendPack[\"Openid\"] = openid;\r\n\r\n\t\t//console.log('SendCreatePrePayOrder pack', JSON.stringify(sendPack));\r\n\r\n\t\tthis.NetManager.SendHttpPack(sendPack)\r\n\t},\r\n\r\n\r\n\t//是否是苹果送检版本\r\n\tCheckIsAppCheck:function(){\r\n\t\tlet flag = false;\r\n\t\tlet clientConfig = app[app.subGameName + \"Client\"].GetClientConfig();\r\n\t\t//let checkVersion = app[app.subGameName+\"_ComTool\"]().IsIOS() ?app[app.subGameName+\"_NativeManager\"]().CallToNative(\"checkVersion\", []) : false;\r\n\t\tlet checkVersion = false;\r\n\t\t//let localVersion = app[app.subGameName+\"_ComTool\"]().IsIOS() ? app[app.subGameName+\"_NativeManager\"]().CallToNative(\"getVersion\", [], \"String\") : \"\";\r\n\t\tlet localVersion = '';\r\n\t\tlet appPackType = false;\t\t// this.SysLog(\"app.PackDefine.APPLE_CHECK:%s,clientConfig[appPackType]:%s\", app.PackDefine().APPLE_CHECK , clientConfig[\"appPackType\"]);\r\n\t\t// this.SysLog(\"checkVersion:%s, appPackType:%s， clientConfig[appPackType]:%s,\", checkVersion, appPackType, clientConfig[\"appPackType\"]);\r\n\t\t// this.SysLog(\"appCheckVersion:%s\",JSON.stringify( app[app.subGameName + \"Client\"].GetClientConfig()));\r\n\t\t// this.SysLog(\"appCheckVersion:%s, localVersion:%s\", app[app.subGameName + \"Client\"].GetClientConfigProperty(\"appCheckVersion\"), localVersion);\r\n\r\n\t\tif (app[app.subGameName+\"_ComTool\"]().IsIOS() && appPackType &&   app[app.subGameName + \"Client\"].GetClientConfigProperty(\"appCheckVersion\") == localVersion)  {\r\n\t\t\tflag = true;\r\n\t\t}\r\n\t\treturn flag;\r\n\t},\r\n});\r\n\r\nvar g_fjssz_SDKManager = null;\r\n\r\n/**\r\n * 绑定模块外部方法\r\n */\r\nexports.GetModel = function(){\r\n\tif(!g_fjssz_SDKManager){\r\n\t\tg_fjssz_SDKManager = new fjssz_SDKManager();\r\n\t}\r\n\treturn g_fjssz_SDKManager;\r\n}"]}
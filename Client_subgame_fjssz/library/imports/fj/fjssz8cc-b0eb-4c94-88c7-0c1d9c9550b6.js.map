{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\script\\game\\FJSSZ\\ui/assets\\script\\game\\FJSSZ\\ui\\UIFJSSZ_Mark.js"],"names":["app","require","cc","Class","extends","subGameName","properties","OnCreateInit","gameName","ZorderLv","ZorderLv6","lb_roomkey","GetWndComponent","Label","lb_jushu","btn_record","node","getChildByName","btn_gps","RoomMgr","toUpperCase","RegEvent","Event_SetStart","Event_RoomRecord","OnShow","isCoinRoom","active","ShowGamesNumber","room","GetEnterRoom","string","GetRoomProperty","current","GetRoomConfigByProperty","setID","i18n","t","event","ShowForm","OnClick","btnName","btnNode","roomID","SendRoomRecord","OnBtn_GPS_Click","console","error","playerNum","ShowSysMsg","FormManager","IsFormShow","CloseForm"],"mappings":"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","file":"UIFJSSZ_Mark.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\script\\game\\FJSSZ\\ui","sourcesContent":["var app = require(\"fjssz_app\");\r\ncc.Class({\r\n\textends: require(app.subGameName + \"_BaseForm\"),\r\n\r\n\tproperties: {},\r\n\r\n\tOnCreateInit: function () {\r\n\t\tthis.gameName = app[\"subGameName\"];\r\n\t\tthis.ZorderLv = this.ZorderLv6;\r\n\t\tthis.lb_roomkey = this.GetWndComponent(\"lb_roomkey\", cc.Label);\r\n\t\tthis.lb_jushu = this.GetWndComponent(\"lb_roomkey\", cc.Label);\r\n\t\tthis.btn_record = this.node.getChildByName(\"btn_record\");\r\n\t\tthis.btn_gps = this.node.getChildByName(\"btn_gps\");\r\n\r\n\t\tthis.RoomMgr = app[this.gameName.toUpperCase() + \"RoomMgr\"]();\r\n\t\tthis.RegEvent(\"SSSSetStart\", this.Event_SetStart);\r\n\t\tthis.RegEvent(\"RoomRecord\", this.Event_RoomRecord);\r\n\t},\r\n\tOnShow: function () {\r\n\t\tif (app[this.gameName + \"_ShareDefine\"]().isCoinRoom) {\r\n\t\t\tthis.btn_record.active = false;\r\n\t\t\tthis.btn_gps.active = false;\r\n\t\t} else {\r\n\t\t\tthis.btn_record.active = true;\r\n\t\t\tthis.btn_gps.active = false;\r\n\t\t}\r\n\t\tthis.ShowGamesNumber();\r\n\t},\r\n\tShowGamesNumber: function () {\r\n\t\tlet room = this.RoomMgr.GetEnterRoom();\r\n\t\tthis.lb_roomkey.string = room.GetRoomProperty(\"key\");\r\n\t\tlet current = room.GetRoomConfigByProperty(\"setCount\");\r\n\t\tlet setID = room.GetRoomProperty(\"setID\");\r\n\t\tthis.lb_jushu.string = app.i18n.t(\"UIMarkJuShu\", {\"Current\": setID, \"Total\": current});\r\n\t},\r\n\t//---------回调函数-------------------\r\n\tEvent_SetStart: function (event) {\r\n\t\tthis.ShowGamesNumber();\r\n\t},\r\n\tEvent_RoomRecord: function (event) {\r\n\t\tapp[this.gameName + \"_FormManager\"]().ShowForm(this.gameName + \"UIRecord\");\r\n\t},\r\n\t//---------点击函数---------------------\r\n\tOnClick: function (btnName, btnNode) {\r\n\t\tif (btnName == \"btn_record\") {\r\n\t\t\tlet roomID = this.RoomMgr.GetEnterRoom().GetRoomProperty(\"roomID\");\r\n\t\t\tthis.RoomMgr.SendRoomRecord(roomID);\r\n\t\t} else if (btnName == \"btn_gps\") {\r\n\t\t\tthis.OnBtn_GPS_Click();\r\n\t\t} else if (btnName == \"btn_help\") {\r\n\t\t\tapp[app.subGameName + \"_FormManager\"]().ShowForm(this.gameName+\"UIGameHelp\");\r\n\t\t} else {\r\n\t\t\tconsole.error(\"OnClick not find%s\", btnName);\r\n\t\t}\r\n\t},\r\n\r\n\t//GPS按钮点击\r\n\tOnBtn_GPS_Click: function () {\r\n\t\tlet playerNum = 2;\r\n\t\tif (playerNum <= 2) {\r\n\t\t\tapp[app.subGameName + \"_SysNotifyManager\"]().ShowSysMsg('MSG_GPS_LOST_PLAYER');\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (this.FormManager.IsFormShow(\"UIGPS\")) {\r\n\t\t\tthis.FormManager.CloseForm(\"UIGPS\");\r\n\t\t} else {\r\n\t\t\tthis.FormManager.ShowForm(\"UIGPS\");\r\n\t\t}\r\n\t},\r\n\r\n\r\n});\r\n"]}
{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\script\\game\\FJSSZ\\ui/assets\\script\\game\\FJSSZ\\ui\\UIFJSSZ_ResultTotal.js"],"names":["app","require","cc","Class","extends","subGameName","properties","room_Id","Label","end_Time","lb_jushu","resultPrefab01","Prefab","resultPrefab02","layout_player","Node","OnCreateInit","SSSRoomMgr","toUpperCase","SSSRoom","SSSRoomPosMgr","ComTool","HeroManager","SDKManager","isZhanJi","RegEvent","CloseForm","ChangeLayoutType","playerlist","removeAllChildren","playerCount","length","type","Layout","Type","VERTICAL","GRID","OnShow","basedata","IsAutoPlayIng","SetAutoPlayIng","SetWndProperty","SetPlayerInfo2","room","GetEnterRoom","roomID","GetRoomProperty","SendEndRoom","SetPlayerInfo","ShareDefine","isCoinRoom","playerList","console","log","string","key","setID","ownerID","i18n","t","GetDateYearMonthDayHourMinuteString","pointList","idx","playerNode","instantiate","name","getChildByName","active","addChild","player","getComponent","pid","GetPid","ShowHeroHead","i","point","sumPoint","win","transport","flat","bigWinner","roomEnd","record","winCount","loseCount","flatCount","OnClick","btnName","btnNode","roomCfg","GetRoomConfig","isContinue","ShareScreen","ExitGame","ShowForm","paymentRoomCardType","SendPack","FailCreate","bind","error","serverPack","indexOf","desc","GetSysMsgContentByMsgID","SetWaitForConfirmForm","OnConFirm","ConfirmBuyGoTo","Msg","clickType","msgID","backArgList","clientConfig","GetClientConfig","PackDefine","APPLE_CHECK"],"mappings":"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","file":"UIFJSSZ_ResultTotal.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\script\\game\\FJSSZ\\ui","sourcesContent":["var app = require(\"fjssz_app\");\r\ncc.Class({\r\n    extends: require(app.subGameName + \"_BaseForm\"),\r\n\r\n    properties: {\r\n        room_Id:cc.Label,\r\n        end_Time:cc.Label,\r\n        lb_jushu:cc.Label,\r\n        resultPrefab01:cc.Prefab,\r\n        resultPrefab02:cc.Prefab,\r\n        layout_player:cc.Node,\r\n    },\r\n\r\n    OnCreateInit: function () {\r\n        this.SSSRoomMgr = app[app.subGameName.toUpperCase() + \"RoomMgr\"]();\r\n        this.SSSRoom = app[app.subGameName.toUpperCase() + \"Room\"]();\r\n        this.SSSRoomPosMgr = app[app.subGameName.toUpperCase() + \"RoomPosMgr\"]();\r\n        this.ComTool = app[app.subGameName+\"_ComTool\"]();\r\n        this.HeroManager = app[app.subGameName + \"_HeroManager\"]()\r\n        this.SDKManager = app[app.subGameName + \"_SDKManager\"]();\r\n        this.isZhanJi=false;\r\n        this.RegEvent(\"EVT_CloseDetail\", this.CloseForm, this);\r\n    },\r\n\r\n    ChangeLayoutType:function(playerlist){\r\n        this.layout_player.removeAllChildren();\r\n        this.playerCount = playerlist.length;\r\n        if(this.playerCount < 5){\r\n            this.layout_player.type = cc.Layout.Type.VERTICAL;\r\n        }\r\n        else{\r\n            this.layout_player.type = cc.Layout.Type.GRID;\r\n        }\r\n    },\r\n    \r\n    OnShow:function(basedata=false,playerlist=false){\r\n        \r\n        app[app.subGameName + \"_FormManager\"]().CloseForm(\"UISSS_Result01\");\r\n\r\n        //假如有托管界面，则关闭\r\n        if(app[app.subGameName + \"_GameManager\"]().IsAutoPlayIng()){\r\n            app[app.subGameName + \"_GameManager\"]().SetAutoPlayIng(false);\r\n            app[app.subGameName + \"_FormManager\"]().CloseForm(\"UIAutoPlay\");\r\n        }\r\n        if(basedata){\r\n            this.ChangeLayoutType(playerlist);\r\n            this.SetWndProperty(\"btn_detail\", \"active\",false);\r\n            this.SetWndProperty(\"btn_lists/btn_out\", \"active\",false);\r\n            this.SetWndProperty(\"btn_lists/btn_close\", \"active\",true);\r\n            this.SetWndProperty(\"btn_lists/btn_pingfenkaiju\", \"active\",false);\r\n            this.SetWndProperty(\"btn_lists/btn_wolaikaiju\", \"active\",false);\r\n            this.SetWndProperty(\"btn_lists/btn_dayingjiakaiju\", \"active\",false);\r\n            this.isZhanJi=true;\r\n            this.SetPlayerInfo2(basedata,playerlist);\r\n        }else{\r\n            let room = this.SSSRoomMgr.GetEnterRoom();\r\n            let roomID = room.GetRoomProperty(\"roomID\");\r\n            this.SSSRoomMgr.SendEndRoom(roomID);\r\n\r\n            this.SetWndProperty(\"btn_detail\", \"active\",true);\r\n            this.SetWndProperty(\"btn_lists/btn_close\", \"active\",false);\r\n            this.SetWndProperty(\"btn_lists/btn_out\", \"active\",true);\r\n            this.SetWndProperty(\"btn_lists/btn_pingfenkaiju\", \"active\",false);\r\n            this.SetWndProperty(\"btn_lists/btn_wolaikaiju\", \"active\",false);\r\n            this.SetWndProperty(\"btn_lists/btn_dayingjiakaiju\", \"active\",false);\r\n            this.isZhanJi=false;\r\n            this.SetPlayerInfo();\r\n        }\r\n        if(this.ShareDefine.isCoinRoom){\r\n            //练习场关闭下局开始\r\n            this.SetWndProperty(\"btn_lists/btn_pingfenkaiju\", \"active\",false);\r\n            this.SetWndProperty(\"btn_lists/btn_wolaikaiju\", \"active\",false);\r\n            this.SetWndProperty(\"btn_lists/btn_dayingjiakaiju\", \"active\",false);\r\n        }\r\n    },\r\n    SetPlayerInfo2:function(basedata,playerList){\r\n        console.log(\"SetPlayerInfo2 basedata:\",basedata);\r\n        console.log(\"SetPlayerInfo2 playerList:\",playerList);\r\n        this.room_Id.string = \"房间号:\" + basedata.key;\r\n        let setID = basedata[\"setId\"];\r\n        let ownerID = basedata[\"ownerID\"];\r\n        this.lb_jushu.string = app.i18n.t(\"UIWanFa_setCount\", {\"setCount\": setID});\r\n        this.end_Time.string = this.ComTool.GetDateYearMonthDayHourMinuteString(basedata['endTime']);\r\n        \r\n        //let playerList = record[\"players\"];\r\n        let pointList = basedata[\"countRecords\"];\r\n\r\n        for(let idx = 0; idx < playerList.length; idx++){\r\n            let playerNode = null;\r\n            if(this.playerCount > 4){\r\n                playerNode = cc.instantiate(this.resultPrefab02);\r\n                playerNode.name = \"player\"+idx;\r\n                playerNode.getChildByName(\"topTitle\").active = false;\r\n                this.layout_player.addChild(playerNode);\r\n                if(idx == 0 || idx == 1){\r\n                    playerNode.getChildByName(\"topTitle\").active = true;\r\n                }\r\n            }\r\n            else{\r\n                playerNode = cc.instantiate(this.resultPrefab01);\r\n                playerNode.name = \"player\"+idx;\r\n                playerNode.getChildByName(\"topTitle\").active = false;\r\n                this.layout_player.addChild(playerNode);\r\n                if(idx == 0){\r\n                    playerNode.getChildByName(\"topTitle\").active = true;\r\n                }\r\n            }\r\n\r\n            let player = playerList[idx];\r\n            let name = player[\"name\"];\r\n\r\n            playerNode.getChildByName(\"user_info\").getChildByName(\"lable_name\").getComponent(cc.Label).string = name;\r\n\r\n            let pid = player[\"pid\"];\r\n            playerNode.getChildByName(\"user_info\").getChildByName(\"label_id\").getComponent(cc.Label).string = this.ComTool.GetPid(pid);\r\n            playerNode.getChildByName(\"user_info\").getChildByName(\"head_img\").getComponent(app.subGameName + \"_WeChatHeadImage\").ShowHeroHead(pid);\r\n\r\n            //判断房主是谁\r\n            let ownerID = this.SSSRoom.GetRoomProperty(\"ownerID\");\r\n            if(ownerID == player.pid){\r\n                playerNode.getChildByName(\"user_info\").getChildByName(\"fangzhu\").active = true;\r\n            }\r\n\r\n            //显示数据\r\n            for(let i = 0; i < pointList.length; i++){\r\n                let point = pointList[i];\r\n                if(player.pid == point.pid){\r\n                    if(point.sumPoint >= 0){\r\n                        playerNode.getChildByName(\"lb_win_num\").active = true;\r\n                        playerNode.getChildByName(\"lb_win_num\").getComponent(cc.Label).string = \"+\" + point.sumPoint;\r\n                        playerNode.getChildByName(\"lb_lose_num\").active = false;\r\n                    }\r\n                    else{\r\n                        playerNode.getChildByName(\"lb_lose_num\").active = true;\r\n                        playerNode.getChildByName(\"lb_lose_num\").getComponent(cc.Label).string = point.sumPoint;\r\n                        playerNode.getChildByName(\"lb_win_num\").active = false;\r\n                    }\r\n\r\n                    playerNode.getChildByName(\"lb_win\").getComponent(cc.Label).string = point.win;\r\n                    playerNode.getChildByName(\"lb_lose\").getComponent(cc.Label).string = point.transport;\r\n                    playerNode.getChildByName(\"lb_ping\").getComponent(cc.Label).string = point.flat;\r\n\r\n                    if(point.bigWinner){\r\n                        playerNode.getChildByName(\"icon_win\").active = true;\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    SetPlayerInfo:function () {\r\n        let room = this.SSSRoomMgr.GetEnterRoom();\r\n        let roomEnd = room.GetRoomProperty(\"roomEnd\");\r\n        let record = roomEnd[\"record\"];\r\n\r\n        this.room_Id.string = \"房间号:\" + record['key'];\r\n        let setID = record[\"setCnt\"];\r\n        this.lb_jushu.string = app.i18n.t(\"UIWanFa_setCount\", {\"setCount\": setID});\r\n        this.end_Time.string = this.ComTool.GetDateYearMonthDayHourMinuteString(record['endSec']);\r\n        \r\n        let playerList = record[\"players\"];\r\n        let pointList = record[\"recordPosInfosList\"];\r\n\r\n        this.ChangeLayoutType(playerList);\r\n\r\n        for(let idx = 0; idx < playerList.length; idx++){\r\n\r\n            let playerNode = null;\r\n            if(this.playerCount > 4){\r\n                playerNode = cc.instantiate(this.resultPrefab02);\r\n                playerNode.name = \"player\"+idx;\r\n                playerNode.getChildByName(\"topTitle\").active = false;\r\n                this.layout_player.addChild(playerNode);\r\n                if(idx == 0 || idx == 1){\r\n                    playerNode.getChildByName(\"topTitle\").active = true;\r\n                }\r\n            }\r\n            else{\r\n                playerNode = cc.instantiate(this.resultPrefab01);\r\n                playerNode.name = \"player\"+idx;\r\n                playerNode.getChildByName(\"topTitle\").active = false;\r\n                this.layout_player.addChild(playerNode);\r\n                if(idx == 0){\r\n                    playerNode.getChildByName(\"topTitle\").active = true;\r\n                }\r\n            }\r\n\r\n            let player = playerList[idx];\r\n            let name = player[\"name\"];\r\n\r\n            playerNode.getChildByName(\"user_info\").getChildByName(\"lable_name\").getComponent(cc.Label).string = name;\r\n\r\n            let pid = player[\"pid\"];\r\n            playerNode.getChildByName(\"user_info\").getChildByName(\"label_id\").getComponent(cc.Label).string = this.ComTool.GetPid(pid);\r\n            playerNode.getChildByName(\"user_info\").getChildByName(\"head_img\").getComponent(app.subGameName + \"_WeChatHeadImage\").ShowHeroHead(pid);\r\n\r\n            //判断房主是谁\r\n            let ownerID = this.SSSRoom.GetRoomProperty(\"ownerID\");\r\n            if(ownerID == player.pid){\r\n                playerNode.getChildByName(\"user_info\").getChildByName(\"fangzhu\").active = true;\r\n            }\r\n\r\n            //显示数据\r\n            for(let i = 0; i < pointList.length; i++){\r\n                let point = pointList[i];\r\n                if(player.pid == point.pid){\r\n                    if(point.sumPoint >= 0){\r\n                        playerNode.getChildByName(\"lb_win_num\").active = true;\r\n                        playerNode.getChildByName(\"lb_win_num\").getComponent(cc.Label).string = \"+\" + point.point;\r\n                        playerNode.getChildByName(\"lb_lose_num\").active = false;\r\n                    }\r\n                    else{\r\n                        playerNode.getChildByName(\"lb_lose_num\").active = true;\r\n                        playerNode.getChildByName(\"lb_lose_num\").getComponent(cc.Label).string = point.point;\r\n                        playerNode.getChildByName(\"lb_win_num\").active = false;\r\n                    }\r\n\r\n                    playerNode.getChildByName(\"lb_win\").getComponent(cc.Label).string = point.winCount;\r\n                    playerNode.getChildByName(\"lb_lose\").getComponent(cc.Label).string = point.loseCount;\r\n                    playerNode.getChildByName(\"lb_ping\").getComponent(cc.Label).string = point.flatCount;\r\n\r\n                    if(point.bigWinner){\r\n                        playerNode.getChildByName(\"icon_win\").active = true;\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    },\r\n    \r\n    OnClick:function(btnName, btnNode){\r\n        let room = app[app.subGameName.toUpperCase() + \"Room\"]();\r\n        let roomCfg={};\r\n        if(room && this.isZhanJi==false){\r\n            roomCfg = room.GetRoomConfig();\r\n            roomCfg.isContinue=true;\r\n        }\r\n        if(btnName == \"btn_share\"){\r\n\t        this.SDKManager.ShareScreen();\r\n        }\r\n        else if(btnName == \"btn_out\"){\r\n\t        app[app.subGameName + \"Client\"].ExitGame();\r\n        }\r\n        else if(btnName == \"btn_detail\"){\r\n            app[app.subGameName + \"_FormManager\"]().ShowForm(\"game/SSS/UISSS_Record\");\r\n        }else if(btnName==\"btn_close\"){\r\n            this.CloseForm();\r\n        }else if(btnName == \"btn_pingfenkaiju\"){\r\n            roomCfg.paymentRoomCardType=1;\r\n            app[app.subGameName + \"_NetManager\"]().SendPack(\"sss.CSSSCreateRoom\",roomCfg,function(){},this.FailCreate.bind(this));\r\n        }else if(btnName == \"btn_wolaikaiju\"){\r\n            roomCfg.paymentRoomCardType=0;\r\n            app[app.subGameName + \"_NetManager\"]().SendPack(\"sss.CSSSCreateRoom\",roomCfg,function(){},this.FailCreate.bind(this));\r\n        }else if(btnName == \"btn_dayingjiakaiju\"){\r\n            roomCfg.paymentRoomCardType=2;\r\n            app[app.subGameName + \"_NetManager\"]().SendPack(\"sss.CSSSCreateRoom\",roomCfg,function(){},this.FailCreate.bind(this));\r\n        }\r\n        else{\r\n            console.error(\"OnClick not find btnName(%s)\", btnName);\r\n        }\r\n    },\r\n    FailCreate:function(serverPack){\r\n        if(serverPack['Msg'].indexOf('RoomCard need roomCard')>-1){\r\n            let desc = app[app.subGameName + \"_SysNotifyManager\"]().GetSysMsgContentByMsgID(\"MSG_NotRoomCard\");\r\n            app[app.subGameName + \"_ConfirmManager\"]().SetWaitForConfirmForm(this.OnConFirm.bind(this), \"goBuyCard\", []);\r\n            app[app.subGameName + \"_FormManager\"]().ShowForm(\"UIMessage\", null, this.ShareDefine.ConfirmBuyGoTo, 0, 0, desc)\r\n            return;\r\n        }else{\r\n            console.error(\"FailCreate Room Msg:(%s)\",serverPack.Msg);\r\n        }\r\n    },\r\n    OnConFirm:function(clickType, msgID, backArgList){\r\n        if(clickType != \"Sure\"){\r\n            return\r\n        }\r\n        if(\"goBuyCard\" == msgID){\r\n            let clientConfig = app[app.subGameName + \"Client\"].GetClientConfig();\r\n            if (app.PackDefine.APPLE_CHECK == clientConfig[\"appPackType\"]) return\r\n            app[app.subGameName + \"_FormManager\"]().ShowForm(\"UIStore\");\r\n            return;\r\n        }\r\n    },\r\n});\r\n"]}
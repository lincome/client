{"version":3,"sources":["UILSResultOne.js"],"names":["app","require","cc","Class","extends","subGameName","properties","pre_result","Node","frame","SpriteFrame","OnCreateInit","gameName","ZorderLv","ZorderLv6","layout","GetWndNode","btn_continue","RoomMgr","toUpperCase","Room","FormManager","ComTool","NetManager","HeroManager","SDKManager","RegEvent","Event_NewVersion","isNewVersion","OnShow","GetEnterRoom","GetRoomProperty","CloseForm","roomEnd","sRankingResult","CheckUpdate","roomCfg","GetRoomConfig","playerNameList","recordPosInfosList","AddPosInfoPre","ShowPlayerInfo","rankeds","pCard1","pCard2","pCard3","time","node","getChildByName","getComponent","Label","string","unscheduleAllCallbacks","schedule","timer","bind","playuissz","needDelayDiss","d","parseInt","OnClick","toString","removeAllChildren","playerNum","length","i","playerNode","instantiate","name","active","addChild","ShowSelf","point","RoomPosMgr","GetRoomPosMgr","ClientPos","GetClientPos","minPos","minScore","posInfo","player","GetPlayerInfoByPos","Sprite","spriteFrame","substring","pid","sportsPoint","path","SetWndProperty","GetPid","Math","floor","unionId","toFixed","headCom","GetWndComponent","onLoad","ShowHeroHead","children","push","dunCard","resetAngle","cards","index","posIdx","dunPos","first","concat","second","third","isSpecial","special","SetSpecailProperty","showCardType","card","ShowResultCard","btnName","btnNode","log","OnClick_Close","Click_btn_goon","Click_btn_qiepai","console","error"],"mappings":"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","file":"UILSResultOne.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\script\\game\\FJSSZ\\ui","sourcesContent":["var app = require(\"fjssz_app\");\r\ncc.Class({\r\n\textends: require(app.subGameName + \"_BaseForm\"),\r\n\r\n\tproperties: {\r\n\t\tpre_result: cc.Node,\r\n\t\tframe : cc.SpriteFrame,\r\n\t},\r\n\r\n\tOnCreateInit: function () {\r\n\t\tthis.gameName = app[\"subGameName\"];\r\n\t\tthis.ZorderLv = this.ZorderLv6;\r\n\t\tthis.layout = this.GetWndNode(\"playerAll\");\r\n\t\tthis.btn_continue = this.GetWndNode(\"btnList/btn_continue\");\r\n\r\n\t\tthis.RoomMgr = app[this.gameName.toUpperCase() + \"RoomMgr\"]();\r\n\t\tthis.Room = app[this.gameName.toUpperCase() + \"Room\"]();\r\n\t\tthis.FormManager = app[this.gameName + \"_FormManager\"]();\r\n\t\tthis.ComTool = app[this.gameName + \"_ComTool\"]();\r\n\t\tthis.NetManager = app[this.gameName + \"_NetManager\"]();\r\n\t\tthis.HeroManager = app[this.gameName + \"_HeroManager\"]();\r\n\t\tthis.SDKManager = app[this.gameName + \"_SDKManager\"]();\r\n\t\tthis.RegEvent(\"NewVersion\", this.Event_NewVersion, this);\r\n\t},\r\n\tEvent_NewVersion: function () {\r\n\t\tthis.isNewVersion = true;\r\n\t},\r\n\r\n\tOnShow: function () {\r\n\t\tthis.isNewVersion = false;\r\n\t\tif (!this.RoomMgr.GetEnterRoom().GetRoomProperty(\"resultInfo\")) {\r\n\t\t\tthis.CloseForm()\r\n\t\t\treturn\r\n\t\t}\r\n\t\tlet roomEnd = this.RoomMgr.GetEnterRoom().GetRoomProperty(\"resultInfo\").sRankingResult;\r\n\t\tif (!roomEnd) {\r\n\t\t\tthis.CloseForm()\r\n\t\t\treturn\r\n\t\t}\r\n\t\tapp[app.subGameName + \"_HotUpdateMgr\"]().CheckUpdate(); //检测客户端是否有新版本\r\n\t\tthis.roomCfg = this.RoomMgr.GetEnterRoom().GetRoomConfig();\r\n\t\tthis.playerNameList = [];\r\n\t\tlet recordPosInfosList = roomEnd[\"posResultList\"];\r\n\t\tthis.AddPosInfoPre(recordPosInfosList);\r\n\t\tthis.ShowPlayerInfo(recordPosInfosList, roomEnd.rankeds, roomEnd.pCard1, roomEnd.pCard2, roomEnd.pCard3);\r\n\t\t\r\n\t\tlet  time = this.node.getChildByName(\"clock\").getChildByName(\"time\")\r\n\t\ttime.getComponent(cc.Label).string = \"10\"\r\n\t\tthis.unscheduleAllCallbacks()\r\n\t\tthis.schedule(this.timer.bind(this), 1, 10, 1.0)\r\n\t\tif (app.playuissz) {\r\n\t\t\tapp.playuissz.needDelayDiss = false\r\n\t\t}\r\n\t},\r\n\ttimer(){\r\n\t\tlet time = this.node.getChildByName(\"clock\").getChildByName(\"time\")\r\n\t\tlet d = parseInt(time.getComponent(cc.Label).string)\r\n\t\td--\r\n\t\tif(d < 0){\r\n\t\t\tthis.unscheduleAllCallbacks()\r\n\t\t\td = 0\r\n\t\t\tthis.OnClick(\"btn_continue\", this.btn_continue)\r\n\t\t}\r\n\t\ttime.getComponent(cc.Label).string = d.toString()\r\n\t},\r\n\tAddPosInfoPre: function (recordPosInfosList) {\r\n\t\tthis.layout.removeAllChildren();\r\n\t\tlet playerNum = recordPosInfosList.length;\r\n\t\tfor (let i = 0; i < playerNum; i++) {\r\n\t\t\tlet playerNode = cc.instantiate(this.pre_result);\r\n\t\t\tplayerNode.name = \"resultDetail\" + i;\r\n\t\t\tplayerNode.active = false;\r\n\t\t\tthis.layout.addChild(playerNode);\r\n\t\t}\r\n\t\tthis.pre_result.active = false\r\n\t},\r\n\tShowSelf: function (point) {\r\n\t\tif (point >= 0) {\r\n\t\t\tthis.node.getChildByName(\"bg\").active = true\r\n\t\t\tthis.node.getChildByName(\"bg1\").active = false\r\n\t\t}\r\n\t\telse{\r\n\t\t\tthis.node.getChildByName(\"bg1\").active = true\r\n\t\t\tthis.node.getChildByName(\"bg\").active = false\r\n\t\t}\r\n\t},\r\n\tShowPlayerInfo: function (recordPosInfosList, rankeds,pCard1, pCard2, pCard3) {\r\n\t\tlet playerNum = recordPosInfosList.length;\r\n\t\tlet RoomPosMgr = this.RoomMgr.GetEnterRoom().GetRoomPosMgr()\r\n\t\tlet ClientPos = RoomPosMgr.GetClientPos();\r\n\t\tlet minPos = -1\r\n\t\tlet minScore = 111110;\r\n\t\tfor (let i = 0; i < playerNum; i++) {\r\n\t\t\tlet posInfo = recordPosInfosList[i];\r\n\t\t\tlet point = posInfo[\"point\"];\r\n\t\t\tlet player = RoomPosMgr.GetPlayerInfoByPos(posInfo[\"posIdx\"]);\r\n\t\t\tif (posInfo[\"posIdx\"] == ClientPos) {\r\n\t\t\t\tthis.ShowSelf(point)\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tthis.GetWndNode(\"playerAll/resultDetail\" + i).getComponent(cc.Sprite).spriteFrame = this.frame\r\n\t\t\t}\r\n\t\t\tif (point < minScore) {\r\n\t\t\t\tminScore = point\r\n\t\t\t\tminPos = posInfo[\"posIdx\"]\r\n\t\t\t}\r\n\t\t\tlet name = player[\"name\"].substring(0, 9);\r\n\t\t\tlet pid = player[\"pid\"];\r\n\t\t\tlet sportsPoint = posInfo[\"sportsPoint\"];\r\n\t\t\tlet path = \"playerAll/resultDetail\" + i + \"/user\";\r\n\t\t\tthis.SetWndProperty(path + \"/name\", \"text\", name);\r\n\t\t\tthis.SetWndProperty(path + \"/id\", \"text\", \"ID:\" + this.ComTool.GetPid(pid));\r\n\t\t\tpoint = Math.floor(point*100)/100\r\n\t\t\tsportsPoint = Math.floor(sportsPoint*100)/100\r\n\t\t\tif (point >= 0) {\r\n\t\t\t\tthis.SetWndProperty(path + \"/score_win\", \"active\", true);\r\n\t\t\t\tthis.SetWndProperty(path + \"/score_lose\", \"active\", false);\r\n\t\t\t\tthis.SetWndProperty(path + \"/score_win\", \"text\", \"+\" + point);\r\n\t\t\t} else {\r\n\t\t\t\tthis.SetWndProperty(path + \"/score_lose\", \"active\", true);\r\n\t\t\t\tthis.SetWndProperty(path + \"/score_win\", \"active\", false);\r\n\t\t\t\tthis.SetWndProperty(path + \"/score_lose\", \"text\", point);\r\n\t\t\t}\r\n\t\t\t//竞技点\r\n\t\t\t//如果是联盟的房间显示继续游戏按钮\r\n\t\t\tif (0 != this.roomCfg.unionId) {\r\n\t\t\t\tthis.SetWndProperty(path + \"/score_win\", \"active\", false);\r\n\t\t\t\tthis.SetWndProperty(path + \"/score_lose\", \"active\", false);\r\n\t\t\t\tthis.SetWndProperty(path + \"/img_bsf\", \"active\", true);\r\n\t\t\t\tif (posInfo[\"sportsPoint\"] >= 0) {\r\n\t\t\t\t\tthis.SetWndProperty(path + \"/img_bsf/lb_sportsPoint_win\", \"active\", true);\r\n\t\t\t\t\tthis.SetWndProperty(path + \"/img_bsf/lb_sportsPoint_lose\", \"active\", false);\r\n\t\t\t\t\tthis.SetWndProperty(path + \"/img_bsf/lb_sportsPoint_win\", \"text\", \"+\" + sportsPoint.toFixed(2));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.SetWndProperty(path + \"/img_bsf/lb_sportsPoint_win\", \"active\", false);\r\n\t\t\t\t\tthis.SetWndProperty(path + \"/img_bsf/lb_sportsPoint_lose\", \"active\", true);\r\n\t\t\t\t\tthis.SetWndProperty(path + \"/img_bsf/lb_sportsPoint_lose\", \"text\", sportsPoint.toFixed(2));\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.SetWndProperty(path + \"/img_bsf\", \"active\", false);\r\n\t\t\t}\r\n\r\n\t\t\tlet headCom = this.GetWndComponent(path + \"/head\", this.gameName + \"_WeChatHeadImage\");\r\n\t\t\theadCom.onLoad();\r\n\t\t\theadCom.ShowHeroHead(pid);\r\n\t\t\tthis.layout.children[i].active = true;\r\n\t\t\tthis.playerNameList.push(name);\r\n\r\n\t\t\tlet dunCard = this.node.getChildByName(\"playerAll\").getChildByName(\"resultDetail\" + i).getChildByName(\"UILSDunCards\")\r\n\t\t\tdunCard.getComponent(\"UILSDunCards\").resetAngle()\r\n\t\t\tlet cards = []\r\n\t\t\tfor (let index = 0; index < rankeds.length; index++) {\r\n\t\t\t\tif(rankeds[index].posIdx == posInfo[\"posIdx\"]){\r\n\t\t\t\t\tvar dunPos = rankeds[index].dunPos\r\n\t\t\t\t\tcards = dunPos.first.concat(dunPos.second).concat(dunPos.third)\r\n\t\t\t\t\tif(rankeds[index].isSpecial && rankeds[index].special > 0){\r\n\t\t\t\t\t\tapp.playuissz.SetSpecailProperty(dunCard.getChildByName(\"img_special\").getChildByName(\"special\"),rankeds[index].special)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfor (let index = 0; index < pCard2.length; index++) {\r\n\t\t\t\tif(pCard2[index].isSpecial) continue\r\n\t\t\t\tif(pCard2[index].posIdx == posInfo[\"posIdx\"]){\r\n\t\t\t\t\tdunCard.getComponent(\"UILSDunCards\").showCardType(1, pCard2[index].card)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfor (let index = 0; index < pCard1.length; index++) {\r\n\t\t\t\tif(pCard1[index].isSpecial) continue\r\n\t\t\t\tif(pCard1[index].posIdx == posInfo[\"posIdx\"]){\r\n\t\t\t\t\tdunCard.getComponent(\"UILSDunCards\").showCardType(0, pCard1[index].card)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfor (let index = 0; index < pCard3.length; index++) {\r\n\t\t\t\tif(pCard3[index].isSpecial) continue\r\n\t\t\t\tif(pCard3[index].posIdx == posInfo[\"posIdx\"]){\r\n\t\t\t\t\tdunCard.getComponent(\"UILSDunCards\").showCardType(2, pCard3[index].card)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfor (let i = 1; i <= 13; i++) {\r\n\t\t\t\tlet node = dunCard.getChildByName(\"dun_card\" + i)\r\n\t\t\t\tapp.playuissz.ShowResultCard(cards[i-1] || 0, node)\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.node.getChildByName(\"btnList\").getChildByName(\"btn_qiepai\").active = (ClientPos == minPos)\r\n\t},\r\n\t//-----------------回调函数------------------\r\n\r\n\t//---------点击函数---------------------\r\n\tOnClick: function (btnName, btnNode) {\r\n\t\tcc.log(btnName)\r\n\t\tif (btnName == \"btn_close\" || btnName == \"btn_exit\") {\r\n\t\t\tthis.OnClick_Close()\r\n\t\t} else if (btnName == \"btn_continue\") {\r\n\t\t\tif (app.playuissz) {\r\n\t\t\t\tapp.playuissz.Click_btn_goon()\r\n\t\t\t}\r\n\t\t\tthis.OnClick_Close()\r\n\t\t}else if (btnName == \"btn_qiepai\") {\r\n\t\t\tcc.log(\"切牌\")\r\n\t\t\tif (app.playuissz) {\r\n\t\t\t\tapp.playuissz.Click_btn_goon()\r\n\t\t\t\tapp.playuissz.Click_btn_qiepai()\r\n\t\t\t}\r\n\t\t\tthis.OnClick_Close()\r\n\t\t} else {\r\n\t\t\tconsole.error(\"OnClick(%s) not find btnName\", btnName);\r\n\t\t}\r\n\t},\r\n});"]}
{"version":3,"sources":["fjssz_UIXiPai.js"],"names":["app","require","cc","Class","extends","subGameName","properties","OnCreateInit","ZorderLv","ZorderLv9","ani_blue","node","getChildByName","ani_red","IsShow","getComponent","Animation","on","OnXiPaiFinished","OnShow","xiPaiList","GetXiPaiList","length","name","ShowSysMsg","RemoveOneXiPaiPlayer","StartXiPai","event","CloseForm","active","play","OnClose"],"mappings":";;;;;;AAAA;;;;AAIA,IAAIA,MAAMC,QAAQ,WAAR,CAAV;;AAEAC,GAAGC,KAAH,CAAS;AACRC,UAASH,QAAQD,IAAIK,WAAJ,GAAkB,WAA1B,CADD;;AAGRC,aAAY,EAHJ;;AAKR;AACAC,eAAc,wBAAY;AACzB,OAAKC,QAAL,GAAgB,KAAKC,SAArB;AACA,OAAKC,QAAL,GAAgB,KAAKC,IAAL,CAAUC,cAAV,CAAyB,WAAzB,CAAhB;AACA,OAAKC,OAAL,GAAe,KAAKF,IAAL,CAAUC,cAAV,CAAyB,UAAzB,CAAf;;AAEA,OAAKE,MAAL,GAAc,KAAd;;AAEA,OAAKJ,QAAL,CAAcK,YAAd,CAA2Bb,GAAGc,SAA9B,EAAyCC,EAAzC,CAA4C,UAA5C,EAAwD,KAAKC,eAA7D,EAA8E,IAA9E;AACA,OAAKL,OAAL,CAAaE,YAAb,CAA0Bb,GAAGc,SAA7B,EAAwCC,EAAxC,CAA2C,UAA3C,EAAuD,KAAKC,eAA5D,EAA6E,IAA7E;AACA,EAfO;;AAiBRC,SAAQ,kBAAY;AACnB,MAAI,KAAKL,MAAT,EAAiB;AAChB;AACA;AACD,OAAKA,MAAL,GAAc,IAAd;AACA,MAAIM,YAAYpB,IAAIA,IAAIK,WAAJ,GAAkB,cAAtB,IAAwCgB,YAAxC,EAAhB;AACA,MAAI,KAAKD,UAAUE,MAAnB,EAA2B;AAC1B,OAAIC,OAAOH,UAAU,CAAV,CAAX;AACApB,OAAIA,IAAIK,WAAJ,GAAkB,mBAAtB,IAA6CmB,UAA7C,CAAwD,mBAAxD,EAA6E,CAACD,IAAD,CAA7E;AACAvB,OAAIA,IAAIK,WAAJ,GAAkB,cAAtB,IAAwCoB,oBAAxC;AACA;AACD,OAAKC,UAAL;AACA,EA7BO;;AA+BRR,kBAAiB,yBAAUS,KAAV,EAAiB;AACjC,MAAIP,YAAYpB,IAAIA,IAAIK,WAAJ,GAAkB,cAAtB,IAAwCgB,YAAxC,EAAhB;AACA,MAAI,KAAKD,UAAUE,MAAnB,EAA2B;AAC1B,OAAIC,OAAOH,UAAU,CAAV,CAAX;AACApB,OAAIA,IAAIK,WAAJ,GAAkB,mBAAtB,IAA6CmB,UAA7C,CAAwD,mBAAxD,EAA6E,CAACD,IAAD,CAA7E;AACAvB,OAAIA,IAAIK,WAAJ,GAAkB,cAAtB,IAAwCoB,oBAAxC;AACA,QAAKC,UAAL;AACA,GALD,MAOC,KAAKE,SAAL;AACD,EAzCO;AA0CRF,aAAY,sBAAY;AACvB,OAAKb,OAAL,CAAagB,MAAb,GAAsB,KAAtB;AACA,OAAKnB,QAAL,CAAcmB,MAAd,GAAuB,IAAvB;AACA,OAAKnB,QAAL,CAAcK,YAAd,CAA2Bb,GAAGc,SAA9B,EAAyCc,IAAzC;AACA,EA9CO;AA+CRC,UAAS,mBAAY;AACpB,OAAKjB,MAAL,GAAc,KAAd;AACA;AAjDO,CAAT","file":"fjssz_UIXiPai.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\script\\game\\FJSSZ","sourcesContent":["/*\r\n UICard01 卡牌显示逻辑\r\n */\r\n\r\nlet app = require(\"fjssz_app\");\r\n\r\ncc.Class({\r\n\textends: require(app.subGameName + \"_BaseForm\"),\r\n\r\n\tproperties: {},\r\n\r\n\t// use this for initialization\r\n\tOnCreateInit: function () {\r\n\t\tthis.ZorderLv = this.ZorderLv9;\r\n\t\tthis.ani_blue = this.node.getChildByName(\"node_blue\");\r\n\t\tthis.ani_red = this.node.getChildByName(\"node_red\");\r\n\r\n\t\tthis.IsShow = false;\r\n\r\n\t\tthis.ani_blue.getComponent(cc.Animation).on('finished', this.OnXiPaiFinished, this);\r\n\t\tthis.ani_red.getComponent(cc.Animation).on('finished', this.OnXiPaiFinished, this);\r\n\t},\r\n\r\n\tOnShow: function () {\r\n\t\tif (this.IsShow) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.IsShow = true;\r\n\t\tlet xiPaiList = app[app.subGameName + \"_GameManager\"]().GetXiPaiList();\r\n\t\tif (0 != xiPaiList.length) {\r\n\t\t\tlet name = xiPaiList[0];\r\n\t\t\tapp[app.subGameName + \"_SysNotifyManager\"]().ShowSysMsg('SSS_XIPAI_SUCCESS', [name]);\r\n\t\t\tapp[app.subGameName + \"_GameManager\"]().RemoveOneXiPaiPlayer();\r\n\t\t}\r\n\t\tthis.StartXiPai();\r\n\t},\r\n\r\n\tOnXiPaiFinished: function (event) {\r\n\t\tlet xiPaiList = app[app.subGameName + \"_GameManager\"]().GetXiPaiList();\r\n\t\tif (0 != xiPaiList.length) {\r\n\t\t\tlet name = xiPaiList[0];\r\n\t\t\tapp[app.subGameName + \"_SysNotifyManager\"]().ShowSysMsg('SSS_XIPAI_SUCCESS', [name]);\r\n\t\t\tapp[app.subGameName + \"_GameManager\"]().RemoveOneXiPaiPlayer();\r\n\t\t\tthis.StartXiPai();\r\n\t\t}\r\n\t\telse\r\n\t\t\tthis.CloseForm();\r\n\t},\r\n\tStartXiPai: function () {\r\n\t\tthis.ani_red.active = false;\r\n\t\tthis.ani_blue.active = true;\r\n\t\tthis.ani_blue.getComponent(cc.Animation).play();\r\n\t},\r\n\tOnClose: function () {\r\n\t\tthis.IsShow = false;\r\n\t},\r\n});\r\n"]}